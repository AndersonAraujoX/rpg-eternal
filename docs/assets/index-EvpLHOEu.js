(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))o(m);new MutationObserver(m=>{for(const u of m)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function d(m){const u={};return m.integrity&&(u.integrity=m.integrity),m.referrerPolicy&&(u.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?u.credentials="include":m.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(m){if(m.ep)return;m.ep=!0;const u=d(m);fetch(m.href,u)}})();function Lp(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var rd={exports:{}},$i={};var em;function Bp(){if(em)return $i;em=1;var c=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function d(o,m,u){var h=null;if(u!==void 0&&(h=""+u),m.key!==void 0&&(h=""+m.key),"key"in m){u={};for(var b in m)b!=="key"&&(u[b]=m[b])}else u=m;return m=u.ref,{$$typeof:c,type:o,key:h,ref:m!==void 0?m:null,props:u}}return $i.Fragment=f,$i.jsx=d,$i.jsxs=d,$i}var tm;function Gp(){return tm||(tm=1,rd.exports=Bp()),rd.exports}var l=Gp(),od={exports:{}},He={};var am;function Vp(){if(am)return He;am=1;var c=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),y=Symbol.iterator;function v(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function M(w,L,K){this.props=w,this.context=L,this.refs=q,this.updater=K||_}M.prototype.isReactComponent={},M.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},M.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function O(){}O.prototype=M.prototype;function P(w,L,K){this.props=w,this.context=L,this.refs=q,this.updater=K||_}var ye=P.prototype=new O;ye.constructor=P,H(ye,M.prototype),ye.isPureReactComponent=!0;var Ee=Array.isArray;function ge(){}var I={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function ce(w,L,K){var se=K.ref;return{$$typeof:c,type:w,key:L,ref:se!==void 0?se:null,props:K}}function be(w,L){return ce(w.type,L,w.props)}function Me(w){return typeof w=="object"&&w!==null&&w.$$typeof===c}function Ge(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return L[K]})}var mt=/\/+/g;function Fe(w,L){return typeof w=="object"&&w!==null&&w.key!=null?Ge(""+w.key):L.toString(36)}function xe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ge,ge):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function B(w,L,K,se,pe){var ve=typeof w;(ve==="undefined"||ve==="boolean")&&(w=null);var De=!1;if(w===null)De=!0;else switch(ve){case"bigint":case"string":case"number":De=!0;break;case"object":switch(w.$$typeof){case c:case f:De=!0;break;case j:return De=w._init,B(De(w._payload),L,K,se,pe)}}if(De)return pe=pe(w),De=se===""?"."+Fe(w,0):se,Ee(pe)?(K="",De!=null&&(K=De.replace(mt,"$&/")+"/"),B(pe,L,K,"",function(Ie){return Ie})):pe!=null&&(Me(pe)&&(pe=be(pe,K+(pe.key==null||w&&w.key===pe.key?"":(""+pe.key).replace(mt,"$&/")+"/")+De)),L.push(pe)),1;De=0;var Ke=se===""?".":se+":";if(Ee(w))for(var Ne=0;Ne<w.length;Ne++)se=w[Ne],ve=Ke+Fe(se,Ne),De+=B(se,L,K,ve,pe);else if(Ne=v(w),typeof Ne=="function")for(w=Ne.call(w),Ne=0;!(se=w.next()).done;)se=se.value,ve=Ke+Fe(se,Ne++),De+=B(se,L,K,ve,pe);else if(ve==="object"){if(typeof w.then=="function")return B(xe(w),L,K,se,pe);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(w,L,K){if(w==null)return w;var se=[],pe=0;return B(w,se,"","",function(ve){return L.call(K,ve,pe++)}),se}function re(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var ke=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ce={map:Z,forEach:function(w,L,K){Z(w,function(){L.apply(this,arguments)},K)},count:function(w){var L=0;return Z(w,function(){L++}),L},toArray:function(w){return Z(w,function(L){return L})||[]},only:function(w){if(!Me(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return He.Activity=N,He.Children=Ce,He.Component=M,He.Fragment=d,He.Profiler=m,He.PureComponent=P,He.StrictMode=o,He.Suspense=g,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,He.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},He.cache=function(w){return function(){return w.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(w,L,K){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var se=H({},w.props),pe=w.key;if(L!=null)for(ve in L.key!==void 0&&(pe=""+L.key),L)!le.call(L,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&L.ref===void 0||(se[ve]=L[ve]);var ve=arguments.length-2;if(ve===1)se.children=K;else if(1<ve){for(var De=Array(ve),Ke=0;Ke<ve;Ke++)De[Ke]=arguments[Ke+2];se.children=De}return ce(w.type,pe,se)},He.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},He.createElement=function(w,L,K){var se,pe={},ve=null;if(L!=null)for(se in L.key!==void 0&&(ve=""+L.key),L)le.call(L,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=L[se]);var De=arguments.length-2;if(De===1)pe.children=K;else if(1<De){for(var Ke=Array(De),Ne=0;Ne<De;Ne++)Ke[Ne]=arguments[Ne+2];pe.children=Ke}if(w&&w.defaultProps)for(se in De=w.defaultProps,De)pe[se]===void 0&&(pe[se]=De[se]);return ce(w,ve,pe)},He.createRef=function(){return{current:null}},He.forwardRef=function(w){return{$$typeof:b,render:w}},He.isValidElement=Me,He.lazy=function(w){return{$$typeof:j,_payload:{_status:-1,_result:w},_init:re}},He.memo=function(w,L){return{$$typeof:p,type:w,compare:L===void 0?null:L}},He.startTransition=function(w){var L=I.T,K={};I.T=K;try{var se=w(),pe=I.S;pe!==null&&pe(K,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ge,ke)}catch(ve){ke(ve)}finally{L!==null&&K.types!==null&&(L.types=K.types),I.T=L}},He.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},He.use=function(w){return I.H.use(w)},He.useActionState=function(w,L,K){return I.H.useActionState(w,L,K)},He.useCallback=function(w,L){return I.H.useCallback(w,L)},He.useContext=function(w){return I.H.useContext(w)},He.useDebugValue=function(){},He.useDeferredValue=function(w,L){return I.H.useDeferredValue(w,L)},He.useEffect=function(w,L){return I.H.useEffect(w,L)},He.useEffectEvent=function(w){return I.H.useEffectEvent(w)},He.useId=function(){return I.H.useId()},He.useImperativeHandle=function(w,L,K){return I.H.useImperativeHandle(w,L,K)},He.useInsertionEffect=function(w,L){return I.H.useInsertionEffect(w,L)},He.useLayoutEffect=function(w,L){return I.H.useLayoutEffect(w,L)},He.useMemo=function(w,L){return I.H.useMemo(w,L)},He.useOptimistic=function(w,L){return I.H.useOptimistic(w,L)},He.useReducer=function(w,L,K){return I.H.useReducer(w,L,K)},He.useRef=function(w){return I.H.useRef(w)},He.useState=function(w){return I.H.useState(w)},He.useSyncExternalStore=function(w,L,K){return I.H.useSyncExternalStore(w,L,K)},He.useTransition=function(){return I.H.useTransition()},He.version="19.2.3",He}var lm;function Nd(){return lm||(lm=1,od.exports=Vp()),od.exports}var z=Nd();const Ta=Lp(z);var cd={exports:{}},Yi={},dd={exports:{}},ud={};var sm;function Xp(){return sm||(sm=1,(function(c){function f(B,Z){var re=B.length;B.push(Z);e:for(;0<re;){var ke=re-1>>>1,Ce=B[ke];if(0<m(Ce,Z))B[ke]=Z,B[re]=Ce,re=ke;else break e}}function d(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var Z=B[0],re=B.pop();if(re!==Z){B[0]=re;e:for(var ke=0,Ce=B.length,w=Ce>>>1;ke<w;){var L=2*(ke+1)-1,K=B[L],se=L+1,pe=B[se];if(0>m(K,re))se<Ce&&0>m(pe,K)?(B[ke]=pe,B[se]=re,ke=se):(B[ke]=K,B[L]=re,ke=L);else if(se<Ce&&0>m(pe,re))B[ke]=pe,B[se]=re,ke=se;else break e}}return Z}function m(B,Z){var re=B.sortIndex-Z.sortIndex;return re!==0?re:B.id-Z.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;c.unstable_now=function(){return u.now()}}else{var h=Date,b=h.now();c.unstable_now=function(){return h.now()-b}}var g=[],p=[],j=1,N=null,y=3,v=!1,_=!1,H=!1,q=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function ye(B){for(var Z=d(p);Z!==null;){if(Z.callback===null)o(p);else if(Z.startTime<=B)o(p),Z.sortIndex=Z.expirationTime,f(g,Z);else break;Z=d(p)}}function Ee(B){if(H=!1,ye(B),!_)if(d(g)!==null)_=!0,ge||(ge=!0,Ge());else{var Z=d(p);Z!==null&&xe(Ee,Z.startTime-B)}}var ge=!1,I=-1,le=5,ce=-1;function be(){return q?!0:!(c.unstable_now()-ce<le)}function Me(){if(q=!1,ge){var B=c.unstable_now();ce=B;var Z=!0;try{e:{_=!1,H&&(H=!1,O(I),I=-1),v=!0;var re=y;try{t:{for(ye(B),N=d(g);N!==null&&!(N.expirationTime>B&&be());){var ke=N.callback;if(typeof ke=="function"){N.callback=null,y=N.priorityLevel;var Ce=ke(N.expirationTime<=B);if(B=c.unstable_now(),typeof Ce=="function"){N.callback=Ce,ye(B),Z=!0;break t}N===d(g)&&o(g),ye(B)}else o(g);N=d(g)}if(N!==null)Z=!0;else{var w=d(p);w!==null&&xe(Ee,w.startTime-B),Z=!1}}break e}finally{N=null,y=re,v=!1}Z=void 0}}finally{Z?Ge():ge=!1}}}var Ge;if(typeof P=="function")Ge=function(){P(Me)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Fe=mt.port2;mt.port1.onmessage=Me,Ge=function(){Fe.postMessage(null)}}else Ge=function(){M(Me,0)};function xe(B,Z){I=M(function(){B(c.unstable_now())},Z)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(B){B.callback=null},c.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<B?Math.floor(1e3/B):5},c.unstable_getCurrentPriorityLevel=function(){return y},c.unstable_next=function(B){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var re=y;y=Z;try{return B()}finally{y=re}},c.unstable_requestPaint=function(){q=!0},c.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=y;y=B;try{return Z()}finally{y=re}},c.unstable_scheduleCallback=function(B,Z,re){var ke=c.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ke+re:ke):re=ke,B){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=re+Ce,B={id:j++,callback:Z,priorityLevel:B,startTime:re,expirationTime:Ce,sortIndex:-1},re>ke?(B.sortIndex=re,f(p,B),d(g)===null&&B===d(p)&&(H?(O(I),I=-1):H=!0,xe(Ee,re-ke))):(B.sortIndex=Ce,f(g,B),_||v||(_=!0,ge||(ge=!0,Ge()))),B},c.unstable_shouldYield=be,c.unstable_wrapCallback=function(B){var Z=y;return function(){var re=y;y=Z;try{return B.apply(this,arguments)}finally{y=re}}}})(ud)),ud}var nm;function qp(){return nm||(nm=1,dd.exports=Xp()),dd.exports}var fd={exports:{}},da={};var im;function $p(){if(im)return da;im=1;var c=Nd();function f(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)p+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(f(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function u(g,p,j){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:N==null?null:""+N,children:g,containerInfo:p,implementation:j}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return da.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,da.createPortal=function(g,p){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(f(299));return u(g,p,null,j)},da.flushSync=function(g){var p=h.T,j=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=j,o.d.f()}},da.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},da.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},da.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var j=p.as,N=b(j,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;j==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:N,integrity:y,fetchPriority:v}):j==="script"&&o.d.X(g,{crossOrigin:N,integrity:y,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},da.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var j=b(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},da.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var j=p.as,N=b(j,p.crossOrigin);o.d.L(g,j,{crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},da.preloadModule=function(g,p){if(typeof g=="string")if(p){var j=b(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},da.requestFormReset=function(g){o.d.r(g)},da.unstable_batchedUpdates=function(g,p){return g(p)},da.useFormState=function(g,p,j){return h.H.useFormState(g,p,j)},da.useFormStatus=function(){return h.H.useHostTransitionStatus()},da.version="19.2.3",da}var rm;function Yp(){if(rm)return fd.exports;rm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(f){console.error(f)}}return c(),fd.exports=$p(),fd.exports}var om;function Qp(){if(om)return Yi;om=1;var c=qp(),f=Nd(),d=Yp();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return g(n),e;if(i===s)return g(n),t;i=i.sibling}throw Error(o(188))}if(a.return!==s.return)a=n,s=i;else{for(var r=!1,x=n.child;x;){if(x===a){r=!0,a=n,s=i;break}if(x===s){r=!0,s=n,a=i;break}x=x.sibling}if(!r){for(x=i.child;x;){if(x===a){r=!0,a=i,s=n;break}if(x===s){r=!0,s=i,a=n;break}x=x.sibling}if(!r)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=Me&&e[Me]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===mt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case M:return"Profiler";case q:return"StrictMode";case Ee:return"Suspense";case ge:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case P:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:Fe(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return Fe(e(t))}catch{}}return null}var xe=Array.isArray,B=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ke=[],Ce=-1;function w(e){return{current:e}}function L(e){0>Ce||(e.current=ke[Ce],ke[Ce]=null,Ce--)}function K(e,t){Ce++,ke[Ce]=e.current,e.current=t}var se=w(null),pe=w(null),ve=w(null),De=w(null);function Ke(e,t){switch(K(ve,t),K(pe,e),K(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wf(t),e=Sf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(se),K(se,e)}function Ne(){L(se),L(pe),L(ve)}function Ie(e){e.memoizedState!==null&&K(De,e);var t=se.current,a=Sf(t,e.type);t!==a&&(K(pe,e),K(se,a))}function it(e){pe.current===e&&(L(se),L(pe)),De.current===e&&(L(De),Gi._currentValue=re)}var yt,Dt;function xt(e){if(yt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);yt=t&&t[1]||"",Dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+e+Dt}var Qt=!1;function Le(e,t){if(!e||Qt)return"";Qt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(X){var G=X}Reflect.construct(e,[],J)}else{try{J.call()}catch(X){G=X}e.call(J.prototype)}}else{try{throw Error()}catch(X){G=X}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),r=i[0],x=i[1];if(r&&x){var S=r.split(`
`),U=x.split(`
`);for(n=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;n<U.length&&!U[n].includes("DetermineComponentFrameRoot");)n++;if(s===S.length||n===U.length)for(s=S.length-1,n=U.length-1;1<=s&&0<=n&&S[s]!==U[n];)n--;for(;1<=s&&0<=n;s--,n--)if(S[s]!==U[n]){if(s!==1||n!==1)do if(s--,n--,0>n||S[s]!==U[n]){var Q=`
`+S[s].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=s&&0<=n);break}}}finally{Qt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?xt(a):""}function tt(e,t){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==t&&t!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Le(e.type,!1);case 11:return Le(e.type.render,!1);case 1:return Le(e.type,!0);case 31:return xt("Activity");default:return""}}function Pe(e){try{var t="",a=null;do t+=tt(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var vt=Object.prototype.hasOwnProperty,Ft=c.unstable_scheduleCallback,At=c.unstable_cancelCallback,Ya=c.unstable_shouldYield,ga=c.unstable_requestPaint,pt=c.unstable_now,ua=c.unstable_getCurrentPriorityLevel,Rl=c.unstable_ImmediatePriority,bl=c.unstable_UserBlockingPriority,za=c.unstable_NormalPriority,al=c.unstable_LowPriority,ds=c.unstable_IdlePriority,qs=c.log,yl=c.unstable_setDisableYieldValue,ba=null,Je=null;function na(e){if(typeof qs=="function"&&yl(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(ba,e)}catch{}}var Gt=Math.clz32?Math.clz32:us,$s=Math.log,Ul=Math.LN2;function us(e){return e>>>=0,e===0?32:31-($s(e)/Ul|0)|0}var ia=256,ll=262144,sl=4194304;function ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function va(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~i,s!==0?n=ya(s):(r&=x,r!==0?n=ya(r):a||(a=x&~e,a!==0&&(n=ya(a))))):(x=s&~i,x!==0?n=ya(x):r!==0?n=ya(r):a||(a=s&~e,a!==0&&(n=ya(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function nl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ll(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ne(){var e=sl;return sl<<=1,(sl&62914560)===0&&(sl=4194304),e}function vl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function fa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tt(e,t,a,s,n,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,U=e.hiddenUpdates;for(a=r&~a;0<a;){var Q=31-Gt(a),J=1<<Q;x[Q]=0,S[Q]=-1;var G=U[Q];if(G!==null)for(U[Q]=null,Q=0;Q<G.length;Q++){var X=G[Q];X!==null&&(X.lane&=-536870913)}a&=~J}s!==0&&te(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function te(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Gt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function at(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Gt(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function rt(e,t){var a=t&-t;return a=(a&42)!==0?1:ue(a),(a&(e.suspendedLanes|t))!==0?0:a}function ue(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function We(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jt(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Kf(e.type))}function ja(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var ra=Math.random().toString(36).slice(2),bt="__reactFiber$"+ra,Jt="__reactProps$"+ra,Ea="__reactContainer$"+ra,Ha="__reactEvents$"+ra,Ys="__reactListeners$"+ra,fs="__reactHandles$"+ra,Bl="__reactResources$"+ra,_t="__reactMarker$"+ra;function Pt(e){delete e[bt],delete e[Jt],delete e[Ha],delete e[Ys],delete e[fs]}function Qa(e){var t=e[bt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ea]||a[bt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=_f(e);e!==null;){if(a=e[bt])return a;e=_f(e)}return t}e=a,a=e.parentNode}return null}function il(e){if(e=e[bt]||e[Ea]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Na(e){var t=e[Bl];return t||(t=e[Bl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[_t]=!0}var jl=new Set,Nl={};function ma(e,t){ol(e,t),ol(e+"Capture",t)}function ol(e,t){for(Nl[e]=t,e=0;e<t.length;e++)jl.add(t[e])}var ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qs={},wl={};function li(e){return vt.call(wl,e)?!0:vt.call(Qs,e)?!1:ms.test(e)?wl[e]=!0:(Qs[e]=!0,!1)}function Oa(e,t,a){if(li(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function xs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function oa(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function xa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function si(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sl(e){if(!e._valueTracker){var t=pa(e)?"checked":"value";e._valueTracker=si(e,t,""+e[t])}}function pn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=pa(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ni=/[\n"\\]/g;function Wt(e){return e.replace(ni,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ks(e,t,a,s,n,i,r,x){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xa(t)):e.value!==""+xa(t)&&(e.value=""+xa(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Zs(e,r,xa(t)):a!=null?Zs(e,r,xa(a)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+xa(x):e.removeAttribute("name")}function Ml(e,t,a,s,n,i,r,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Sl(e);return}a=a!=null?""+xa(a):"",t=t!=null?""+xa(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Sl(e)}function Zs(e,t,a){t==="number"&&cl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ra(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+xa(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function hn(e,t,a){if(t!=null&&(t=""+xa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+xa(a):""}function Gl(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(o(92));if(xe(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=xa(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Sl(e)}function kl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||ps.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function dl(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Fs(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&Fs(e,i,t[i])}function hs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function T(e){return C.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function k(){}var A=null;function $(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ae=null,he=null;function Be(e){var t=il(e);if(t&&(e=t.stateNode)){var a=e[Jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ks(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[Jt]||null;if(!n)throw Error(o(90));Ks(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&pn(s)}break e;case"textarea":hn(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ra(e,!!a.multiple,t,!1)}}}var Ve=!1;function zt(e,t,a){if(Ve)return e(t,a);Ve=!0;try{var s=e(t);return s}finally{if(Ve=!1,(ae!==null||he!==null)&&(Rr(),ae&&(t=ae,e=he,he=ae=null,Be(t),e)))for(t=0;t<e.length;t++)Be(e[t])}}function Vl(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Jt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(ea)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch{Js=!1}var _e=null,ca=null,Dl=null;function Al(){if(Dl)return Dl;var e,t=ca,a=t.length,s,n="value"in _e?_e.value:_e.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(s=1;s<=r&&t[a-s]===n[i-s];s++);return Dl=n.slice(e,1<s?1-s:void 0)}function gs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function gn(){return!1}function Kt(e){function t(a,s,n,i,r){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xl:gn,this.isPropagationStopped=gn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Kt(wa),Ka=N({},wa,{view:0,detail:0}),Sa=Kt(Ka),ul,Tl,$l,Yl=N({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$l&&($l&&e.type==="mousemove"?(ul=e.screenX-$l.screenX,Tl=e.screenY-$l.screenY):Tl=ul=0,$l=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),Ws=Kt(Yl),bs=N({},Yl,{dataTransfer:0}),bn=Kt(bs),wt=N({},Ka,{relatedTarget:0}),Ct=Kt(wt),Et=N({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),ii=Kt(Et),fl=N({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pi=Kt(fl),er=N({},wa,{data:0}),uo=Kt(er),Cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ie(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W[e])?!!t[e]:!1}function Te(){return ie}var ze=N({},Ka,{key:function(e){if(e.key){var t=Cd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y=Kt(ze),de=N({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),et=Kt(de),Oe=N({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),ht=Kt(Oe),Vt=N({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),yn=Kt(Vt),Ht=N({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=Kt(Ht),sx=N({},wa,{newState:0,oldState:0}),nx=Kt(sx),ix=[9,13,27,32],mo=ea&&"CompositionEvent"in window,ri=null;ea&&"documentMode"in document&&(ri=document.documentMode);var rx=ea&&"TextEvent"in window&&!ri,Dd=ea&&(!mo||ri&&8<ri&&11>=ri),Ad=" ",Td=!1;function _d(e,t){switch(e){case"keyup":return ix.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function ox(e,t){switch(e){case"compositionend":return zd(t);case"keypress":return t.which!==32?null:(Td=!0,Ad);case"textInput":return e=t.data,e===Ad&&Td?null:e;default:return null}}function cx(e,t){if(vn)return e==="compositionend"||!mo&&_d(e,t)?(e=Al(),Dl=ca=_e=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dd&&t.locale!=="ko"?null:t.data;default:return null}}var dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dx[e.type]:t==="textarea"}function Hd(e,t,a,s){ae?he?he.push(s):he=[s]:ae=s,t=qr(t,"onChange"),0<t.length&&(a=new ql("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var oi=null,ci=null;function ux(e){gf(e,0)}function tr(e){var t=rl(e);if(pn(t))return e}function Od(e,t){if(e==="change")return t}var Rd=!1;if(ea){var xo;if(ea){var po="oninput"in document;if(!po){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),po=typeof Ud.oninput=="function"}xo=po}else xo=!1;Rd=xo&&(!document.documentMode||9<document.documentMode)}function Ld(){oi&&(oi.detachEvent("onpropertychange",Bd),ci=oi=null)}function Bd(e){if(e.propertyName==="value"&&tr(ci)){var t=[];Hd(t,ci,e,$(e)),zt(ux,t)}}function fx(e,t,a){e==="focusin"?(Ld(),oi=t,ci=a,oi.attachEvent("onpropertychange",Bd)):e==="focusout"&&Ld()}function mx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(ci)}function xx(e,t){if(e==="click")return tr(t)}function px(e,t){if(e==="input"||e==="change")return tr(t)}function hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ua=typeof Object.is=="function"?Object.is:hx;function di(e,t){if(Ua(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!vt.call(t,n)||!Ua(e[n],t[n]))return!1}return!0}function Gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vd(e,t){var a=Gd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gd(a)}}function Xd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=cl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=cl(e.document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gx=ea&&"documentMode"in document&&11>=document.documentMode,jn=null,go=null,ui=null,bo=!1;function $d(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bo||jn==null||jn!==cl(s)||(s=jn,"selectionStart"in s&&ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ui&&di(ui,s)||(ui=s,s=qr(go,"onSelect"),0<s.length&&(t=new ql("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=jn)))}function Is(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nn={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},yo={},Yd={};ea&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Ps(e){if(yo[e])return yo[e];if(!Nn[e])return e;var t=Nn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Yd)return yo[e]=t[a];return e}var Qd=Ps("animationend"),Kd=Ps("animationiteration"),Zd=Ps("animationstart"),bx=Ps("transitionrun"),yx=Ps("transitionstart"),vx=Ps("transitioncancel"),Fd=Ps("transitionend"),Jd=new Map,vo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vo.push("scrollEnd");function ml(e,t){Jd.set(e,t),ma(t,[e])}var ar=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Za=[],wn=0,jo=0;function lr(){for(var e=wn,t=jo=wn=0;t<e;){var a=Za[t];Za[t++]=null;var s=Za[t];Za[t++]=null;var n=Za[t];Za[t++]=null;var i=Za[t];if(Za[t++]=null,s!==null&&n!==null){var r=s.pending;r===null?n.next=n:(n.next=r.next,r.next=n),s.pending=n}i!==0&&Wd(a,n,i)}}function sr(e,t,a,s){Za[wn++]=e,Za[wn++]=t,Za[wn++]=a,Za[wn++]=s,jo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function No(e,t,a,s){return sr(e,t,a,s),nr(e)}function en(e,t){return sr(e,null,null,t),nr(e)}function Wd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,s=i.alternate,s!==null&&(s.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Gt(a),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),i):null}function nr(e){if(50<Ei)throw Ei=0,_c=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Sn={};function jx(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(e,t,a,s){return new jx(e,t,a,s)}function wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ql(e,t){var a=e.alternate;return a===null?(a=La(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Id(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ir(e,t,a,s,n,i){var r=0;if(s=e,typeof e=="function")wo(e)&&(r=1);else if(typeof e=="string")r=kp(e,a,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=La(31,a,t,n),e.elementType=ce,e.lanes=i,e;case H:return tn(a.children,n,i,t);case q:r=8,n|=24;break;case M:return e=La(12,a,t,n|2),e.elementType=M,e.lanes=i,e;case Ee:return e=La(13,a,t,n),e.elementType=Ee,e.lanes=i,e;case ge:return e=La(19,a,t,n),e.elementType=ge,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:r=10;break e;case O:r=9;break e;case ye:r=11;break e;case I:r=14;break e;case le:r=16,s=null;break e}r=29,a=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=La(r,a,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function tn(e,t,a,s){return e=La(7,e,s,t),e.lanes=a,e}function So(e,t,a){return e=La(6,e,null,t),e.lanes=a,e}function Pd(e){var t=La(18,null,null,0);return t.stateNode=e,t}function Mo(e,t,a){return t=La(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var e0=new WeakMap;function Fa(e,t){if(typeof e=="object"&&e!==null){var a=e0.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Pe(t)},e0.set(e,t),t)}return{value:e,source:t,stack:Pe(t)}}var Mn=[],kn=0,rr=null,fi=0,Ja=[],Wa=0,ys=null,_l=1,zl="";function Kl(e,t){Mn[kn++]=fi,Mn[kn++]=rr,rr=e,fi=t}function t0(e,t,a){Ja[Wa++]=_l,Ja[Wa++]=zl,Ja[Wa++]=ys,ys=e;var s=_l;e=zl;var n=32-Gt(s)-1;s&=~(1<<n),a+=1;var i=32-Gt(t)+n;if(30<i){var r=n-n%5;i=(s&(1<<r)-1).toString(32),s>>=r,n-=r,_l=1<<32-Gt(t)+n|a<<n|s,zl=i+e}else _l=1<<i|a<<n|s,zl=e}function ko(e){e.return!==null&&(Kl(e,1),t0(e,1,0))}function Co(e){for(;e===rr;)rr=Mn[--kn],Mn[kn]=null,fi=Mn[--kn],Mn[kn]=null;for(;e===ys;)ys=Ja[--Wa],Ja[Wa]=null,zl=Ja[--Wa],Ja[Wa]=null,_l=Ja[--Wa],Ja[Wa]=null}function a0(e,t){Ja[Wa++]=_l,Ja[Wa++]=zl,Ja[Wa++]=ys,_l=t.id,zl=t.overflow,ys=e}var ta=null,St=null,Ze=!1,vs=null,Ia=!1,Do=Error(o(519));function js(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mi(Fa(t,e)),Do}function l0(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[bt]=e,t[Jt]=s,a){case"dialog":$e("cancel",t),$e("close",t);break;case"iframe":case"object":case"embed":$e("load",t);break;case"video":case"audio":for(a=0;a<Oi.length;a++)$e(Oi[a],t);break;case"source":$e("error",t);break;case"img":case"image":case"link":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"input":$e("invalid",t),Ml(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":$e("invalid",t);break;case"textarea":$e("invalid",t),Gl(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||jf(t.textContent,a)?(s.popover!=null&&($e("beforetoggle",t),$e("toggle",t)),s.onScroll!=null&&$e("scroll",t),s.onScrollEnd!=null&&$e("scrollend",t),s.onClick!=null&&(t.onclick=k),t=!0):t=!1,t||js(e,!0)}function s0(e){for(ta=e.return;ta;)switch(ta.tag){case 5:case 31:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:ta=ta.return}}function Cn(e){if(e!==ta)return!1;if(!Ze)return s0(e),Ze=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qc(e.type,e.memoizedProps)),a=!a),a&&St&&js(e),s0(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));St=Tf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));St=Tf(e)}else t===27?(t=St,Os(e.type)?(e=Wc,Wc=null,St=e):St=t):St=ta?el(e.stateNode.nextSibling):null;return!0}function an(){St=ta=null,Ze=!1}function Ao(){var e=vs;return e!==null&&(Da===null?Da=e:Da.push.apply(Da,e),vs=null),e}function mi(e){vs===null?vs=[e]:vs.push(e)}var To=w(null),ln=null,Zl=null;function Ns(e,t,a){K(To,t._currentValue),t._currentValue=a}function Fl(e){e._currentValue=To.current,L(To)}function _o(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function zo(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=n;for(var S=0;S<t.length;S++)if(x.context===t[S]){i.lanes|=a,x=i.alternate,x!==null&&(x.lanes|=a),_o(i.return,a,e),s||(r=null);break e}i=x.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(o(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),_o(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function Dn(e,t,a,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(o(387));if(r=r.memoizedProps,r!==null){var x=n.type;Ua(n.pendingProps.value,r.value)||(e!==null?e.push(x):e=[x])}}else if(n===De.current){if(r=n.alternate,r===null)throw Error(o(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Gi):e=[Gi])}n=n.return}e!==null&&zo(t,e,a,s),t.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!Ua(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sn(e){ln=e,Zl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function aa(e){return n0(ln,e)}function cr(e,t){return ln===null&&sn(e),n0(e,t)}function n0(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Zl===null){if(e===null)throw Error(o(308));Zl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zl=Zl.next=t;return a}var Nx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},wx=c.unstable_scheduleCallback,Sx=c.unstable_NormalPriority,Xt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eo(){return{controller:new Nx,data:new Map,refCount:0}}function xi(e){e.refCount--,e.refCount===0&&wx(Sx,function(){e.controller.abort()})}var pi=null,Ho=0,An=0,Tn=null;function Mx(e,t){if(pi===null){var a=pi=[];Ho=0,An=Uc(),Tn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Ho++,t.then(i0,i0),t}function i0(){if(--Ho===0&&pi!==null){Tn!==null&&(Tn.status="fulfilled");var e=pi;pi=null,An=0,Tn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kx(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var r0=B.S;B.S=function(e,t){$u=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mx(e,t),r0!==null&&r0(e,t)};var nn=w(null);function Oo(){var e=nn.current;return e!==null?e:gt.pooledCache}function dr(e,t){t===null?K(nn,nn.current):K(nn,t.pool)}function o0(){var e=Oo();return e===null?null:{parent:Xt._currentValue,pool:e}}var _n=Error(o(460)),Ro=Error(o(474)),ur=Error(o(542)),fr={then:function(){}};function c0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function d0(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(k,k),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,f0(e),e;default:if(typeof t.status=="string")t.then(k,k);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,f0(e),e}throw on=t,_n}}function rn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(on=a,_n):a}}var on=null;function u0(){if(on===null)throw Error(o(459));var e=on;return on=null,e}function f0(e){if(e===_n||e===ur)throw Error(o(483))}var zn=null,hi=0;function mr(e){var t=hi;return hi+=1,zn===null&&(zn=[]),d0(zn,e,t)}function gi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xr(e,t){throw t.$$typeof===y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function m0(e){function t(E,D){if(e){var R=E.deletions;R===null?(E.deletions=[D],E.flags|=16):R.push(D)}}function a(E,D){if(!e)return null;for(;D!==null;)t(E,D),D=D.sibling;return null}function s(E){for(var D=new Map;E!==null;)E.key!==null?D.set(E.key,E):D.set(E.index,E),E=E.sibling;return D}function n(E,D){return E=Ql(E,D),E.index=0,E.sibling=null,E}function i(E,D,R){return E.index=R,e?(R=E.alternate,R!==null?(R=R.index,R<D?(E.flags|=67108866,D):R):(E.flags|=67108866,D)):(E.flags|=1048576,D)}function r(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function x(E,D,R,F){return D===null||D.tag!==6?(D=So(R,E.mode,F),D.return=E,D):(D=n(D,R),D.return=E,D)}function S(E,D,R,F){var je=R.type;return je===H?Q(E,D,R.props.children,F,R.key):D!==null&&(D.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===le&&rn(je)===D.type)?(D=n(D,R.props),gi(D,R),D.return=E,D):(D=ir(R.type,R.key,R.props,null,E.mode,F),gi(D,R),D.return=E,D)}function U(E,D,R,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==R.containerInfo||D.stateNode.implementation!==R.implementation?(D=Mo(R,E.mode,F),D.return=E,D):(D=n(D,R.children||[]),D.return=E,D)}function Q(E,D,R,F,je){return D===null||D.tag!==7?(D=tn(R,E.mode,F,je),D.return=E,D):(D=n(D,R),D.return=E,D)}function J(E,D,R){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=So(""+D,E.mode,R),D.return=E,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return R=ir(D.type,D.key,D.props,null,E.mode,R),gi(R,D),R.return=E,R;case _:return D=Mo(D,E.mode,R),D.return=E,D;case le:return D=rn(D),J(E,D,R)}if(xe(D)||Ge(D))return D=tn(D,E.mode,R,null),D.return=E,D;if(typeof D.then=="function")return J(E,mr(D),R);if(D.$$typeof===P)return J(E,cr(E,D),R);xr(E,D)}return null}function G(E,D,R,F){var je=D!==null?D.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return je!==null?null:x(E,D,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return R.key===je?S(E,D,R,F):null;case _:return R.key===je?U(E,D,R,F):null;case le:return R=rn(R),G(E,D,R,F)}if(xe(R)||Ge(R))return je!==null?null:Q(E,D,R,F,null);if(typeof R.then=="function")return G(E,D,mr(R),F);if(R.$$typeof===P)return G(E,D,cr(E,R),F);xr(E,R)}return null}function X(E,D,R,F,je){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return E=E.get(R)||null,x(D,E,""+F,je);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return E=E.get(F.key===null?R:F.key)||null,S(D,E,F,je);case _:return E=E.get(F.key===null?R:F.key)||null,U(D,E,F,je);case le:return F=rn(F),X(E,D,R,F,je)}if(xe(F)||Ge(F))return E=E.get(R)||null,Q(D,E,F,je,null);if(typeof F.then=="function")return X(E,D,R,mr(F),je);if(F.$$typeof===P)return X(E,D,R,cr(D,F),je);xr(D,F)}return null}function fe(E,D,R,F){for(var je=null,lt=null,me=D,Ue=D=0,Qe=null;me!==null&&Ue<R.length;Ue++){me.index>Ue?(Qe=me,me=null):Qe=me.sibling;var st=G(E,me,R[Ue],F);if(st===null){me===null&&(me=Qe);break}e&&me&&st.alternate===null&&t(E,me),D=i(st,D,Ue),lt===null?je=st:lt.sibling=st,lt=st,me=Qe}if(Ue===R.length)return a(E,me),Ze&&Kl(E,Ue),je;if(me===null){for(;Ue<R.length;Ue++)me=J(E,R[Ue],F),me!==null&&(D=i(me,D,Ue),lt===null?je=me:lt.sibling=me,lt=me);return Ze&&Kl(E,Ue),je}for(me=s(me);Ue<R.length;Ue++)Qe=X(me,E,Ue,R[Ue],F),Qe!==null&&(e&&Qe.alternate!==null&&me.delete(Qe.key===null?Ue:Qe.key),D=i(Qe,D,Ue),lt===null?je=Qe:lt.sibling=Qe,lt=Qe);return e&&me.forEach(function(Gs){return t(E,Gs)}),Ze&&Kl(E,Ue),je}function we(E,D,R,F){if(R==null)throw Error(o(151));for(var je=null,lt=null,me=D,Ue=D=0,Qe=null,st=R.next();me!==null&&!st.done;Ue++,st=R.next()){me.index>Ue?(Qe=me,me=null):Qe=me.sibling;var Gs=G(E,me,st.value,F);if(Gs===null){me===null&&(me=Qe);break}e&&me&&Gs.alternate===null&&t(E,me),D=i(Gs,D,Ue),lt===null?je=Gs:lt.sibling=Gs,lt=Gs,me=Qe}if(st.done)return a(E,me),Ze&&Kl(E,Ue),je;if(me===null){for(;!st.done;Ue++,st=R.next())st=J(E,st.value,F),st!==null&&(D=i(st,D,Ue),lt===null?je=st:lt.sibling=st,lt=st);return Ze&&Kl(E,Ue),je}for(me=s(me);!st.done;Ue++,st=R.next())st=X(me,E,Ue,st.value,F),st!==null&&(e&&st.alternate!==null&&me.delete(st.key===null?Ue:st.key),D=i(st,D,Ue),lt===null?je=st:lt.sibling=st,lt=st);return e&&me.forEach(function(Up){return t(E,Up)}),Ze&&Kl(E,Ue),je}function ft(E,D,R,F){if(typeof R=="object"&&R!==null&&R.type===H&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case v:e:{for(var je=R.key;D!==null;){if(D.key===je){if(je=R.type,je===H){if(D.tag===7){a(E,D.sibling),F=n(D,R.props.children),F.return=E,E=F;break e}}else if(D.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===le&&rn(je)===D.type){a(E,D.sibling),F=n(D,R.props),gi(F,R),F.return=E,E=F;break e}a(E,D);break}else t(E,D);D=D.sibling}R.type===H?(F=tn(R.props.children,E.mode,F,R.key),F.return=E,E=F):(F=ir(R.type,R.key,R.props,null,E.mode,F),gi(F,R),F.return=E,E=F)}return r(E);case _:e:{for(je=R.key;D!==null;){if(D.key===je)if(D.tag===4&&D.stateNode.containerInfo===R.containerInfo&&D.stateNode.implementation===R.implementation){a(E,D.sibling),F=n(D,R.children||[]),F.return=E,E=F;break e}else{a(E,D);break}else t(E,D);D=D.sibling}F=Mo(R,E.mode,F),F.return=E,E=F}return r(E);case le:return R=rn(R),ft(E,D,R,F)}if(xe(R))return fe(E,D,R,F);if(Ge(R)){if(je=Ge(R),typeof je!="function")throw Error(o(150));return R=je.call(R),we(E,D,R,F)}if(typeof R.then=="function")return ft(E,D,mr(R),F);if(R.$$typeof===P)return ft(E,D,cr(E,R),F);xr(E,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,D!==null&&D.tag===6?(a(E,D.sibling),F=n(D,R),F.return=E,E=F):(a(E,D),F=So(R,E.mode,F),F.return=E,E=F),r(E)):a(E,D)}return function(E,D,R,F){try{hi=0;var je=ft(E,D,R,F);return zn=null,je}catch(me){if(me===_n||me===ur)throw me;var lt=La(29,me,null,E.mode);return lt.lanes=F,lt.return=E,lt}}}var cn=m0(!0),x0=m0(!1),ws=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(nt&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=nr(e),Wd(e,null,a),t}return sr(e,s,t,a),nr(e)}function bi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,at(e,a)}}function Bo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Go=!1;function yi(){if(Go){var e=Tn;if(e!==null)throw e}}function vi(e,t,a,s){Go=!1;var n=e.updateQueue;ws=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,x=n.shared.pending;if(x!==null){n.shared.pending=null;var S=x,U=S.next;S.next=null,r===null?i=U:r.next=U,r=S;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,x=Q.lastBaseUpdate,x!==r&&(x===null?Q.firstBaseUpdate=U:x.next=U,Q.lastBaseUpdate=S))}if(i!==null){var J=n.baseState;r=0,Q=U=S=null,x=i;do{var G=x.lane&-536870913,X=G!==x.lane;if(X?(Ye&G)===G:(s&G)===G){G!==0&&G===An&&(Go=!0),Q!==null&&(Q=Q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var fe=e,we=x;G=t;var ft=a;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){J=fe.call(ft,J,G);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,G=typeof fe=="function"?fe.call(ft,J,G):fe,G==null)break e;J=N({},J,G);break e;case 2:ws=!0}}G=x.callback,G!==null&&(e.flags|=64,X&&(e.flags|=8192),X=n.callbacks,X===null?n.callbacks=[G]:X.push(G))}else X={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Q===null?(U=Q=X,S=J):Q=Q.next=X,r|=G;if(x=x.next,x===null){if(x=n.shared.pending,x===null)break;X=x,x=X.next,X.next=null,n.lastBaseUpdate=X,n.shared.pending=null}}while(!0);Q===null&&(S=J),n.baseState=S,n.firstBaseUpdate=U,n.lastBaseUpdate=Q,i===null&&(n.shared.lanes=0),Ts|=r,e.lanes=r,e.memoizedState=J}}function p0(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function h0(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)p0(a[e],t)}var En=w(null),pr=w(0);function g0(e,t){e=ss,K(pr,e),K(En,t),ss=e|t.baseLanes}function Vo(){K(pr,ss),K(En,En.current)}function Xo(){ss=pr.current,L(En),L(pr)}var Ba=w(null),Pa=null;function ks(e){var t=e.alternate;K(Ut,Ut.current&1),K(Ba,e),Pa===null&&(t===null||En.current!==null||t.memoizedState!==null)&&(Pa=e)}function qo(e){K(Ut,Ut.current),K(Ba,e),Pa===null&&(Pa=e)}function b0(e){e.tag===22?(K(Ut,Ut.current),K(Ba,e),Pa===null&&(Pa=e)):Cs()}function Cs(){K(Ut,Ut.current),K(Ba,Ba.current)}function Ga(e){L(Ba),Pa===e&&(Pa=null),L(Ut)}var Ut=w(0);function hr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fc(a)||Jc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=0,Re=null,dt=null,qt=null,gr=!1,Hn=!1,dn=!1,br=0,ji=0,On=null,Cx=0;function Ot(){throw Error(o(321))}function $o(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ua(e[a],t[a]))return!1;return!0}function Yo(e,t,a,s,n,i){return Jl=i,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?tu:ic,dn=!1,i=a(s,n),dn=!1,Hn&&(i=v0(t,a,s,n)),y0(e),i}function y0(e){B.H=Si;var t=dt!==null&&dt.next!==null;if(Jl=0,qt=dt=Re=null,gr=!1,ji=0,On=null,t)throw Error(o(300));e===null||$t||(e=e.dependencies,e!==null&&or(e)&&($t=!0))}function v0(e,t,a,s){Re=e;var n=0;do{if(Hn&&(On=null),ji=0,Hn=!1,25<=n)throw Error(o(301));if(n+=1,qt=dt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}B.H=au,i=t(a,s)}while(Hn);return i}function Dx(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(Re.flags|=1024),t}function Qo(){var e=br!==0;return br=0,e}function Ko(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Zo(e){if(gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gr=!1}Jl=0,qt=dt=Re=null,Hn=!1,ji=br=0,On=null}function ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Re.memoizedState=qt=e:qt=qt.next=e,qt}function Lt(){if(dt===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=qt===null?Re.memoizedState:qt.next;if(t!==null)qt=t,dt=e;else{if(e===null)throw Re.alternate===null?Error(o(467)):Error(o(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},qt===null?Re.memoizedState=qt=e:qt=qt.next=e}return qt}function yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=ji;return ji+=1,On===null&&(On=[]),e=d0(On,e,t),t=Re,(qt===null?t.memoizedState:qt.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?tu:ic),e}function vr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===P)return aa(e)}throw Error(o(438,String(e)))}function Fo(e){var t=null,a=Re.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Re.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=yr(),Re.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=be;return t.index++,a}function Wl(e,t){return typeof t=="function"?t(e):t}function jr(e){var t=Lt();return Jo(t,dt,e)}function Jo(e,t,a){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var x=r=null,S=null,U=t,Q=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Ye&J)===J:(Jl&J)===J){var G=U.revertLane;if(G===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===An&&(Q=!0);else if((Jl&G)===G){U=U.next,G===An&&(Q=!0);continue}else J={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(x=S=J,r=i):S=S.next=J,Re.lanes|=G,Ts|=G;J=U.action,dn&&a(i,J),i=U.hasEagerState?U.eagerState:a(i,J)}else G={lane:J,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(x=S=G,r=i):S=S.next=G,Re.lanes|=J,Ts|=J;U=U.next}while(U!==null&&U!==t);if(S===null?r=i:S.next=x,!Ua(i,e.memoizedState)&&($t=!0,Q&&(a=Tn,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=S,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Wo(e){var t=Lt(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);Ua(i,t.memoizedState)||($t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,s]}function j0(e,t,a){var s=Re,n=Lt(),i=Ze;if(i){if(a===void 0)throw Error(o(407));a=a()}else a=t();var r=!Ua((dt||n).memoizedState,a);if(r&&(n.memoizedState=a,$t=!0),n=n.queue,ec(S0.bind(null,s,n,e),[e]),n.getSnapshot!==t||r||qt!==null&&qt.memoizedState.tag&1){if(s.flags|=2048,Rn(9,{destroy:void 0},w0.bind(null,s,n,a,t),null),gt===null)throw Error(o(349));i||(Jl&127)!==0||N0(s,t,a)}return a}function N0(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Re.updateQueue,t===null?(t=yr(),Re.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function w0(e,t,a,s){t.value=a,t.getSnapshot=s,M0(t)&&k0(e)}function S0(e,t,a){return a(function(){M0(t)&&k0(e)})}function M0(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ua(e,a)}catch{return!0}}function k0(e){var t=en(e,2);t!==null&&Aa(t,e,2)}function Io(e){var t=ha();if(typeof e=="function"){var a=e;if(e=a(),dn){na(!0);try{a()}finally{na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t}function C0(e,t,a,s){return e.baseState=a,Jo(e,dt,typeof s=="function"?s:Wl)}function Ax(e,t,a,s,n){if(Sr(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};B.T!==null?a(!0):i.isTransition=!1,s(i),a=t.pending,a===null?(i.next=t.pending=i,D0(t,i)):(i.next=a.next,t.pending=a.next=i)}}function D0(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=B.T,r={};B.T=r;try{var x=a(n,s),S=B.S;S!==null&&S(r,x),A0(e,t,x)}catch(U){Po(e,t,U)}finally{i!==null&&r.types!==null&&(i.types=r.types),B.T=i}}else try{i=a(n,s),A0(e,t,i)}catch(U){Po(e,t,U)}}function A0(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){T0(e,t,s)},function(s){return Po(e,t,s)}):T0(e,t,a)}function T0(e,t,a){t.status="fulfilled",t.value=a,_0(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,D0(e,a)))}function Po(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,_0(t),t=t.next;while(t!==s)}e.action=null}function _0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function z0(e,t){return t}function E0(e,t){if(Ze){var a=gt.formState;if(a!==null){e:{var s=Re;if(Ze){if(St){t:{for(var n=St,i=Ia;n.nodeType!==8;){if(!i){n=null;break t}if(n=el(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){St=el(n.nextSibling),s=n.data==="F!";break e}}js(s)}s=!1}s&&(t=a[0])}}return a=ha(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:t},a.queue=s,a=I0.bind(null,Re,s),s.dispatch=a,s=Io(!1),i=nc.bind(null,Re,!1,s.queue),s=ha(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=Ax.bind(null,Re,n,i,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function H0(e){var t=Lt();return O0(t,dt,e)}function O0(e,t,a){if(t=Jo(e,t,z0)[0],e=jr(Wl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ni(t)}catch(r){throw r===_n?ur:r}else s=t;t=Lt();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(Re.flags|=2048,Rn(9,{destroy:void 0},Tx.bind(null,n,a),null)),[s,i,e]}function Tx(e,t){e.action=t}function R0(e){var t=Lt(),a=dt;if(a!==null)return O0(t,a,e);Lt(),t=t.memoizedState,a=Lt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Rn(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Re.updateQueue,t===null&&(t=yr(),Re.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function U0(){return Lt().memoizedState}function Nr(e,t,a,s){var n=ha();Re.flags|=e,n.memoizedState=Rn(1|t,{destroy:void 0},a,s===void 0?null:s)}function wr(e,t,a,s){var n=Lt();s=s===void 0?null:s;var i=n.memoizedState.inst;dt!==null&&s!==null&&$o(s,dt.memoizedState.deps)?n.memoizedState=Rn(t,i,a,s):(Re.flags|=e,n.memoizedState=Rn(1|t,i,a,s))}function L0(e,t){Nr(8390656,8,e,t)}function ec(e,t){wr(2048,8,e,t)}function _x(e){Re.flags|=4;var t=Re.updateQueue;if(t===null)t=yr(),Re.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function B0(e){var t=Lt().memoizedState;return _x({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function G0(e,t){return wr(4,2,e,t)}function V0(e,t){return wr(4,4,e,t)}function X0(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q0(e,t,a){a=a!=null?a.concat([e]):null,wr(4,4,X0.bind(null,t,e),a)}function tc(){}function $0(e,t){var a=Lt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&$o(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Y0(e,t){var a=Lt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&$o(t,s[1]))return s[0];if(s=e(),dn){na(!0);try{e()}finally{na(!1)}}return a.memoizedState=[s,t],s}function ac(e,t,a){return a===void 0||(Jl&1073741824)!==0&&(Ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Qu(),Re.lanes|=e,Ts|=e,a)}function Q0(e,t,a,s){return Ua(a,t)?a:En.current!==null?(e=ac(e,a,s),Ua(e,t)||($t=!0),e):(Jl&42)===0||(Jl&1073741824)!==0&&(Ye&261930)===0?($t=!0,e.memoizedState=a):(e=Qu(),Re.lanes|=e,Ts|=e,t)}function K0(e,t,a,s,n){var i=Z.p;Z.p=i!==0&&8>i?i:8;var r=B.T,x={};B.T=x,nc(e,!1,t,a);try{var S=n(),U=B.S;if(U!==null&&U(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Q=kx(S,s);wi(e,t,Q,qa(e))}else wi(e,t,s,qa(e))}catch(J){wi(e,t,{then:function(){},status:"rejected",reason:J},qa())}finally{Z.p=i,r!==null&&x.types!==null&&(r.types=x.types),B.T=r}}function zx(){}function lc(e,t,a,s){if(e.tag!==5)throw Error(o(476));var n=Z0(e).queue;K0(e,n,t,re,a===null?zx:function(){return F0(e),a(s)})}function Z0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:re},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function F0(e){var t=Z0(e);t.next===null&&(t=e.alternate.memoizedState),wi(e,t.next.queue,{},qa())}function sc(){return aa(Gi)}function J0(){return Lt().memoizedState}function W0(){return Lt().memoizedState}function Ex(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=qa();e=Ss(a);var s=Ms(t,e,a);s!==null&&(Aa(s,t,a),bi(s,t,a)),t={cache:Eo()},e.payload=t;return}t=t.return}}function Hx(e,t,a){var s=qa();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sr(e)?P0(t,a):(a=No(e,t,a,s),a!==null&&(Aa(a,e,s),eu(a,t,s)))}function I0(e,t,a){var s=qa();wi(e,t,a,s)}function wi(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sr(e))P0(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,x=i(r,a);if(n.hasEagerState=!0,n.eagerState=x,Ua(x,r))return sr(e,t,n,0),gt===null&&lr(),!1}catch{}if(a=No(e,t,n,s),a!==null)return Aa(a,e,s),eu(a,t,s),!0}return!1}function nc(e,t,a,s){if(s={lane:2,revertLane:Uc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Sr(e)){if(t)throw Error(o(479))}else t=No(e,a,s,2),t!==null&&Aa(t,e,2)}function Sr(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function P0(e,t){Hn=gr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function eu(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,at(e,a)}}var Si={readContext:aa,use:vr,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Si.useEffectEvent=Ot;var tu={readContext:aa,use:vr,useCallback:function(e,t){return ha().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:L0,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Nr(4194308,4,X0.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Nr(4194308,4,e,t)},useInsertionEffect:function(e,t){Nr(4,2,e,t)},useMemo:function(e,t){var a=ha();t=t===void 0?null:t;var s=e();if(dn){na(!0);try{e()}finally{na(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=ha();if(a!==void 0){var n=a(t);if(dn){na(!0);try{a(t)}finally{na(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Hx.bind(null,Re,e),[s.memoizedState,e]},useRef:function(e){var t=ha();return e={current:e},t.memoizedState=e},useState:function(e){e=Io(e);var t=e.queue,a=I0.bind(null,Re,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:tc,useDeferredValue:function(e,t){var a=ha();return ac(a,e,t)},useTransition:function(){var e=Io(!1);return e=K0.bind(null,Re,e.queue,!0,!1),ha().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Re,n=ha();if(Ze){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),gt===null)throw Error(o(349));(Ye&127)!==0||N0(s,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,L0(S0.bind(null,s,i,e),[e]),s.flags|=2048,Rn(9,{destroy:void 0},w0.bind(null,s,i,a,t),null),a},useId:function(){var e=ha(),t=gt.identifierPrefix;if(Ze){var a=zl,s=_l;a=(s&~(1<<32-Gt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=br++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Cx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sc,useFormState:E0,useActionState:E0,useOptimistic:function(e){var t=ha();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=nc.bind(null,Re,!0,a),a.dispatch=t,[e,t]},useMemoCache:Fo,useCacheRefresh:function(){return ha().memoizedState=Ex.bind(null,Re)},useEffectEvent:function(e){var t=ha(),a={impl:e};return t.memoizedState=a,function(){if((nt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},ic={readContext:aa,use:vr,useCallback:$0,useContext:aa,useEffect:ec,useImperativeHandle:q0,useInsertionEffect:G0,useLayoutEffect:V0,useMemo:Y0,useReducer:jr,useRef:U0,useState:function(){return jr(Wl)},useDebugValue:tc,useDeferredValue:function(e,t){var a=Lt();return Q0(a,dt.memoizedState,e,t)},useTransition:function(){var e=jr(Wl)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:j0,useId:J0,useHostTransitionStatus:sc,useFormState:H0,useActionState:H0,useOptimistic:function(e,t){var a=Lt();return C0(a,dt,e,t)},useMemoCache:Fo,useCacheRefresh:W0};ic.useEffectEvent=B0;var au={readContext:aa,use:vr,useCallback:$0,useContext:aa,useEffect:ec,useImperativeHandle:q0,useInsertionEffect:G0,useLayoutEffect:V0,useMemo:Y0,useReducer:Wo,useRef:U0,useState:function(){return Wo(Wl)},useDebugValue:tc,useDeferredValue:function(e,t){var a=Lt();return dt===null?ac(a,e,t):Q0(a,dt.memoizedState,e,t)},useTransition:function(){var e=Wo(Wl)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:j0,useId:J0,useHostTransitionStatus:sc,useFormState:R0,useActionState:R0,useOptimistic:function(e,t){var a=Lt();return dt!==null?C0(a,dt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:W0};au.useEffectEvent=B0;function rc(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:N({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var oc={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=qa(),n=Ss(s);n.payload=t,a!=null&&(n.callback=a),t=Ms(e,n,s),t!==null&&(Aa(t,e,s),bi(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=qa(),n=Ss(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ms(e,n,s),t!==null&&(Aa(t,e,s),bi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=qa(),s=Ss(a);s.tag=2,t!=null&&(s.callback=t),t=Ms(e,s,a),t!==null&&(Aa(t,e,a),bi(t,e,a))}};function lu(e,t,a,s,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,r):t.prototype&&t.prototype.isPureReactComponent?!di(a,s)||!di(n,i):!0}function su(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&oc.enqueueReplaceState(t,t.state,null)}function un(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=N({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function nu(e){ar(e)}function iu(e){console.error(e)}function ru(e){ar(e)}function Mr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function ou(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function cc(e,t,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Mr(e,t)},a}function cu(e){return e=Ss(e),e.tag=3,e}function du(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){ou(t,a,s)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){ou(t,a,s),typeof n!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function Ox(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Dn(t,a,n,!0),a=Ba.current,a!==null){switch(a.tag){case 31:case 13:return Pa===null?Ur():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===fr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Hc(e,s,n)),!1;case 22:return a.flags|=65536,s===fr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Hc(e,s,n)),!1}throw Error(o(435,a.tag))}return Hc(e,s,n),Ur(),!1}if(Ze)return t=Ba.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Do&&(e=Error(o(422),{cause:s}),mi(Fa(e,a)))):(s!==Do&&(t=Error(o(423),{cause:s}),mi(Fa(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Fa(s,a),n=cc(e.stateNode,s,n),Bo(e,n),Rt!==4&&(Rt=2)),!1;var i=Error(o(520),{cause:s});if(i=Fa(i,a),zi===null?zi=[i]:zi.push(i),Rt!==4&&(Rt=2),t===null)return!0;s=Fa(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=cc(a.stateNode,s,e),Bo(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(_s===null||!_s.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=cu(n),du(n,e,a,s),Bo(a,n),!1}a=a.return}while(a!==null);return!1}var dc=Error(o(461)),$t=!1;function la(e,t,a,s){t.child=e===null?x0(t,null,a,s):cn(t,e.child,a,s)}function uu(e,t,a,s,n){a=a.render;var i=t.ref;if("ref"in s){var r={};for(var x in s)x!=="ref"&&(r[x]=s[x])}else r=s;return sn(t),s=Yo(e,t,a,r,i,n),x=Qo(),e!==null&&!$t?(Ko(e,t,n),Il(e,t,n)):(Ze&&x&&ko(t),t.flags|=1,la(e,t,s,n),t.child)}function fu(e,t,a,s,n){if(e===null){var i=a.type;return typeof i=="function"&&!wo(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,mu(e,t,i,s,n)):(e=ir(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!bc(e,n)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:di,a(r,s)&&e.ref===t.ref)return Il(e,t,n)}return t.flags|=1,e=Ql(i,s),e.ref=t.ref,e.return=t,t.child=e}function mu(e,t,a,s,n){if(e!==null){var i=e.memoizedProps;if(di(i,s)&&e.ref===t.ref)if($t=!1,t.pendingProps=s=i,bc(e,n))(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,Il(e,t,n)}return uc(e,t,a,s,n)}function xu(e,t,a,s){var n=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~i}else s=0,t.child=null;return pu(e,t,i,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dr(t,i!==null?i.cachePool:null),i!==null?g0(t,i):Vo(),b0(t);else return s=t.lanes=536870912,pu(e,t,i!==null?i.baseLanes|a:a,a,s)}else i!==null?(dr(t,i.cachePool),g0(t,i),Cs(),t.memoizedState=null):(e!==null&&dr(t,null),Vo(),Cs());return la(e,t,n,a),t.child}function Mi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function pu(e,t,a,s,n){var i=Oo();return i=i===null?null:{parent:Xt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&dr(t,null),Vo(),b0(t),e!==null&&Dn(e,t,s,!0),t.childLanes=n,null}function kr(e,t){return t=Dr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hu(e,t,a){return cn(t,e.child,null,a),e=kr(t,t.pendingProps),e.flags|=2,Ga(t),t.memoizedState=null,e}function Rx(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ze){if(s.mode==="hidden")return e=kr(t,s),t.lanes=536870912,Mi(null,e);if(qo(t),(e=St)?(e=Af(e,Ia),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ys!==null?{id:_l,overflow:zl}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,ta=t,St=null)):e=null,e===null)throw js(t);return t.lanes=536870912,null}return kr(t,s)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(qo(t),n)if(t.flags&256)t.flags&=-257,t=hu(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if($t||Dn(e,t,a,!1),n=(a&e.childLanes)!==0,$t||n){if(s=gt,s!==null&&(r=rt(s,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,en(e,r),Aa(s,e,r),dc;Ur(),t=hu(e,t,a)}else e=i.treeContext,St=el(r.nextSibling),ta=t,Ze=!0,vs=null,Ia=!1,e!==null&&a0(t,e),t=kr(t,s),t.flags|=4096;return t}return e=Ql(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Cr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function uc(e,t,a,s,n){return sn(t),a=Yo(e,t,a,s,void 0,n),s=Qo(),e!==null&&!$t?(Ko(e,t,n),Il(e,t,n)):(Ze&&s&&ko(t),t.flags|=1,la(e,t,a,n),t.child)}function gu(e,t,a,s,n,i){return sn(t),t.updateQueue=null,a=v0(t,s,a,n),y0(e),s=Qo(),e!==null&&!$t?(Ko(e,t,i),Il(e,t,i)):(Ze&&s&&ko(t),t.flags|=1,la(e,t,a,i),t.child)}function bu(e,t,a,s,n){if(sn(t),t.stateNode===null){var i=Sn,r=a.contextType;typeof r=="object"&&r!==null&&(i=aa(r)),i=new a(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=oc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Uo(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?aa(r):Sn,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(rc(t,a,r,s),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&oc.enqueueReplaceState(i,i.state,null),vi(t,s,i,n),yi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,S=un(a,x);i.props=S;var U=i.context,Q=a.contextType;r=Sn,typeof Q=="object"&&Q!==null&&(r=aa(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,Q||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||U!==r)&&su(t,i,s,r),ws=!1;var G=t.memoizedState;i.state=G,vi(t,s,i,n),yi(),U=t.memoizedState,x||G!==U||ws?(typeof J=="function"&&(rc(t,a,J,s),U=t.memoizedState),(S=ws||lu(t,a,S,s,G,U,r))?(Q||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),i.props=s,i.state=U,i.context=r,s=S):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Lo(e,t),r=t.memoizedProps,Q=un(a,r),i.props=Q,J=t.pendingProps,G=i.context,U=a.contextType,S=Sn,typeof U=="object"&&U!==null&&(S=aa(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==J||G!==S)&&su(t,i,s,S),ws=!1,G=t.memoizedState,i.state=G,vi(t,s,i,n),yi();var X=t.memoizedState;r!==J||G!==X||ws||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof x=="function"&&(rc(t,a,x,s),X=t.memoizedState),(Q=ws||lu(t,a,Q,s,G,X,S)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(U||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,X,S),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,X,S)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=X),i.props=s,i.state=X,i.context=S,s=Q):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Cr(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=cn(t,e.child,null,n),t.child=cn(t,null,a,n)):la(e,t,a,n),t.memoizedState=i.state,e=t.child):e=Il(e,t,n),e}function yu(e,t,a,s){return an(),t.flags|=256,la(e,t,a,s),t.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(e){return{baseLanes:e,cachePool:o0()}}function xc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Xa),e}function vu(e,t,a){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ze){if(n?ks(t):Cs(),(e=St)?(e=Af(e,Ia),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ys!==null?{id:_l,overflow:zl}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,ta=t,St=null)):e=null,e===null)throw js(t);return Jc(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,n?(Cs(),n=t.mode,x=Dr({mode:"hidden",children:x},n),s=tn(s,n,a,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=mc(a),s.childLanes=xc(e,r,a),t.memoizedState=fc,Mi(null,s)):(ks(t),pc(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(i)t.flags&256?(ks(t),t.flags&=-257,t=hc(e,t,a)):t.memoizedState!==null?(Cs(),t.child=e.child,t.flags|=128,t=null):(Cs(),x=s.fallback,n=t.mode,s=Dr({mode:"visible",children:s.children},n),x=tn(x,n,a,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,cn(t,e.child,null,a),s=t.child,s.memoizedState=mc(a),s.childLanes=xc(e,r,a),t.memoizedState=fc,t=Mi(null,s));else if(ks(t),Jc(x)){if(r=x.nextSibling&&x.nextSibling.dataset,r)var U=r.dgst;r=U,s=Error(o(419)),s.stack="",s.digest=r,mi({value:s,source:null,stack:null}),t=hc(e,t,a)}else if($t||Dn(e,t,a,!1),r=(a&e.childLanes)!==0,$t||r){if(r=gt,r!==null&&(s=rt(r,a),s!==0&&s!==S.retryLane))throw S.retryLane=s,en(e,s),Aa(r,e,s),dc;Fc(x)||Ur(),t=hc(e,t,a)}else Fc(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,St=el(x.nextSibling),ta=t,Ze=!0,vs=null,Ia=!1,e!==null&&a0(t,e),t=pc(t,s.children),t.flags|=4096);return t}return n?(Cs(),x=s.fallback,n=t.mode,S=e.child,U=S.sibling,s=Ql(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,U!==null?x=Ql(U,x):(x=tn(x,n,a,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,Mi(null,s),s=t.child,x=e.child.memoizedState,x===null?x=mc(a):(n=x.cachePool,n!==null?(S=Xt._currentValue,n=n.parent!==S?{parent:S,pool:S}:n):n=o0(),x={baseLanes:x.baseLanes|a,cachePool:n}),s.memoizedState=x,s.childLanes=xc(e,r,a),t.memoizedState=fc,Mi(e.child,s)):(ks(t),a=e.child,e=a.sibling,a=Ql(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function pc(e,t){return t=Dr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Dr(e,t){return e=La(22,e,null,t),e.lanes=0,e}function hc(e,t,a){return cn(t,e.child,null,a),e=pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ju(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),_o(e.return,t,a)}function gc(e,t,a,s,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=a,r.tailMode=n,r.treeForkCount=i)}function Nu(e,t,a){var s=t.pendingProps,n=s.revealOrder,i=s.tail;s=s.children;var r=Ut.current,x=(r&2)!==0;if(x?(r=r&1|2,t.flags|=128):r&=1,K(Ut,r),la(e,t,s,a),s=Ze?fi:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ju(e,a,t);else if(e.tag===19)ju(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&hr(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),gc(t,!1,n,a,i,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&hr(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}gc(t,!0,a,null,i,s);break;case"together":gc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Il(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Dn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Ql(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ql(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function Ux(e,t,a){switch(t.tag){case 3:Ke(t,t.stateNode.containerInfo),Ns(t,Xt,e.memoizedState.cache),an();break;case 27:case 5:Ie(t);break;case 4:Ke(t,t.stateNode.containerInfo);break;case 10:Ns(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ks(t),t.flags|=128,null):(a&t.child.childLanes)!==0?vu(e,t,a):(ks(t),e=Il(e,t,a),e!==null?e.sibling:null);ks(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Dn(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return Nu(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),K(Ut,Ut.current),s)break;return null;case 22:return t.lanes=0,xu(e,t,a,t.pendingProps);case 24:Ns(t,Xt,e.memoizedState.cache)}return Il(e,t,a)}function wu(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!bc(e,a)&&(t.flags&128)===0)return $t=!1,Ux(e,t,a);$t=(e.flags&131072)!==0}else $t=!1,Ze&&(t.flags&1048576)!==0&&t0(t,fi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=rn(t.elementType),t.type=e,typeof e=="function")wo(e)?(s=un(e,s),t.tag=1,t=bu(null,t,e,s,a)):(t.tag=0,t=uc(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===ye){t.tag=11,t=uu(null,t,e,s,a);break e}else if(n===I){t.tag=14,t=fu(null,t,e,s,a);break e}}throw t=Fe(e)||e,Error(o(306,t,""))}}return t;case 0:return uc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=un(s,t.pendingProps),bu(e,t,s,n,a);case 3:e:{if(Ke(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,Lo(e,t),vi(t,s,null,a);var r=t.memoizedState;if(s=r.cache,Ns(t,Xt,s),s!==i.cache&&zo(t,[Xt],a,!0),yi(),s=r.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=yu(e,t,s,a);break e}else if(s!==n){n=Fa(Error(o(424)),t),mi(n),t=yu(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,St=el(e.firstChild),ta=t,Ze=!0,vs=null,Ia=!0,a=x0(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(an(),s===n){t=Il(e,t,a);break e}la(e,t,s,a)}t=t.child}return t;case 26:return Cr(e,t),e===null?(a=Of(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ze||(a=t.type,e=t.pendingProps,s=$r(ve.current).createElement(a),s[bt]=t,s[Jt]=e,sa(s,a,e),Nt(s),t.stateNode=s):t.memoizedState=Of(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ie(t),e===null&&Ze&&(s=t.stateNode=zf(t.type,t.pendingProps,ve.current),ta=t,Ia=!0,n=St,Os(t.type)?(Wc=n,St=el(s.firstChild)):St=n),la(e,t,t.pendingProps.children,a),Cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ze&&((n=s=St)&&(s=mp(s,t.type,t.pendingProps,Ia),s!==null?(t.stateNode=s,ta=t,St=el(s.firstChild),Ia=!1,n=!0):n=!1),n||js(t)),Ie(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,Qc(n,i)?s=null:r!==null&&Qc(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Yo(e,t,Dx,null,null,a),Gi._currentValue=n),Cr(e,t),la(e,t,s,a),t.child;case 6:return e===null&&Ze&&((e=a=St)&&(a=xp(a,t.pendingProps,Ia),a!==null?(t.stateNode=a,ta=t,St=null,e=!0):e=!1),e||js(t)),null;case 13:return vu(e,t,a);case 4:return Ke(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cn(t,null,s,a):la(e,t,s,a),t.child;case 11:return uu(e,t,t.type,t.pendingProps,a);case 7:return la(e,t,t.pendingProps,a),t.child;case 8:return la(e,t,t.pendingProps.children,a),t.child;case 12:return la(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ns(t,t.type,s.value),la(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,sn(t),n=aa(n),s=s(n),t.flags|=1,la(e,t,s,a),t.child;case 14:return fu(e,t,t.type,t.pendingProps,a);case 15:return mu(e,t,t.type,t.pendingProps,a);case 19:return Nu(e,t,a);case 31:return Rx(e,t,a);case 22:return xu(e,t,a,t.pendingProps);case 24:return sn(t),s=aa(Xt),e===null?(n=Oo(),n===null&&(n=gt,i=Eo(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:s,cache:n},Uo(t),Ns(t,Xt,n)):((e.lanes&a)!==0&&(Lo(e,t),vi(t,null,null,a),yi()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ns(t,Xt,s)):(s=i.cache,Ns(t,Xt,s),s!==n.cache&&zo(t,[Xt],a,!0))),la(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Pl(e){e.flags|=4}function yc(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Ju())e.flags|=8192;else throw on=fr,Ro}else e.flags&=-16777217}function Su(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gf(t))if(Ju())e.flags|=8192;else throw on=fr,Ro}function Ar(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ne():536870912,e.lanes|=t,Gn|=t)}function ki(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Lx(e,t,a){var s=t.pendingProps;switch(Co(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return Mt(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Fl(Xt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Cn(t)?Pl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ao())),Mt(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Pl(t),i!==null?(Mt(t),Su(t,i)):(Mt(t),yc(t,n,null,s,a))):i?i!==e.memoizedState?(Pl(t),Mt(t),Su(t,i)):(Mt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Pl(t),Mt(t),yc(t,n,e,s,a)),null;case 27:if(it(t),a=ve.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Pl(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Mt(t),null}e=se.current,Cn(t)?l0(t):(e=zf(n,s,a),t.stateNode=e,Pl(t))}return Mt(t),null;case 5:if(it(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Pl(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Mt(t),null}if(i=se.current,Cn(t))l0(t);else{var r=$r(ve.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}i[bt]=t,i[Jt]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(sa(i,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Pl(t)}}return Mt(t),yc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Pl(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=ve.current,Cn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=ta,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[bt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||jf(e.nodeValue,a)),e||js(t,!0)}else e=$r(e).createTextNode(s),e[bt]=t,t.stateNode=e}return Mt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Cn(t),a!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[bt]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),e=!1}else a=Ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ga(t),t):(Ga(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Mt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Cn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[bt]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),n=!1}else n=Ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ga(t),t):(Ga(t),null)}return Ga(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ar(t,t.updateQueue),Mt(t),null);case 4:return Ne(),e===null&&Vc(t.stateNode.containerInfo),Mt(t),null;case 10:return Fl(t.type),Mt(t),null;case 19:if(L(Ut),s=t.memoizedState,s===null)return Mt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)ki(s,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=hr(e),i!==null){for(t.flags|=128,ki(s,!1),e=i.updateQueue,t.updateQueue=e,Ar(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Id(a,e),a=a.sibling;return K(Ut,Ut.current&1|2),Ze&&Kl(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&pt()>Hr&&(t.flags|=128,n=!0,ki(s,!1),t.lanes=4194304)}else{if(!n)if(e=hr(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ar(t,e),ki(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ze)return Mt(t),null}else 2*pt()-s.renderingStartTime>Hr&&a!==536870912&&(t.flags|=128,n=!0,ki(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,a=Ut.current,K(Ut,n?a&1|2:a&1),Ze&&Kl(t,s.treeForkCount),e):(Mt(t),null);case 22:case 23:return Ga(t),Xo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),a=t.updateQueue,a!==null&&Ar(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&L(nn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Fl(Xt),Mt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Bx(e,t){switch(Co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fl(Xt),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return it(t),null;case 31:if(t.memoizedState!==null){if(Ga(t),t.alternate===null)throw Error(o(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ga(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ut),null;case 4:return Ne(),null;case 10:return Fl(t.type),null;case 22:case 23:return Ga(t),Xo(),e!==null&&L(nn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fl(Xt),null;case 25:return null;default:return null}}function Mu(e,t){switch(Co(t),t.tag){case 3:Fl(Xt),Ne();break;case 26:case 27:case 5:it(t);break;case 4:Ne();break;case 31:t.memoizedState!==null&&Ga(t);break;case 13:Ga(t);break;case 19:L(Ut);break;case 10:Fl(t.type);break;case 22:case 23:Ga(t),Xo(),e!==null&&L(nn);break;case 24:Fl(Xt)}}function Ci(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var i=a.create,r=a.inst;s=i(),r.destroy=s}a=a.next}while(a!==n)}}catch(x){ct(t,t.return,x)}}function Ds(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var r=s.inst,x=r.destroy;if(x!==void 0){r.destroy=void 0,n=t;var S=a,U=x;try{U()}catch(Q){ct(n,S,Q)}}}s=s.next}while(s!==i)}}catch(Q){ct(t,t.return,Q)}}function ku(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{h0(t,a)}catch(s){ct(e,e.return,s)}}}function Cu(e,t,a){a.props=un(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ct(e,t,s)}}function Di(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){ct(e,t,n)}}function El(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){ct(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){ct(e,t,n)}else a.current=null}function Du(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){ct(e,e.return,n)}}function vc(e,t,a){try{var s=e.stateNode;rp(s,e.type,a,t),s[Jt]=t}catch(n){ct(e,e.return,n)}}function Au(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=k));else if(s!==4&&(s===27&&Os(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Nc(e,t,a),e=e.sibling;e!==null;)Nc(e,t,a),e=e.sibling}function Tr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Os(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tr(e,t,a),e=e.sibling;e!==null;)Tr(e,t,a),e=e.sibling}function Tu(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);sa(t,s,a),t[bt]=e,t[Jt]=a}catch(i){ct(e,e.return,i)}}var es=!1,Yt=!1,wc=!1,_u=typeof WeakSet=="function"?WeakSet:Set,It=null;function Gx(e,t){if(e=e.containerInfo,$c=Wr,e=qd(e),ho(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,x=-1,S=-1,U=0,Q=0,J=e,G=null;t:for(;;){for(var X;J!==a||n!==0&&J.nodeType!==3||(x=r+n),J!==i||s!==0&&J.nodeType!==3||(S=r+s),J.nodeType===3&&(r+=J.nodeValue.length),(X=J.firstChild)!==null;)G=J,J=X;for(;;){if(J===e)break t;if(G===a&&++U===n&&(x=r),G===i&&++Q===s&&(S=r),(X=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=X}a=x===-1||S===-1?null:{start:x,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yc={focusedElem:e,selectionRange:a},Wr=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){switch(t=It,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,s=a.stateNode;try{var fe=un(a.type,n);e=s.getSnapshotBeforeUpdate(fe,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){ct(a,a.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}}function zu(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:as(e,a),s&4&&Ci(5,a);break;case 1:if(as(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){ct(a,a.return,r)}else{var n=un(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ct(a,a.return,r)}}s&64&&ku(a),s&512&&Di(a,a.return);break;case 3:if(as(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{h0(e,t)}catch(r){ct(a,a.return,r)}}break;case 27:t===null&&s&4&&Tu(a);case 26:case 5:as(e,a),t===null&&s&4&&Du(a),s&512&&Di(a,a.return);break;case 12:as(e,a);break;case 31:as(e,a),s&4&&Ou(e,a);break;case 13:as(e,a),s&4&&Ru(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Fx.bind(null,a),pp(e,a))));break;case 22:if(s=a.memoizedState!==null||es,!s){t=t!==null&&t.memoizedState!==null||Yt,n=es;var i=Yt;es=s,(Yt=t)&&!i?ls(e,a,(a.subtreeFlags&8772)!==0):as(e,a),es=n,Yt=i}break;case 30:break;default:as(e,a)}}function Eu(e){var t=e.alternate;t!==null&&(e.alternate=null,Eu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Pt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kt=null,Ma=!1;function ts(e,t,a){for(a=a.child;a!==null;)Hu(e,t,a),a=a.sibling}function Hu(e,t,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(ba,a)}catch{}switch(a.tag){case 26:Yt||El(a,t),ts(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||El(a,t);var s=kt,n=Ma;Os(a.type)&&(kt=a.stateNode,Ma=!1),ts(e,t,a),Ui(a.stateNode),kt=s,Ma=n;break;case 5:Yt||El(a,t);case 6:if(s=kt,n=Ma,kt=null,ts(e,t,a),kt=s,Ma=n,kt!==null)if(Ma)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(a.stateNode)}catch(i){ct(a,t,i)}else try{kt.removeChild(a.stateNode)}catch(i){ct(a,t,i)}break;case 18:kt!==null&&(Ma?(e=kt,Cf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zn(e)):Cf(kt,a.stateNode));break;case 4:s=kt,n=Ma,kt=a.stateNode.containerInfo,Ma=!0,ts(e,t,a),kt=s,Ma=n;break;case 0:case 11:case 14:case 15:Ds(2,a,t),Yt||Ds(4,a,t),ts(e,t,a);break;case 1:Yt||(El(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Cu(a,t,s)),ts(e,t,a);break;case 21:ts(e,t,a);break;case 22:Yt=(s=Yt)||a.memoizedState!==null,ts(e,t,a),Yt=s;break;default:ts(e,t,a)}}function Ou(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zn(e)}catch(a){ct(t,t.return,a)}}}function Ru(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zn(e)}catch(a){ct(t,t.return,a)}}function Vx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _u),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _u),t;default:throw Error(o(435,e.tag))}}function _r(e,t){var a=Vx(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=Jx.bind(null,e,s);s.then(n,n)}})}function ka(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],i=e,r=t,x=r;e:for(;x!==null;){switch(x.tag){case 27:if(Os(x.type)){kt=x.stateNode,Ma=!1;break e}break;case 5:kt=x.stateNode,Ma=!1;break e;case 3:case 4:kt=x.stateNode.containerInfo,Ma=!0;break e}x=x.return}if(kt===null)throw Error(o(160));Hu(i,r,n),kt=null,Ma=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Uu(t,e),t=t.sibling}var xl=null;function Uu(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ka(t,e),Ca(e),s&4&&(Ds(3,e,e.return),Ci(3,e),Ds(5,e,e.return));break;case 1:ka(t,e),Ca(e),s&512&&(Yt||a===null||El(a,a.return)),s&64&&es&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=xl;if(ka(t,e),Ca(e),s&512&&(Yt||a===null||El(a,a.return)),s&4){var i=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[_t]||i[bt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),sa(i,s,a),i[bt]=e,Nt(i),s=i;break e;case"link":var r=Lf("link","href",n).get(s+(a.href||""));if(r){for(var x=0;x<r.length;x++)if(i=r[x],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(x,1);break t}}i=n.createElement(s),sa(i,s,a),n.head.appendChild(i);break;case"meta":if(r=Lf("meta","content",n).get(s+(a.content||""))){for(x=0;x<r.length;x++)if(i=r[x],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(x,1);break t}}i=n.createElement(s),sa(i,s,a),n.head.appendChild(i);break;default:throw Error(o(468,s))}i[bt]=e,Nt(i),s=i}e.stateNode=s}else Bf(n,e.type,e.stateNode);else e.stateNode=Uf(n,s,e.memoizedProps);else i!==s?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,s===null?Bf(n,e.type,e.stateNode):Uf(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&vc(e,e.memoizedProps,a.memoizedProps)}break;case 27:ka(t,e),Ca(e),s&512&&(Yt||a===null||El(a,a.return)),a!==null&&s&4&&vc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ka(t,e),Ca(e),s&512&&(Yt||a===null||El(a,a.return)),e.flags&32){n=e.stateNode;try{kl(n,"")}catch(fe){ct(e,e.return,fe)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,vc(e,n,a!==null?a.memoizedProps:n)),s&1024&&(wc=!0);break;case 6:if(ka(t,e),Ca(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(fe){ct(e,e.return,fe)}}break;case 3:if(Kr=null,n=xl,xl=Yr(t.containerInfo),ka(t,e),xl=n,Ca(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Zn(t.containerInfo)}catch(fe){ct(e,e.return,fe)}wc&&(wc=!1,Lu(e));break;case 4:s=xl,xl=Yr(e.stateNode.containerInfo),ka(t,e),Ca(e),xl=s;break;case 12:ka(t,e),Ca(e);break;case 31:ka(t,e),Ca(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_r(e,s)));break;case 13:ka(t,e),Ca(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Er=pt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_r(e,s)));break;case 22:n=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,U=es,Q=Yt;if(es=U||n,Yt=Q||S,ka(t,e),Yt=Q,es=U,Ca(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||S||es||Yt||fn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(i=S.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{x=S.stateNode;var J=S.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){ct(S,S.return,fe)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=n?"":S.memoizedProps}catch(fe){ct(S,S.return,fe)}}}else if(t.tag===18){if(a===null){S=t;try{var X=S.stateNode;n?Df(X,!0):Df(S.stateNode,!1)}catch(fe){ct(S,S.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,_r(e,a))));break;case 19:ka(t,e),Ca(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_r(e,s)));break;case 30:break;case 21:break;default:ka(t,e),Ca(e)}}function Ca(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Au(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var n=a.stateNode,i=jc(e);Tr(e,i,n);break;case 5:var r=a.stateNode;a.flags&32&&(kl(r,""),a.flags&=-33);var x=jc(e);Tr(e,x,r);break;case 3:case 4:var S=a.stateNode.containerInfo,U=jc(e);Nc(e,U,S);break;default:throw Error(o(161))}}catch(Q){ct(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lu(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Lu(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function as(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zu(e,t.alternate,t),t=t.sibling}function fn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ds(4,t,t.return),fn(t);break;case 1:El(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Cu(t,t.return,a),fn(t);break;case 27:Ui(t.stateNode);case 26:case 5:El(t,t.return),fn(t);break;case 22:t.memoizedState===null&&fn(t);break;case 30:fn(t);break;default:fn(t)}e=e.sibling}}function ls(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:ls(n,i,a),Ci(4,i);break;case 1:if(ls(n,i,a),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(U){ct(s,s.return,U)}if(s=i,n=s.updateQueue,n!==null){var x=s.stateNode;try{var S=n.shared.hiddenCallbacks;if(S!==null)for(n.shared.hiddenCallbacks=null,n=0;n<S.length;n++)p0(S[n],x)}catch(U){ct(s,s.return,U)}}a&&r&64&&ku(i),Di(i,i.return);break;case 27:Tu(i);case 26:case 5:ls(n,i,a),a&&s===null&&r&4&&Du(i),Di(i,i.return);break;case 12:ls(n,i,a);break;case 31:ls(n,i,a),a&&r&4&&Ou(n,i);break;case 13:ls(n,i,a),a&&r&4&&Ru(n,i);break;case 22:i.memoizedState===null&&ls(n,i,a),Di(i,i.return);break;case 30:break;default:ls(n,i,a)}t=t.sibling}}function Sc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xi(a))}function Mc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e))}function pl(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bu(e,t,a,s),t=t.sibling}function Bu(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:pl(e,t,a,s),n&2048&&Ci(9,t);break;case 1:pl(e,t,a,s);break;case 3:pl(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e)));break;case 12:if(n&2048){pl(e,t,a,s),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,x=i.onPostCommit;typeof x=="function"&&x(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ct(t,t.return,S)}}else pl(e,t,a,s);break;case 31:pl(e,t,a,s);break;case 13:pl(e,t,a,s);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?pl(e,t,a,s):Ai(e,t):i._visibility&2?pl(e,t,a,s):(i._visibility|=2,Un(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Sc(r,t);break;case 24:pl(e,t,a,s),n&2048&&Mc(t.alternate,t);break;default:pl(e,t,a,s)}}function Un(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,x=a,S=s,U=r.flags;switch(r.tag){case 0:case 11:case 15:Un(i,r,x,S,n),Ci(8,r);break;case 23:break;case 22:var Q=r.stateNode;r.memoizedState!==null?Q._visibility&2?Un(i,r,x,S,n):Ai(i,r):(Q._visibility|=2,Un(i,r,x,S,n)),n&&U&2048&&Sc(r.alternate,r);break;case 24:Un(i,r,x,S,n),n&&U&2048&&Mc(r.alternate,r);break;default:Un(i,r,x,S,n)}t=t.sibling}}function Ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:Ai(a,s),n&2048&&Sc(s.alternate,s);break;case 24:Ai(a,s),n&2048&&Mc(s.alternate,s);break;default:Ai(a,s)}t=t.sibling}}var Ti=8192;function Ln(e,t,a){if(e.subtreeFlags&Ti)for(e=e.child;e!==null;)Gu(e,t,a),e=e.sibling}function Gu(e,t,a){switch(e.tag){case 26:Ln(e,t,a),e.flags&Ti&&e.memoizedState!==null&&Cp(a,xl,e.memoizedState,e.memoizedProps);break;case 5:Ln(e,t,a);break;case 3:case 4:var s=xl;xl=Yr(e.stateNode.containerInfo),Ln(e,t,a),xl=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ti,Ti=16777216,Ln(e,t,a),Ti=s):Ln(e,t,a));break;default:Ln(e,t,a)}}function Vu(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];It=s,qu(s,e)}Vu(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xu(e),e=e.sibling}function Xu(e){switch(e.tag){case 0:case 11:case 15:_i(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:_i(e);break;case 12:_i(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zr(e)):_i(e);break;default:_i(e)}}function zr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];It=s,qu(s,e)}Vu(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ds(8,t,t.return),zr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,zr(t));break;default:zr(t)}e=e.sibling}}function qu(e,t){for(;It!==null;){var a=It;switch(a.tag){case 0:case 11:case 15:Ds(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:xi(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,It=s;else e:for(a=e;It!==null;){s=It;var n=s.sibling,i=s.return;if(Eu(s),s===a){It=null;break e}if(n!==null){n.return=i,It=n;break e}It=i}}}var Xx={getCacheForType:function(e){var t=aa(Xt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return aa(Xt).controller.signal}},qx=typeof WeakMap=="function"?WeakMap:Map,nt=0,gt=null,qe=null,Ye=0,ot=0,Va=null,As=!1,Bn=!1,kc=!1,ss=0,Rt=0,Ts=0,mn=0,Cc=0,Xa=0,Gn=0,zi=null,Da=null,Dc=!1,Er=0,$u=0,Hr=1/0,Or=null,_s=null,Zt=0,zs=null,Vn=null,ns=0,Ac=0,Tc=null,Yu=null,Ei=0,_c=null;function qa(){return(nt&2)!==0&&Ye!==0?Ye&-Ye:B.T!==null?Uc():jt()}function Qu(){if(Xa===0)if((Ye&536870912)===0||Ze){var e=ll;ll<<=1,(ll&3932160)===0&&(ll=262144),Xa=e}else Xa=536870912;return e=Ba.current,e!==null&&(e.flags|=32),Xa}function Aa(e,t,a){(e===gt&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(Xn(e,0),Es(e,Ye,Xa,!1)),fa(e,a),((nt&2)===0||e!==gt)&&(e===gt&&((nt&2)===0&&(mn|=a),Rt===4&&Es(e,Ye,Xa,!1)),Hl(e))}function Ku(e,t,a){if((nt&6)!==0)throw Error(o(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||nl(e,t),n=s?Qx(e,t):Ec(e,t,!0),i=s;do{if(n===0){Bn&&!s&&Es(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!$x(a)){n=Ec(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var x=e;n=zi;var S=x.current.memoizedState.isDehydrated;if(S&&(Xn(x,r).flags|=256),r=Ec(x,r,!1),r!==2){if(kc&&!S){x.errorRecoveryDisabledLanes|=i,mn|=i,n=4;break e}i=Da,Da=n,i!==null&&(Da===null?Da=i:Da.push.apply(Da,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){Xn(e,0),Es(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Es(s,t,Xa,!As);break e;case 2:Da=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=Er+300-pt(),10<n)){if(Es(s,t,Xa,!As),va(s,0,!0)!==0)break e;ns=t,s.timeoutHandle=Mf(Zu.bind(null,s,a,Da,Or,Dc,t,Xa,mn,Gn,As,i,"Throttled",-0,0),n);break e}Zu(s,a,Da,Or,Dc,t,Xa,mn,Gn,As,i,null,-0,0)}}break}while(!0);Hl(e)}function Zu(e,t,a,s,n,i,r,x,S,U,Q,J,G,X){if(e.timeoutHandle=-1,J=t.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:k},Gu(t,i,J);var fe=(i&62914560)===i?Er-pt():(i&4194048)===i?$u-pt():0;if(fe=Dp(J,fe),fe!==null){ns=i,e.cancelPendingCommit=fe(af.bind(null,e,t,i,a,s,n,r,x,S,Q,J,null,G,X)),Es(e,i,r,!U);return}}af(e,t,i,a,s,n,r,x,S)}function $x(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],i=n.getSnapshot;n=n.value;try{if(!Ua(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Es(e,t,a,s){t&=~Cc,t&=~mn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-Gt(n),r=1<<i;s[i]=-1,n&=~r}a!==0&&te(e,a,t)}function Rr(){return(nt&6)===0?(Hi(0),!1):!0}function zc(){if(qe!==null){if(ot===0)var e=qe.return;else e=qe,Zl=ln=null,Zo(e),zn=null,hi=0,e=qe;for(;e!==null;)Mu(e.alternate,e),e=e.return;qe=null}}function Xn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,dp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ns=0,zc(),gt=e,qe=a=Ql(e.current,null),Ye=t,ot=0,Va=null,As=!1,Bn=nl(e,t),kc=!1,Gn=Xa=Cc=mn=Ts=Rt=0,Da=zi=null,Dc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-Gt(s),i=1<<n;t|=e[n],s&=~i}return ss=t,lr(),a}function Fu(e,t){Re=null,B.H=Si,t===_n||t===ur?(t=u0(),ot=3):t===Ro?(t=u0(),ot=4):ot=t===dc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Va=t,qe===null&&(Rt=1,Mr(e,Fa(t,e.current)))}function Ju(){var e=Ba.current;return e===null?!0:(Ye&4194048)===Ye?Pa===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?e===Pa:!1}function Wu(){var e=B.H;return B.H=Si,e===null?Si:e}function Iu(){var e=B.A;return B.A=Xx,e}function Ur(){Rt=4,As||(Ye&4194048)!==Ye&&Ba.current!==null||(Bn=!0),(Ts&134217727)===0&&(mn&134217727)===0||gt===null||Es(gt,Ye,Xa,!1)}function Ec(e,t,a){var s=nt;nt|=2;var n=Wu(),i=Iu();(gt!==e||Ye!==t)&&(Or=null,Xn(e,t)),t=!1;var r=Rt;e:do try{if(ot!==0&&qe!==null){var x=qe,S=Va;switch(ot){case 8:zc(),r=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(t=!0);var U=ot;if(ot=0,Va=null,qn(e,x,S,U),a&&Bn){r=0;break e}break;default:U=ot,ot=0,Va=null,qn(e,x,S,U)}}Yx(),r=Rt;break}catch(Q){Fu(e,Q)}while(!0);return t&&e.shellSuspendCounter++,Zl=ln=null,nt=s,B.H=n,B.A=i,qe===null&&(gt=null,Ye=0,lr()),r}function Yx(){for(;qe!==null;)Pu(qe)}function Qx(e,t){var a=nt;nt|=2;var s=Wu(),n=Iu();gt!==e||Ye!==t?(Or=null,Hr=pt()+500,Xn(e,t)):Bn=nl(e,t);e:do try{if(ot!==0&&qe!==null){t=qe;var i=Va;t:switch(ot){case 1:ot=0,Va=null,qn(e,t,i,1);break;case 2:case 9:if(c0(i)){ot=0,Va=null,ef(t);break}t=function(){ot!==2&&ot!==9||gt!==e||(ot=7),Hl(e)},i.then(t,t);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:c0(i)?(ot=0,Va=null,ef(t)):(ot=0,Va=null,qn(e,t,i,7));break;case 5:var r=null;switch(qe.tag){case 26:r=qe.memoizedState;case 5:case 27:var x=qe;if(r?Gf(r):x.stateNode.complete){ot=0,Va=null;var S=x.sibling;if(S!==null)qe=S;else{var U=x.return;U!==null?(qe=U,Lr(U)):qe=null}break t}}ot=0,Va=null,qn(e,t,i,5);break;case 6:ot=0,Va=null,qn(e,t,i,6);break;case 8:zc(),Rt=6;break e;default:throw Error(o(462))}}Kx();break}catch(Q){Fu(e,Q)}while(!0);return Zl=ln=null,B.H=s,B.A=n,nt=a,qe!==null?0:(gt=null,Ye=0,lr(),Rt)}function Kx(){for(;qe!==null&&!Ya();)Pu(qe)}function Pu(e){var t=wu(e.alternate,e,ss);e.memoizedProps=e.pendingProps,t===null?Lr(e):qe=t}function ef(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=gu(a,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=gu(a,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:Zo(t);default:Mu(a,t),t=qe=Id(t,ss),t=wu(a,t,ss)}e.memoizedProps=e.pendingProps,t===null?Lr(e):qe=t}function qn(e,t,a,s){Zl=ln=null,Zo(t),zn=null,hi=0;var n=t.return;try{if(Ox(e,n,t,a,Ye)){Rt=1,Mr(e,Fa(a,e.current)),qe=null;return}}catch(i){if(n!==null)throw qe=n,i;Rt=1,Mr(e,Fa(a,e.current)),qe=null;return}t.flags&32768?(Ze||s===1?e=!0:Bn||(Ye&536870912)!==0?e=!1:(As=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ba.current,s!==null&&s.tag===13&&(s.flags|=16384))),tf(t,e)):Lr(t)}function Lr(e){var t=e;do{if((t.flags&32768)!==0){tf(t,As);return}e=t.return;var a=Lx(t.alternate,t,ss);if(a!==null){qe=a;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Rt===0&&(Rt=5)}function tf(e,t){do{var a=Bx(e.alternate,e);if(a!==null){a.flags&=32767,qe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=a}while(e!==null);Rt=6,qe=null}function af(e,t,a,s,n,i,r,x,S){e.cancelPendingCommit=null;do Br();while(Zt!==0);if((nt&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=jo,Tt(e,a,i,r,x,S),e===gt&&(qe=gt=null,Ye=0),Vn=t,zs=e,ns=a,Ac=i,Tc=n,Yu=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wx(za,function(){return of(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=B.T,B.T=null,n=Z.p,Z.p=2,r=nt,nt|=4;try{Gx(e,t,a)}finally{nt=r,Z.p=n,B.T=s}}Zt=1,lf(),sf(),nf()}}function lf(){if(Zt===1){Zt=0;var e=zs,t=Vn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var s=Z.p;Z.p=2;var n=nt;nt|=4;try{Uu(t,e);var i=Yc,r=qd(e.containerInfo),x=i.focusedElem,S=i.selectionRange;if(r!==x&&x&&x.ownerDocument&&Xd(x.ownerDocument.documentElement,x)){if(S!==null&&ho(x)){var U=S.start,Q=S.end;if(Q===void 0&&(Q=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(Q,x.value.length);else{var J=x.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var X=G.getSelection(),fe=x.textContent.length,we=Math.min(S.start,fe),ft=S.end===void 0?we:Math.min(S.end,fe);!X.extend&&we>ft&&(r=ft,ft=we,we=r);var E=Vd(x,we),D=Vd(x,ft);if(E&&D&&(X.rangeCount!==1||X.anchorNode!==E.node||X.anchorOffset!==E.offset||X.focusNode!==D.node||X.focusOffset!==D.offset)){var R=J.createRange();R.setStart(E.node,E.offset),X.removeAllRanges(),we>ft?(X.addRange(R),X.extend(D.node,D.offset)):(R.setEnd(D.node,D.offset),X.addRange(R))}}}}for(J=[],X=x;X=X.parentNode;)X.nodeType===1&&J.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<J.length;x++){var F=J[x];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Wr=!!$c,Yc=$c=null}finally{nt=n,Z.p=s,B.T=a}}e.current=t,Zt=2}}function sf(){if(Zt===2){Zt=0;var e=zs,t=Vn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var s=Z.p;Z.p=2;var n=nt;nt|=4;try{zu(e,t.alternate,t)}finally{nt=n,Z.p=s,B.T=a}}Zt=3}}function nf(){if(Zt===4||Zt===3){Zt=0,ga();var e=zs,t=Vn,a=ns,s=Yu;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Zt=5:(Zt=0,Vn=zs=null,rf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(_s=null),We(a),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(ba,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=B.T,n=Z.p,Z.p=2,B.T=null;try{for(var i=e.onRecoverableError,r=0;r<s.length;r++){var x=s[r];i(x.value,{componentStack:x.stack})}}finally{B.T=t,Z.p=n}}(ns&3)!==0&&Br(),Hl(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===_c?Ei++:(Ei=0,_c=e):Ei=0,Hi(0)}}function rf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xi(t)))}function Br(){return lf(),sf(),nf(),of()}function of(){if(Zt!==5)return!1;var e=zs,t=Ac;Ac=0;var a=We(ns),s=B.T,n=Z.p;try{Z.p=32>a?32:a,B.T=null,a=Tc,Tc=null;var i=zs,r=ns;if(Zt=0,Vn=zs=null,ns=0,(nt&6)!==0)throw Error(o(331));var x=nt;if(nt|=4,Xu(i.current),Bu(i,i.current,r,a),nt=x,Hi(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(ba,i)}catch{}return!0}finally{Z.p=n,B.T=s,rf(e,t)}}function cf(e,t,a){t=Fa(a,t),t=cc(e.stateNode,t,2),e=Ms(e,t,2),e!==null&&(fa(e,2),Hl(e))}function ct(e,t,a){if(e.tag===3)cf(e,e,a);else for(;t!==null;){if(t.tag===3){cf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_s===null||!_s.has(s))){e=Fa(a,e),a=cu(2),s=Ms(t,a,2),s!==null&&(du(a,s,t,e),fa(s,2),Hl(s));break}}t=t.return}}function Hc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new qx;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(kc=!0,n.add(a),e=Zx.bind(null,e,t,a),t.then(e,e))}function Zx(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,gt===e&&(Ye&a)===a&&(Rt===4||Rt===3&&(Ye&62914560)===Ye&&300>pt()-Er?(nt&2)===0&&Xn(e,0):Cc|=a,Gn===Ye&&(Gn=0)),Hl(e)}function df(e,t){t===0&&(t=ne()),e=en(e,t),e!==null&&(fa(e,t),Hl(e))}function Fx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),df(e,a)}function Jx(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),df(e,a)}function Wx(e,t){return Ft(e,t)}var Gr=null,$n=null,Oc=!1,Vr=!1,Rc=!1,Hs=0;function Hl(e){e!==$n&&e.next===null&&($n===null?Gr=$n=e:$n=$n.next=e),Vr=!0,Oc||(Oc=!0,Px())}function Hi(e,t){if(!Rc&&Vr){Rc=!0;do for(var a=!1,s=Gr;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var r=s.suspendedLanes,x=s.pingedLanes;i=(1<<31-Gt(42|e)+1)-1,i&=n&~(r&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,xf(s,i))}else i=Ye,i=va(s,s===gt?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||nl(s,i)||(a=!0,xf(s,i));s=s.next}while(a);Rc=!1}}function Ix(){uf()}function uf(){Vr=Oc=!1;var e=0;Hs!==0&&cp()&&(e=Hs);for(var t=pt(),a=null,s=Gr;s!==null;){var n=s.next,i=ff(s,t);i===0?(s.next=null,a===null?Gr=n:a.next=n,n===null&&($n=a)):(a=s,(e!==0||(i&3)!==0)&&(Vr=!0)),s=n}Zt!==0&&Zt!==5||Hi(e),Hs!==0&&(Hs=0)}function ff(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-Gt(i),x=1<<r,S=n[r];S===-1?((x&a)===0||(x&s)!==0)&&(n[r]=Ll(x,t)):S<=t&&(e.expiredLanes|=x),i&=~x}if(t=gt,a=Ye,a=va(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&At(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||nl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&At(s),We(a)){case 2:case 8:a=bl;break;case 32:a=za;break;case 268435456:a=ds;break;default:a=za}return s=mf.bind(null,e),a=Ft(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&At(s),e.callbackPriority=2,e.callbackNode=null,2}function mf(e,t){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Br()&&e.callbackNode!==a)return null;var s=Ye;return s=va(e,e===gt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ku(e,s,t),ff(e,pt()),e.callbackNode!=null&&e.callbackNode===a?mf.bind(null,e):null)}function xf(e,t){if(Br())return null;Ku(e,t,!0)}function Px(){up(function(){(nt&6)!==0?Ft(Rl,Ix):uf()})}function Uc(){if(Hs===0){var e=An;e===0&&(e=ia,ia<<=1,(ia&261888)===0&&(ia=256)),Hs=e}return Hs}function pf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:T(""+e)}function hf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ep(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var i=pf((n[Jt]||null).action),r=s.submitter;r&&(t=(t=r[Jt]||null)?pf(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var x=new ql("action","action",null,s,n);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Hs!==0){var S=r?hf(n,r):new FormData(n);lc(a,{pending:!0,data:S,method:n.method,action:i},null,S)}}else typeof i=="function"&&(x.preventDefault(),S=r?hf(n,r):new FormData(n),lc(a,{pending:!0,data:S,method:n.method,action:i},i,S))},currentTarget:n}]})}}for(var Lc=0;Lc<vo.length;Lc++){var Bc=vo[Lc],tp=Bc.toLowerCase(),ap=Bc[0].toUpperCase()+Bc.slice(1);ml(tp,"on"+ap)}ml(Qd,"onAnimationEnd"),ml(Kd,"onAnimationIteration"),ml(Zd,"onAnimationStart"),ml("dblclick","onDoubleClick"),ml("focusin","onFocus"),ml("focusout","onBlur"),ml(bx,"onTransitionRun"),ml(yx,"onTransitionStart"),ml(vx,"onTransitionCancel"),ml(Fd,"onTransitionEnd"),ol("onMouseEnter",["mouseout","mouseover"]),ol("onMouseLeave",["mouseout","mouseover"]),ol("onPointerEnter",["pointerout","pointerover"]),ol("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oi));function gf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var r=s.length-1;0<=r;r--){var x=s[r],S=x.instance,U=x.currentTarget;if(x=x.listener,S!==i&&n.isPropagationStopped())break e;i=x,n.currentTarget=U;try{i(n)}catch(Q){ar(Q)}n.currentTarget=null,i=S}else for(r=0;r<s.length;r++){if(x=s[r],S=x.instance,U=x.currentTarget,x=x.listener,S!==i&&n.isPropagationStopped())break e;i=x,n.currentTarget=U;try{i(n)}catch(Q){ar(Q)}n.currentTarget=null,i=S}}}}function $e(e,t){var a=t[Ha];a===void 0&&(a=t[Ha]=new Set);var s=e+"__bubble";a.has(s)||(bf(t,e,2,!1),a.add(s))}function Gc(e,t,a){var s=0;t&&(s|=4),bf(a,e,s,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function Vc(e){if(!e[Xr]){e[Xr]=!0,jl.forEach(function(a){a!=="selectionchange"&&(lp.has(a)||Gc(a,!1,e),Gc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xr]||(t[Xr]=!0,Gc("selectionchange",!1,t))}}function bf(e,t,a,s){switch(Kf(t)){case 2:var n=_p;break;case 8:n=zp;break;default:n=ad}a=n.bind(null,t,a,e),n=void 0,!Js||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Xc(e,t,a,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var x=s.stateNode.containerInfo;if(x===n)break;if(r===4)for(r=s.return;r!==null;){var S=r.tag;if((S===3||S===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;x!==null;){if(r=Qa(x),r===null)return;if(S=r.tag,S===5||S===6||S===26||S===27){s=i=r;continue e}x=x.parentNode}}s=s.return}zt(function(){var U=i,Q=$(a),J=[];e:{var G=Jd.get(e);if(G!==void 0){var X=ql,fe=e;switch(e){case"keypress":if(gs(a)===0)break e;case"keydown":case"keyup":X=Y;break;case"focusin":fe="focus",X=Ct;break;case"focusout":fe="blur",X=Ct;break;case"beforeblur":case"afterblur":X=Ct;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ht;break;case Qd:case Kd:case Zd:X=ii;break;case Fd:X=yn;break;case"scroll":case"scrollend":X=Sa;break;case"wheel":X=lx;break;case"copy":case"cut":case"paste":X=Pi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=et;break;case"toggle":case"beforetoggle":X=nx}var we=(t&4)!==0,ft=!we&&(e==="scroll"||e==="scrollend"),E=we?G!==null?G+"Capture":null:G;we=[];for(var D=U,R;D!==null;){var F=D;if(R=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||R===null||E===null||(F=Vl(D,E),F!=null&&we.push(Ri(D,F,R))),ft)break;D=D.return}0<we.length&&(G=new X(G,fe,null,a,Q),J.push({event:G,listeners:we}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",G&&a!==A&&(fe=a.relatedTarget||a.fromElement)&&(Qa(fe)||fe[Ea]))break e;if((X||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,X?(fe=a.relatedTarget||a.toElement,X=U,fe=fe?Qa(fe):null,fe!==null&&(ft=u(fe),we=fe.tag,fe!==ft||we!==5&&we!==27&&we!==6)&&(fe=null)):(X=null,fe=U),X!==fe)){if(we=Ws,F="onMouseLeave",E="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(we=et,F="onPointerLeave",E="onPointerEnter",D="pointer"),ft=X==null?G:rl(X),R=fe==null?G:rl(fe),G=new we(F,D+"leave",X,a,Q),G.target=ft,G.relatedTarget=R,F=null,Qa(Q)===U&&(we=new we(E,D+"enter",fe,a,Q),we.target=R,we.relatedTarget=ft,F=we),ft=F,X&&fe)t:{for(we=sp,E=X,D=fe,R=0,F=E;F;F=we(F))R++;F=0;for(var je=D;je;je=we(je))F++;for(;0<R-F;)E=we(E),R--;for(;0<F-R;)D=we(D),F--;for(;R--;){if(E===D||D!==null&&E===D.alternate){we=E;break t}E=we(E),D=we(D)}we=null}else we=null;X!==null&&yf(J,G,X,we,!1),fe!==null&&ft!==null&&yf(J,ft,fe,we,!0)}}e:{if(G=U?rl(U):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var lt=Od;else if(Ed(G))if(Rd)lt=px;else{lt=mx;var me=fx}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&hs(U.elementType)&&(lt=Od):lt=xx;if(lt&&(lt=lt(e,U))){Hd(J,lt,a,Q);break e}me&&me(e,G,U),e==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Zs(G,"number",G.value)}switch(me=U?rl(U):window,e){case"focusin":(Ed(me)||me.contentEditable==="true")&&(jn=me,go=U,ui=null);break;case"focusout":ui=go=jn=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,$d(J,a,Q);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":$d(J,a,Q)}var Ue;if(mo)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else vn?_d(e,a)&&(Qe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(Dd&&a.locale!=="ko"&&(vn||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&vn&&(Ue=Al()):(_e=Q,ca="value"in _e?_e.value:_e.textContent,vn=!0)),me=qr(U,Qe),0<me.length&&(Qe=new uo(Qe,e,null,a,Q),J.push({event:Qe,listeners:me}),Ue?Qe.data=Ue:(Ue=zd(a),Ue!==null&&(Qe.data=Ue)))),(Ue=rx?ox(e,a):cx(e,a))&&(Qe=qr(U,"onBeforeInput"),0<Qe.length&&(me=new uo("onBeforeInput","beforeinput",null,a,Q),J.push({event:me,listeners:Qe}),me.data=Ue)),ep(J,e,U,a,Q)}gf(J,t)})}function Ri(e,t,a){return{instance:e,listener:t,currentTarget:a}}function qr(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Vl(e,a),n!=null&&s.unshift(Ri(e,n,i)),n=Vl(e,t),n!=null&&s.push(Ri(e,n,i))),e.tag===3)return s;e=e.return}return[]}function sp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yf(e,t,a,s,n){for(var i=t._reactName,r=[];a!==null&&a!==s;){var x=a,S=x.alternate,U=x.stateNode;if(x=x.tag,S!==null&&S===s)break;x!==5&&x!==26&&x!==27||U===null||(S=U,n?(U=Vl(a,i),U!=null&&r.unshift(Ri(a,U,S))):n||(U=Vl(a,i),U!=null&&r.push(Ri(a,U,S)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var np=/\r\n?/g,ip=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(np,`
`).replace(ip,"")}function jf(e,t){return t=vf(t),vf(e)===t}function ut(e,t,a,s,n,i){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||kl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&kl(e,""+s);break;case"className":xs(e,"class",s);break;case"tabIndex":xs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(e,a,s);break;case"style":dl(e,s,i);break;case"data":if(t!=="object"){xs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=T(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&ut(e,t,"name",n.name,n,null),ut(e,t,"formEncType",n.formEncType,n,null),ut(e,t,"formMethod",n.formMethod,n,null),ut(e,t,"formTarget",n.formTarget,n,null)):(ut(e,t,"encType",n.encType,n,null),ut(e,t,"method",n.method,n,null),ut(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=T(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=k);break;case"onScroll":s!=null&&$e("scroll",e);break;case"onScrollEnd":s!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=T(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":$e("beforetoggle",e),$e("toggle",e),Oa(e,"popover",s);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Oa(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cl.get(a)||a,Oa(e,a,s))}}function qc(e,t,a,s,n,i){switch(a){case"style":dl(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof s=="string"?kl(e,s):(typeof s=="number"||typeof s=="bigint")&&kl(e,""+s);break;case"onScroll":s!=null&&$e("scroll",e);break;case"onScrollEnd":s!=null&&$e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=k);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[Jt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Oa(e,a,s)}}}function sa(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var s=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ut(e,t,i,r,a,null)}}n&&ut(e,t,"srcSet",a.srcSet,a,null),s&&ut(e,t,"src",a.src,a,null);return;case"input":$e("invalid",e);var x=i=r=n=null,S=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var Q=a[s];if(Q!=null)switch(s){case"name":n=Q;break;case"type":r=Q;break;case"checked":S=Q;break;case"defaultChecked":U=Q;break;case"value":i=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:ut(e,t,s,Q,a,null)}}Ml(e,i,x,S,U,r,n,!1);return;case"select":$e("invalid",e),s=r=i=null;for(n in a)if(a.hasOwnProperty(n)&&(x=a[n],x!=null))switch(n){case"value":i=x;break;case"defaultValue":r=x;break;case"multiple":s=x;default:ut(e,t,n,x,a,null)}t=i,a=r,e.multiple=!!s,t!=null?Ra(e,!!s,t,!1):a!=null&&Ra(e,!!s,a,!0);return;case"textarea":$e("invalid",e),i=n=s=null;for(r in a)if(a.hasOwnProperty(r)&&(x=a[r],x!=null))switch(r){case"value":s=x;break;case"defaultValue":n=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:ut(e,t,r,x,a,null)}Gl(e,s,n,i);return;case"option":for(S in a)a.hasOwnProperty(S)&&(s=a[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":ut(e,t,S,s,a,null));return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(s=0;s<Oi.length;s++)$e(Oi[s],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ut(e,t,U,s,a,null)}return;default:if(hs(t)){for(Q in a)a.hasOwnProperty(Q)&&(s=a[Q],s!==void 0&&qc(e,t,Q,s,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null&&ut(e,t,x,s,a,null))}function rp(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,x=null,S=null,U=null,Q=null;for(X in a){var J=a[X];if(a.hasOwnProperty(X)&&J!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":S=J;default:s.hasOwnProperty(X)||ut(e,t,X,null,s,J)}}for(var G in s){var X=s[G];if(J=a[G],s.hasOwnProperty(G)&&(X!=null||J!=null))switch(G){case"type":i=X;break;case"name":n=X;break;case"checked":U=X;break;case"defaultChecked":Q=X;break;case"value":r=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:X!==J&&ut(e,t,G,X,s,J)}}Ks(e,r,x,S,U,Q,i,n);return;case"select":X=r=x=G=null;for(i in a)if(S=a[i],a.hasOwnProperty(i)&&S!=null)switch(i){case"value":break;case"multiple":X=S;default:s.hasOwnProperty(i)||ut(e,t,i,null,s,S)}for(n in s)if(i=s[n],S=a[n],s.hasOwnProperty(n)&&(i!=null||S!=null))switch(n){case"value":G=i;break;case"defaultValue":x=i;break;case"multiple":r=i;default:i!==S&&ut(e,t,n,i,s,S)}t=x,a=r,s=X,G!=null?Ra(e,!!a,G,!1):!!s!=!!a&&(t!=null?Ra(e,!!a,t,!0):Ra(e,!!a,a?[]:"",!1));return;case"textarea":X=G=null;for(x in a)if(n=a[x],a.hasOwnProperty(x)&&n!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ut(e,t,x,null,s,n)}for(r in s)if(n=s[r],i=a[r],s.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":G=n;break;case"defaultValue":X=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&ut(e,t,r,n,s,i)}hn(e,G,X);return;case"option":for(var fe in a)G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!s.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:ut(e,t,fe,null,s,G));for(S in s)G=s[S],X=a[S],s.hasOwnProperty(S)&&G!==X&&(G!=null||X!=null)&&(S==="selected"?e.selected=G&&typeof G!="function"&&typeof G!="symbol":ut(e,t,S,G,s,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)G=a[we],a.hasOwnProperty(we)&&G!=null&&!s.hasOwnProperty(we)&&ut(e,t,we,null,s,G);for(U in s)if(G=s[U],X=a[U],s.hasOwnProperty(U)&&G!==X&&(G!=null||X!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:ut(e,t,U,G,s,X)}return;default:if(hs(t)){for(var ft in a)G=a[ft],a.hasOwnProperty(ft)&&G!==void 0&&!s.hasOwnProperty(ft)&&qc(e,t,ft,void 0,s,G);for(Q in s)G=s[Q],X=a[Q],!s.hasOwnProperty(Q)||G===X||G===void 0&&X===void 0||qc(e,t,Q,G,s,X);return}}for(var E in a)G=a[E],a.hasOwnProperty(E)&&G!=null&&!s.hasOwnProperty(E)&&ut(e,t,E,null,s,G);for(J in s)G=s[J],X=a[J],!s.hasOwnProperty(J)||G===X||G==null&&X==null||ut(e,t,J,G,s,X)}function Nf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function op(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],i=n.transferSize,r=n.initiatorType,x=n.duration;if(i&&x&&Nf(r)){for(r=0,x=n.responseEnd,s+=1;s<a.length;s++){var S=a[s],U=S.startTime;if(U>x)break;var Q=S.transferSize,J=S.initiatorType;Q&&Nf(J)&&(S=S.responseEnd,r+=Q*(S<x?1:(x-U)/(S-U)))}if(--s,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $c=null,Yc=null;function $r(e){return e.nodeType===9?e:e.ownerDocument}function wf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=null;function cp(){var e=window.event;return e&&e.type==="popstate"?e===Kc?!1:(Kc=e,!0):(Kc=null,!1)}var Mf=typeof setTimeout=="function"?setTimeout:void 0,dp=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,up=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(fp)}:Mf;function fp(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Cf(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),Zn(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Ui(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ui(a);for(var i=a.firstChild;i;){var r=i.nextSibling,x=i.nodeName;i[_t]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&Ui(e.ownerDocument.body);a=n}while(a);Zn(t)}function Df(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zc(a),Pt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mp(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[_t])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=el(e.nextSibling),e===null)break}return null}function xp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=el(e.nextSibling),e===null))return null;return e}function Af(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=el(e.nextSibling),e===null))return null;return e}function Fc(e){return e.data==="$?"||e.data==="$~"}function Jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function pp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function el(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wc=null;function Tf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return el(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function _f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function zf(e,t,a){switch(t=$r(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Pt(e)}var tl=new Map,Ef=new Set;function Yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=Z.d;Z.d={f:hp,r:gp,D:bp,C:yp,L:vp,m:jp,X:wp,S:Np,M:Sp};function hp(){var e=is.f(),t=Rr();return e||t}function gp(e){var t=il(e);t!==null&&t.tag===5&&t.type==="form"?F0(t):is.r(e)}var Yn=typeof document>"u"?null:document;function Hf(e,t,a){var s=Yn;if(s&&typeof t=="string"&&t){var n=Wt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Ef.has(n)||(Ef.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),sa(t,"link",e),Nt(t),s.head.appendChild(t)))}}function bp(e){is.D(e),Hf("dns-prefetch",e,null)}function yp(e,t){is.C(e,t),Hf("preconnect",e,t)}function vp(e,t,a){is.L(e,t,a);var s=Yn;if(s&&e&&t){var n='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Wt(a.imageSizes)+'"]')):n+='[href="'+Wt(e)+'"]';var i=n;switch(t){case"style":i=Qn(e);break;case"script":i=Kn(e)}tl.has(i)||(e=N({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),tl.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Li(i))||t==="script"&&s.querySelector(Bi(i))||(t=s.createElement("link"),sa(t,"link",e),Nt(t),s.head.appendChild(t)))}}function jp(e,t){is.m(e,t);var a=Yn;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Wt(s)+'"][href="'+Wt(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Kn(e)}if(!tl.has(i)&&(e=N({rel:"modulepreload",href:e},t),tl.set(i,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bi(i)))return}s=a.createElement("link"),sa(s,"link",e),Nt(s),a.head.appendChild(s)}}}function Np(e,t,a){is.S(e,t,a);var s=Yn;if(s&&e){var n=Na(s).hoistableStyles,i=Qn(e);t=t||"default";var r=n.get(i);if(!r){var x={loading:0,preload:null};if(r=s.querySelector(Li(i)))x.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},a),(a=tl.get(i))&&Ic(e,a);var S=r=s.createElement("link");Nt(S),sa(S,"link",e),S._p=new Promise(function(U,Q){S.onload=U,S.onerror=Q}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Qr(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:x},n.set(i,r)}}}function wp(e,t){is.X(e,t);var a=Yn;if(a&&e){var s=Na(a).hoistableScripts,n=Kn(e),i=s.get(n);i||(i=a.querySelector(Bi(n)),i||(e=N({src:e,async:!0},t),(t=tl.get(n))&&Pc(e,t),i=a.createElement("script"),Nt(i),sa(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Sp(e,t){is.M(e,t);var a=Yn;if(a&&e){var s=Na(a).hoistableScripts,n=Kn(e),i=s.get(n);i||(i=a.querySelector(Bi(n)),i||(e=N({src:e,async:!0,type:"module"},t),(t=tl.get(n))&&Pc(e,t),i=a.createElement("script"),Nt(i),sa(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Of(e,t,a,s){var n=(n=ve.current)?Yr(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Qn(a.href),a=Na(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qn(a.href);var i=Na(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(Li(e)))&&!i._p&&(r.instance=i,r.state.loading=5),tl.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tl.set(e,a),i||Mp(n,e,a,r.state))),t&&s===null)throw Error(o(528,""));return r}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kn(a),a=Na(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Qn(e){return'href="'+Wt(e)+'"'}function Li(e){return'link[rel="stylesheet"]['+e+"]"}function Rf(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function Mp(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),sa(t,"link",a),Nt(t),e.head.appendChild(t))}function Kn(e){return'[src="'+Wt(e)+'"]'}function Bi(e){return"script[async]"+e}function Uf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Wt(a.href)+'"]');if(s)return t.instance=s,Nt(s),s;var n=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Nt(s),sa(s,"style",n),Qr(s,a.precedence,e),t.instance=s;case"stylesheet":n=Qn(a.href);var i=e.querySelector(Li(n));if(i)return t.state.loading|=4,t.instance=i,Nt(i),i;s=Rf(a),(n=tl.get(n))&&Ic(s,n),i=(e.ownerDocument||e).createElement("link"),Nt(i);var r=i;return r._p=new Promise(function(x,S){r.onload=x,r.onerror=S}),sa(i,"link",s),t.state.loading|=4,Qr(i,a.precedence,e),t.instance=i;case"script":return i=Kn(a.src),(n=e.querySelector(Bi(i)))?(t.instance=n,Nt(n),n):(s=a,(n=tl.get(i))&&(s=N({},a),Pc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Nt(n),sa(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Qr(s,a.precedence,e));return t.instance}function Qr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,r=0;r<s.length;r++){var x=s[r];if(x.dataset.precedence===t)i=x;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kr=null;function Lf(e,t,a){if(Kr===null){var s=new Map,n=Kr=new Map;n.set(a,s)}else n=Kr,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[_t]||i[bt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var x=s.get(r);x?x.push(i):s.set(r,[i])}}return s}function Bf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function kp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cp(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Qn(s.href),i=t.querySelector(Li(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Nt(i);return}i=t.ownerDocument||t,s=Rf(s),(n=tl.get(n))&&Ic(s,n),i=i.createElement("link"),Nt(i);var r=i;r._p=new Promise(function(x,S){r.onload=x,r.onerror=S}),sa(i,"link",s),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Zr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ed=0;function Dp(e,t){return e.stylesheets&&e.count===0&&Jr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&ed===0&&(ed=62500*op());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>ed?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Zr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fr=null;function Jr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fr=new Map,t.forEach(Ap,e),Fr=null,Zr.call(e))}function Ap(e,t){if(!(t.state.loading&4)){var a=Fr.get(e);if(a)var s=a.get(null);else{a=new Map,Fr.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),s=r)}s&&a.set(null,s)}n=t.instance,r=n.getAttribute("data-precedence"),i=a.get(r)||s,i===s&&a.set(null,n),a.set(r,n),this.count++,s=Zr.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Gi={$$typeof:P,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Tp(e,t,a,s,n,i,r,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.hiddenUpdates=vl(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Vf(e,t,a,s,n,i,r,x,S,U,Q,J){return e=new Tp(e,t,a,r,S,U,Q,J,x),t=1,i===!0&&(t|=24),i=La(3,null,null,t),e.current=i,i.stateNode=e,t=Eo(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:a,cache:t},Uo(i),e}function Xf(e){return e?(e=Sn,e):Sn}function qf(e,t,a,s,n,i){n=Xf(n),s.context===null?s.context=n:s.pendingContext=n,s=Ss(t),s.payload={element:a},i=i===void 0?null:i,i!==null&&(s.callback=i),a=Ms(e,s,t),a!==null&&(Aa(a,e,t),bi(a,e,t))}function $f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function td(e,t){$f(e,t),(e=e.alternate)&&$f(e,t)}function Yf(e){if(e.tag===13||e.tag===31){var t=en(e,67108864);t!==null&&Aa(t,e,67108864),td(e,67108864)}}function Qf(e){if(e.tag===13||e.tag===31){var t=qa();t=ue(t);var a=en(e,t);a!==null&&Aa(a,e,t),td(e,t)}}var Wr=!0;function _p(e,t,a,s){var n=B.T;B.T=null;var i=Z.p;try{Z.p=2,ad(e,t,a,s)}finally{Z.p=i,B.T=n}}function zp(e,t,a,s){var n=B.T;B.T=null;var i=Z.p;try{Z.p=8,ad(e,t,a,s)}finally{Z.p=i,B.T=n}}function ad(e,t,a,s){if(Wr){var n=ld(s);if(n===null)Xc(e,t,s,Ir,a),Zf(e,s);else if(Hp(n,e,t,a,s))s.stopPropagation();else if(Zf(e,s),t&4&&-1<Ep.indexOf(e)){for(;n!==null;){var i=il(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=ya(i.pendingLanes);if(r!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;r;){var S=1<<31-Gt(r);x.entanglements[1]|=S,r&=~S}Hl(i),(nt&6)===0&&(Hr=pt()+500,Hi(0))}}break;case 31:case 13:x=en(i,2),x!==null&&Aa(x,i,2),Rr(),td(i,2)}if(i=ld(s),i===null&&Xc(e,t,s,Ir,a),i===n)break;n=i}n!==null&&s.stopPropagation()}else Xc(e,t,s,null,a)}}function ld(e){return e=$(e),sd(e)}var Ir=null;function sd(e){if(Ir=null,e=Qa(e),e!==null){var t=u(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ir=e,null}function Kf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case Rl:return 2;case bl:return 8;case za:case al:return 32;case ds:return 268435456;default:return 32}default:return 32}}var nd=!1,Rs=null,Us=null,Ls=null,Vi=new Map,Xi=new Map,Bs=[],Ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zf(e,t){switch(e){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(t.pointerId)}}function qi(e,t,a,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=il(t),t!==null&&Yf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Hp(e,t,a,s,n){switch(t){case"focusin":return Rs=qi(Rs,e,t,a,s,n),!0;case"dragenter":return Us=qi(Us,e,t,a,s,n),!0;case"mouseover":return Ls=qi(Ls,e,t,a,s,n),!0;case"pointerover":var i=n.pointerId;return Vi.set(i,qi(Vi.get(i)||null,e,t,a,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Xi.set(i,qi(Xi.get(i)||null,e,t,a,s,n)),!0}return!1}function Ff(e){var t=Qa(e.target);if(t!==null){var a=u(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,ja(e.priority,function(){Qf(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,ja(e.priority,function(){Qf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);A=s,a.target.dispatchEvent(s),A=null}else return t=il(a),t!==null&&Yf(t),e.blockedOn=a,!1;t.shift()}return!0}function Jf(e,t,a){Pr(e)&&a.delete(t)}function Op(){nd=!1,Rs!==null&&Pr(Rs)&&(Rs=null),Us!==null&&Pr(Us)&&(Us=null),Ls!==null&&Pr(Ls)&&(Ls=null),Vi.forEach(Jf),Xi.forEach(Jf)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Op)))}var to=null;function Wf(e){to!==e&&(to=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){to===e&&(to=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(sd(s||a)===null)continue;break}var i=il(a);i!==null&&(e.splice(t,3),t-=3,lc(i,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Zn(e){function t(S){return eo(S,e)}Rs!==null&&eo(Rs,e),Us!==null&&eo(Us,e),Ls!==null&&eo(Ls,e),Vi.forEach(t),Xi.forEach(t);for(var a=0;a<Bs.length;a++){var s=Bs[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bs.length&&(a=Bs[0],a.blockedOn===null);)Ff(a),a.blockedOn===null&&Bs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],i=a[s+1],r=n[Jt]||null;if(typeof i=="function")r||Wf(a);else if(r){var x=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[Jt]||null)x=r.formAction;else if(sd(n)!==null)continue}else x=r.action;typeof x=="function"?a[s+1]=x:(a.splice(s,3),s-=3),Wf(a)}}}function If(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function id(e){this._internalRoot=e}ao.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,s=qa();qf(a,s,e,t,null,null)},ao.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qf(e.current,2,null,e,null,null),Rr(),t[Ea]=null}};function ao(e){this._internalRoot=e}ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Bs.length&&t!==0&&t<Bs[a].priority;a++);Bs.splice(a,0,e),a===0&&Ff(e)}};var Pf=f.version;if(Pf!=="19.2.3")throw Error(o(527,Pf,"19.2.3"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{ba=lo.inject(Rp),Je=lo}catch{}}return Yi.createRoot=function(e,t){if(!m(e))throw Error(o(299));var a=!1,s="",n=nu,i=iu,r=ru;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Vf(e,1,!1,null,null,a,s,null,n,i,r,If),e[Ea]=t.current,Vc(e),new id(t)},Yi.hydrateRoot=function(e,t,a){if(!m(e))throw Error(o(299));var s=!1,n="",i=nu,r=iu,x=ru,S=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Vf(e,1,!0,t,a??null,s,n,S,i,r,x,If),t.context=Xf(null),a=t.current,s=qa(),s=ue(s),n=Ss(s),n.callback=null,Ms(a,n,s),a=s,t.current.lanes=a,fa(t,a),Hl(t),e[Ea]=t.current,Vc(e),new ao(t)},Yi.version="19.2.3",Yi}var cm;function Kp(){if(cm)return cd.exports;cm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(f){console.error(f)}}return c(),cd.exports=Qp(),cd.exports}var Zp=Kp();const Xe=c=>c>=1e6?(c/1e6).toFixed(1)+"M":c>=1e3?(c/1e3).toFixed(1)+"k":Math.floor(c).toString(),Um=[{id:"pot_heal",name:"Health Potion",description:"Restores 500 HP",effect:"heal",value:500,duration:0,cost:[{type:"herbs",amount:5}],emoji:""},{id:"pot_str",name:"Elixir of Strength",description:"+20% Attack for 5m",effect:"attack",value:.2,duration:300,cost:[{type:"herbs",amount:10},{type:"fish",amount:1}],emoji:""},{id:"pot_xp",name:"Wisdom Draught",description:"+20% XP for 5m",effect:"xp",value:.2,duration:300,cost:[{type:"herbs",amount:10},{type:"mithril",amount:1}],emoji:""}],Fp=[{id:"exp_forest",name:"Scout the Forest",description:"Quick patrol.",duration:300,difficulty:1,rewards:[{type:"gold",min:100,max:500},{type:"xp",min:100,max:200}],heroIds:[]},{id:"exp_cave",name:"Spelunking",description:"Search for shiny rocks.",duration:1800,difficulty:5,rewards:[{type:"gold",min:1e3,max:2e3},{type:"item",min:1,max:2}],heroIds:[]},{id:"exp_ruins",name:"Ancient Ruins",description:"High risk, high reward.",duration:14400,difficulty:20,rewards:[{type:"gold",min:5e3,max:1e4},{type:"artifact",min:0,max:1}],heroIds:[]}],Lm=[{id:"g1",name:"Xang",description:"+10% Physical Damage",bonusType:"physical",bonusValue:.1,level:1,xp:0,maxXp:1e3,bonus:"+10% Physical Damage",members:0,monuments:{},totalContribution:0},{id:"g2",name:"Zhauw",description:"+10% Magical Damage",bonusType:"magical",bonusValue:.1,level:1,xp:0,maxXp:1e3,bonus:"+10% Magical Damage",members:0,monuments:{},totalContribution:0},{id:"g3",name:"Yang",description:"+10% Critical Damage",bonusType:"crit",bonusValue:.1,level:1,xp:0,maxXp:1e3,bonus:"+10% Critical Damage",members:0,monuments:{},totalContribution:0}],rs={moonleaf:{id:"moonleaf",name:"Moonleaf Seed",description:"Grows in moonlight.",growthTime:60,harvestYield:{min:2,max:5},cost:100,emoji:""},starbloom:{id:"starbloom",name:"Starbloom Seed",description:"Radiant petals.",growthTime:300,harvestYield:{min:5,max:10},cost:500,emoji:""},fireweed:{id:"fireweed",name:"Fireweed Seed",description:"Warm to the touch.",growthTime:600,harvestYield:{min:10,max:20},cost:1200,emoji:""}},Bm=[{id:"galaxy_scanner",name:"Galaxy Scanner",description:"Advanced sensors map weak points in enemy sectors. Reduces Conquest Difficulty.",cost:10,maxLevel:5,effectType:"galaxy_difficulty",effectValue:.1,icon:""},{id:"stellar_forge",name:"Stellar Forge",description:"Infuses crafting with starlight heat. Reduces crafting material costs.",cost:15,maxLevel:5,effectType:"crafting_cost",effectValue:.1,icon:""},{id:"auto_equip",name:"Autoloot Protocol",description:"Automatically equips items if they are better than current gear.",cost:50,maxLevel:1,effectType:"auto_equip",effectValue:1,icon:""},{id:"auto_sell",name:"Scrap Recycler",description:"Automatically sells Common items to keep inventory clean.",cost:25,maxLevel:1,effectType:"auto_sell",effectValue:1,icon:""}],Gm=(c,f)=>Math.floor(c.cost*(1+f*.5)),Zi=[{day:1,type:"gold",amount:1e3,label:"1,000 Gold"},{day:2,type:"souls",amount:50,label:"50 Souls"},{day:3,type:"gold",amount:5e3,label:"5,000 Gold"},{day:4,type:"starlight",amount:1,label:"1 Starlight"},{day:5,type:"souls",amount:200,label:"200 Souls"},{day:6,type:"gold",amount:25e3,label:"25,000 Gold"},{day:7,type:"starlight",amount:5,label:"5 Starlight (Grand Prize!)"}],dm=c=>{const f=Date.now(),d=1440*60*1e3;return f-c>d},um=()=>{const c=[{type:"kill",desc:"Kill Monsters",target:50,reward:{type:"gold",amount:500}},{type:"mine",desc:"Mine Rocks",target:50,reward:{type:"souls",amount:10}},{type:"craft",desc:"Forge Items",target:10,reward:{type:"gold",amount:1e3}},{type:"gold_earn",desc:"Earn Gold",target:1e4,reward:{type:"souls",amount:20}}],f=[];for(let d=0;d<3;d++){const o=c[Math.floor(Math.random()*c.length)];f.push({id:`daily_${Date.now()}_${d}`,description:o.desc,target:o.target,current:0,type:o.type,reward:{type:o.reward.type,amount:o.reward.amount},claimed:!1})}return f};class Jp{ctx=null;enabled=!1;constructor(){try{this.ctx=new(window.AudioContext||window.webkitAudioContext)}catch{console.error("AudioContext not supported")}}toggle(f){this.enabled=f,f&&this.ctx?.state==="suspended"&&this.ctx.resume()}playTone(f,d,o){if(!this.enabled||!this.ctx)return;const m=this.ctx.createOscillator(),u=this.ctx.createGain();m.type=d,m.frequency.setValueAtTime(f,this.ctx.currentTime),u.gain.setValueAtTime(.1,this.ctx.currentTime),u.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+o),m.connect(u),u.connect(this.ctx.destination),m.start(),m.stop(this.ctx.currentTime+o)}playAttack(){this.playTone(150,"square",.1)}playMagic(){this.playTone(400,"sine",.3)}playHeal(){this.playTone(600,"sine",.4)}playHit(){this.playTone(100,"sawtooth",.2)}playLevelUp(){if(!this.enabled||!this.ctx)return;const f=this.ctx.currentTime;[440,554,659,880].forEach((d,o)=>{const m=this.ctx.createOscillator(),u=this.ctx.createGain();m.type="square",m.frequency.value=d,u.gain.value=.05,u.gain.exponentialRampToValueAtTime(.01,f+o*.1+.1),m.connect(u),u.connect(this.ctx.destination),m.start(f+o*.1),m.stop(f+o*.1+.1)})}}const Se=new Jp,Wp=[{id:"k1",name:"Slayer I",description:"Kill 100 Monsters",isUnlocked:!1,condition:{type:"kills",value:100},rewardType:"damage",rewardValue:.05,rewardText:"+5% Attack"},{id:"g1",name:"Midas I",description:"Earn 1000 Gold",isUnlocked:!1,condition:{type:"gold",value:1e3},rewardType:"gold",rewardValue:.05,rewardText:"+5% Gold"},{id:"c1",name:"Clicker I",description:"Click 500 Times",isUnlocked:!1,condition:{type:"clicks",value:500},rewardType:"damage",rewardValue:.05,rewardText:"+5% Click Dmg"},{id:"b1",name:"Boss Hunter I",description:"Kill 10 Bosses",isUnlocked:!1,condition:{type:"bossKills",value:10},rewardType:"bossDamage",rewardValue:.1,rewardText:"+10% Boss Dmg"},{id:"m1",name:"Iron Heart",description:"Mine 100 Resources",isUnlocked:!1,condition:{type:"oreMined",value:100},rewardType:"mining",rewardValue:.1,rewardText:"+10% Mining Yield"},{id:"f1",name:"Master Smith",description:"Forge 25 Items",isUnlocked:!1,condition:{type:"itemsForged",value:25},rewardType:"crafting",rewardValue:.1,rewardText:"+10% Craft Speed"},{id:"fi1",name:"Angler",description:"Catch 50 Fish",isUnlocked:!1,condition:{type:"fishCaught",value:50},rewardType:"fishing",rewardValue:.1,rewardText:"+10% Fishing Luck"}],os=[{id:"h1",name:"Warrior",type:"hero",class:"Warrior",emoji:"",unlocked:!0,isDead:!1,element:"nature",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:100,maxHp:100,mp:30,maxMp:30,attack:15,magic:5,defense:10,speed:10},equipment:{}},{id:"h2",name:"Mage",type:"hero",class:"Mage",emoji:"",unlocked:!0,isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:70,maxHp:70,mp:100,maxMp:100,attack:5,magic:25,defense:3,speed:12},equipment:{}},{id:"h3",name:"Healer",type:"hero",class:"Healer",emoji:"",unlocked:!0,isDead:!1,element:"water",assignment:"combat",gambits:[{id:"g1",condition:"ally_hp<50",action:"heal",target:"weakest_ally"}],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:80,maxHp:80,mp:80,maxMp:80,attack:8,magic:20,defense:5,speed:11},equipment:{}},{id:"h4",name:"Rogue",type:"hero",class:"Rogue",unlocked:!1,emoji:"",isDead:!1,element:"nature",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:85,maxHp:85,mp:50,maxMp:50,attack:25,magic:5,defense:5,speed:15},equipment:{}},{id:"h5",name:"Paladin",type:"hero",class:"Paladin",unlocked:!1,emoji:"",isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:150,maxHp:150,mp:40,maxMp:40,attack:10,magic:15,defense:15,speed:8},equipment:{}},{id:"h6",name:"Warlock",type:"hero",class:"Warlock",unlocked:!1,emoji:"",isDead:!1,element:"water",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:60,maxHp:60,mp:120,maxMp:120,attack:5,magic:35,defense:2,speed:9},equipment:{}},{id:"h7",name:"Dragoon",type:"hero",class:"Dragoon",unlocked:!1,emoji:"",isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:130,maxHp:130,mp:50,maxMp:50,attack:35,magic:10,defense:8,speed:14},equipment:{}},{id:"h8",name:"Sage",type:"hero",class:"Sage",unlocked:!1,emoji:"",isDead:!1,element:"light",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:75,maxHp:75,mp:150,maxMp:150,attack:5,magic:40,defense:4,speed:10},equipment:{}},{id:"h9",name:"Necromancer",type:"hero",class:"Necromancer",unlocked:!1,emoji:"",isDead:!1,element:"dark",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:90,maxHp:90,mp:100,maxMp:100,attack:10,magic:30,defense:6,speed:8},equipment:{}},{id:"h10",name:"Bard",type:"hero",class:"Bard",unlocked:!1,emoji:"",isDead:!1,element:"neutral",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:80,maxHp:80,mp:100,maxMp:100,attack:10,magic:20,defense:5,speed:12},equipment:{}},{id:"h11",name:"Monk",type:"hero",class:"Monk",unlocked:!1,emoji:"",isDead:!1,element:"neutral",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:110,maxHp:110,mp:30,maxMp:30,attack:18,magic:5,defense:10,speed:14},equipment:{}},{id:"h12",name:"Ranger",type:"hero",class:"Ranger",unlocked:!1,emoji:"",isDead:!1,element:"nature",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:90,maxHp:90,mp:40,maxMp:40,attack:22,magic:5,defense:5,speed:15},equipment:{}},{id:"h13",name:"Druid",type:"hero",class:"Druid",unlocked:!1,emoji:"",isDead:!1,element:"nature",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:100,maxHp:100,mp:80,maxMp:80,attack:10,magic:15,defense:8,speed:10},equipment:{}},{id:"h14",name:"Berserker",type:"hero",class:"Berserker",unlocked:!1,emoji:"",isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:140,maxHp:140,mp:20,maxMp:20,attack:30,magic:0,defense:0,speed:12},equipment:{}},{id:"h15",name:"Sorcerer",type:"hero",class:"Sorcerer",unlocked:!1,emoji:"",isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:60,maxHp:60,mp:150,maxMp:150,attack:5,magic:35,defense:2,speed:10},equipment:{}},{id:"h16",name:"Templar",type:"hero",class:"Templar",unlocked:!1,emoji:"",isDead:!1,element:"light",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:160,maxHp:160,mp:50,maxMp:50,attack:15,magic:10,defense:25,speed:8},equipment:{}},{id:"h17",name:"Assassin",type:"hero",class:"Assassin",unlocked:!1,emoji:"",isDead:!1,element:"dark",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:80,maxHp:80,mp:40,maxMp:40,attack:35,magic:5,defense:3,speed:18},equipment:{}},{id:"h18",name:"Engineer",type:"hero",class:"Engineer",unlocked:!1,emoji:"",isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:100,maxHp:100,mp:60,maxMp:60,attack:15,magic:15,defense:12,speed:10},equipment:{}},{id:"h19",name:"Alchemist",type:"hero",class:"Alchemist",unlocked:!1,emoji:"",isDead:!1,element:"nature",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:90,maxHp:90,mp:80,maxMp:80,attack:10,magic:25,defense:5,speed:11},equipment:{}},{id:"h20",name:"Illusionist",type:"hero",class:"Illusionist",unlocked:!1,emoji:"",isDead:!1,element:"dark",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:70,maxHp:70,mp:120,maxMp:120,attack:5,magic:30,defense:5,speed:15},equipment:{}},{id:"h21",name:"Samurai",type:"hero",class:"Samurai",unlocked:!1,emoji:"",isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:100,maxHp:100,mp:40,maxMp:40,attack:28,magic:5,defense:8,speed:14},equipment:{}},{id:"h22",name:"Viking",type:"hero",class:"Viking",unlocked:!1,emoji:"",isDead:!1,element:"water",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:150,maxHp:150,mp:20,maxMp:20,attack:25,magic:0,defense:10,speed:9},equipment:{}},{id:"h23",name:"Ninja",type:"hero",class:"Ninja",unlocked:!1,emoji:"",isDead:!1,element:"dark",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:80,maxHp:80,mp:50,maxMp:50,attack:20,magic:10,defense:5,speed:20},equipment:{}},{id:"h24",name:"Pirate",type:"hero",class:"Pirate",unlocked:!1,emoji:"",isDead:!1,element:"water",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:110,maxHp:110,mp:30,maxMp:30,attack:22,magic:5,defense:8,speed:12},equipment:{}},{id:"h25",name:"Fisherman",type:"hero",class:"Fisherman",unlocked:!1,emoji:"",isDead:!1,element:"water",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:95,maxHp:95,mp:40,maxMp:40,attack:12,magic:10,defense:10,speed:10},equipment:{}},{id:"h26",name:"Blacksmith",type:"hero",class:"Blacksmith",unlocked:!1,emoji:"",isDead:!1,element:"fire",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:120,maxHp:120,mp:30,maxMp:30,attack:20,magic:5,defense:15,speed:9},equipment:{}},{id:"h27",name:"Miner",type:"hero",class:"Miner",unlocked:!1,emoji:"",isDead:!1,element:"nature",assignment:"combat",gambits:[],corruption:!1,level:1,xp:0,maxXp:100,fatigue:0,maxFatigue:100,statPoints:0,skills:[],stats:{hp:110,maxHp:110,mp:20,maxMp:20,attack:15,magic:5,defense:12,speed:8},equipment:{}}],Fn={id:"boss-1",name:"Slime",emoji:"",type:"boss",level:1,isDead:!1,element:"neutral",stats:{hp:200,maxHp:200,mp:0,maxMp:0,attack:12,magic:0,defense:2,speed:8}},xd={id:"pet_default",name:"Unknown Pet",type:"pet",bonus:"+0%",emoji:"",isDead:!1,level:1,xp:0,maxXp:100,rarity:"common",stats:{attack:0,hp:0,maxHp:0,mp:0,maxMp:0,defense:0,magic:0,speed:0}},Ip=[{id:"pet-eye",name:"Floating Eye",type:"pet",bonus:"+Crit Dmg",emoji:"",isDead:!1,level:1,xp:0,maxXp:100,rarity:"common",stats:{attack:2,hp:1,maxHp:1,mp:0,maxMp:0,defense:0,magic:0,speed:10}},{id:"pet-slime",name:"Golden Slime",type:"pet",bonus:"+Gold",emoji:"",isDead:!1,level:1,xp:0,maxXp:100,rarity:"rare",stats:{attack:1,hp:1,maxHp:1,mp:0,maxMp:0,defense:0,magic:0,speed:10}}],Pp=[{id:"t1",name:"Sharpness",level:0,maxLevel:50,cost:10,costScaling:1.5,description:"+5% Damage",stat:"attack",valuePerLevel:.05},{id:"t2",name:"Haste",level:0,maxLevel:20,cost:50,costScaling:2,description:"-2% Combat Delay",stat:"speed",valuePerLevel:.02},{id:"t3",name:"Greed",level:0,maxLevel:10,cost:100,costScaling:3,description:"+10% Value",stat:"gold",valuePerLevel:.1},{id:"t4",name:"Precision",level:0,maxLevel:25,cost:25,costScaling:1.8,description:"+1% Crit Chance",stat:"crit",valuePerLevel:.01}],eh={totalGoldEarned:0,totalKills:0,bossKills:0,clicks:0,totalDamageDealt:0,highestDps:0,playTime:0,ascensions:0,tavernPurchases:0,itemsForged:0,oreMined:0,fishCaught:0,voidAscensions:0},th=[{id:"c1",name:"Orion",description:"+Boss Damage",level:0,maxLevel:10,cost:1,costScaling:2,bonusType:"bossDamage",valuePerLevel:.1,x:20,y:50},{id:"c2",name:"Lyra",description:"+Gold Drops",level:0,maxLevel:10,cost:1,costScaling:2,bonusType:"goldDrop",valuePerLevel:.2,x:50,y:20},{id:"c3",name:"Phoenix",description:"+Soul Drops",level:0,maxLevel:10,cost:2,costScaling:3,bonusType:"soulDrop",valuePerLevel:.1,x:80,y:50},{id:"c4",name:"Draco",description:"Revive Speed",level:0,maxLevel:5,cost:5,costScaling:4,bonusType:"autoReviveSpeed",valuePerLevel:.5,x:50,y:80}],ah=[{id:"1",name:"TheLegend27",power:1e9,avatar:""},{id:"2",name:"NoobMaster69",power:5e8,avatar:""},{id:"3",name:"Kirito_SAO",power:25e7,avatar:""},{id:"4",name:"Leroy_Jenkins",power:1e8,avatar:""},{id:"5",name:"Geralt",power:5e7,avatar:""},{id:"6",name:"Cloud_Strife",power:25e6,avatar:""},{id:"7",name:"Sephiroth",power:1e7,avatar:""},{id:"8",name:"Mario",power:5e6,avatar:""},{id:"9",name:"Link",power:25e5,avatar:""},{id:"10",name:"Zelda",power:1e6,avatar:""},{id:"11",name:"Gandalf",power:5e5,avatar:""},{id:"12",name:"Aragorn",power:25e4,avatar:""},{id:"13",name:"Legolas",power:1e5,avatar:""},{id:"14",name:"Gimli",power:5e4,avatar:""},{id:"15",name:"Frodo",power:25e3,avatar:""},{id:"16",name:"Samwise",power:1e4,avatar:""},{id:"17",name:"Gollum",power:5e3,avatar:""},{id:"18",name:"Sauron",power:5e9,avatar:""},{id:"19",name:"Voldemort",power:2e6,avatar:""},{id:"20",name:"Harry",power:15e5,avatar:""}],fm=[{id:"a1",name:"Crown of Kings",description:"Start at Lvl 5",emoji:"",bonus:"lvl+5",unlocked:!1},{id:"a2",name:"Void Stone",description:"+50% All Stats",emoji:"",bonus:"stats+50",unlocked:!1},{id:"a3",name:"Phoenix Feather",description:"Auto-Revive (10s)",emoji:"",bonus:"revive",unlocked:!1}],lh=[{id:"npc1",name:"Novice Trainer",difficulty:1,avatar:"",deck:["slime","bat","rat"]},{id:"npc2",name:"Card Shark",difficulty:3,avatar:"",deck:["wolf","snake","goblin"]},{id:"npc3",name:"Grandmaster",difficulty:10,avatar:"",deck:["dragon","demon","golem"]}],sh=c=>{const{heroes:f,setHeroes:d,boss:o,setBoss:m,items:u,setItems:h,souls:b,setSouls:g,gold:p,setGold:j,divinity:N,setDivinity:y,pets:v,setPets:_,talents:H,setTalents:q,artifacts:M,setArtifacts:O,cards:P,setCards:ye,constellations:Ee,setConstellations:ge,keys:I,setKeys:le,resources:ce,setResources:be,tower:Me,setTower:Ge,guild:mt,setGuild:Fe,voidMatter:xe,setVoidMatter:B,arenaRank:Z,setArenaRank:re,glory:ke,setGlory:Ce,quests:w,setQuests:L,runes:K,setRunes:se,achievements:pe,setAchievements:ve,starlight:De,setStarlight:Ke,starlightUpgrades:Ne,setStarlightUpgrades:Ie,autoSellRarity:it,setAutoSellRarity:yt,arenaOpponents:Dt,setArenaOpponents:xt,theme:Qt,setTheme:Le,galaxy:tt,setGalaxy:Pe,monsterKills:vt,setMonsterKills:Ft,gameStats:At,setGameStats:Ya,activeExpeditions:ga,setActiveExpeditions:pt,activePotions:ua,setActivePotions:Rl,buildings:bl,setBuildings:za,setRaidActive:al,setDungeonActive:ds,setOfflineGains:qs,dailyQuests:yl,setDailyQuests:ba,dailyLoginClaimed:Je,setDailyLoginClaimed:na,lastDailyReset:Gt,setLastDailyReset:$s,territories:Ul,setTerritories:us,spaceship:ia,setSpaceship:ll,formations:sl,setFormations:ya,weather:va,setWeather:nl}=c;z.useEffect(()=>{const Ll=localStorage.getItem("rpg_eternal_save_v6");if(Ll)try{const ne=JSON.parse(Ll),fa=(ne.heroes||os).map((Tt,te)=>({...os[te],...Tt,element:Tt.element||os[te].element,assignment:Tt.assignment||"combat",gambits:Tt.gambits||os[te].gambits,corruption:Tt.corruption||!1,equipment:Tt.equipment||{}}));if(d(fa),m({...ne.boss,element:ne.boss?.element||"neutral"}),h(ne.items),g(ne.souls||0),j(ne.gold||0),y(ne.divinity||0),ne.pets?_(ne.pets):ne.pet?_([{...xd,...ne.pet}]):_([]),ne.talents&&q(ne.talents),ne.artifacts&&O(ne.artifacts),ne.cards&&ye(ne.cards),ne.constellations&&ge(ne.constellations),ne.keys&&le(ne.keys),ne.resources&&be(ne.resources),ne.tower&&Ge(ne.tower),ne.guild){const Tt={...ne.guild};Tt.monuments||(Tt.monuments={}),Tt.totalContribution===void 0&&(Tt.totalContribution=0),Fe(Tt)}if(ne.voidMatter&&B(ne.voidMatter),ne.arenaRank&&re(ne.arenaRank),ne.glory&&Ce(ne.glory),ne.quests&&L(ne.quests),ne.runes&&se(ne.runes),ne.achievements&&ve(ne.achievements),ne.starlight&&Ke(ne.starlight),ne.starlightUpgrades&&Ie(ne.starlightUpgrades),ne.theme&&Le(ne.theme),ne.galaxy&&Pe(ne.galaxy),ne.monsterKills&&Ft(ne.monsterKills),ne.gameStats&&Ya(ne.gameStats),ne.activeExpeditions&&pt(ne.activeExpeditions),ne.activePotions&&Rl(ne.activePotions),ne.buildings&&za(ne.buildings),ne.dailyQuests&&ba(ne.dailyQuests),ne.autoSellRarity&&yt(ne.autoSellRarity),ne.arenaOpponents&&xt(ne.arenaOpponents),ne.dailyLoginClaimed!==void 0&&na(ne.dailyLoginClaimed),ne.lastDailyReset&&$s(ne.lastDailyReset),ne.territories&&us(ne.territories),ne.spaceship&&ll(ne.spaceship),ne.formations&&ya(ne.formations),ne.weather&&nl(ne.weather),ne.achievements&&ve(Tt=>{const te=ne.achievements;return Tt.map(at=>{const rt=te.find(ue=>ue.id===at.id);return rt?{...at,isUnlocked:rt.isUnlocked}:at})}),al(!1),ds(!1),ne.lastSaveTime){const te=Date.now()-ne.lastSaveTime,at=Math.floor(te/1e3);if(at>60){const rt=fa.filter(jt=>jt.unlocked&&jt.assignment==="mine"),ue=fa.filter(jt=>jt.unlocked&&jt.assignment==="combat");let We=`Offline for ${Math.floor(at/60)}m.`;if(rt.length>0){const jt=Math.floor(rt.length*at*.5);be(ja=>({...ja,copper:ja.copper+jt})),We+=`\\nMiners found ${jt} Copper.`}if(ue.length>0){const jt=Math.floor(at/5*(ue.length/6)),ja=Math.floor(jt*.2),ra=jt*10;jt>0&&(g(bt=>bt+ja),j(bt=>bt+ra),We+=`\\nKilled ${jt} Monsters.\\nGained ${ja} Souls & ${ra} Gold.`)}qs(We)}}}catch(ne){console.error("Save Load Error",ne)}},[]),z.useEffect(()=>{const ne=setInterval(()=>{const vl={heroes:f,boss:o,items:u,souls:b,gold:p,divinity:N,pets:v,talents:H,artifacts:M,cards:P,constellations:Ee,keys:I,resources:ce,tower:Me,guild:mt,voidMatter:xe,arenaRank:Z,glory:ke,quests:w,runes:K,achievements:pe,starlight:De,starlightUpgrades:Ne,theme:Qt,galaxy:tt,monsterKills:vt,gameStats:At,autoSellRarity:it,arenaOpponents:Dt,activeExpeditions:ga,activePotions:ua,buildings:bl,dailyQuests:yl,dailyLoginClaimed:Je,lastDailyReset:Gt,territories:Ul,spaceship:ia,formations:sl,weather:va,lastSaveTime:Date.now()};localStorage.setItem("rpg_eternal_save_v6",JSON.stringify(vl))},5e3);return()=>clearInterval(ne)},[f,o,u,b,p,N,v,H,M,P,Ee,I,ce,Me,mt,xe,Z,ke,w,K,pe,De,Ne,Qt,tt,vt,At,ga,ua,bl,yl,Je,Gt,Ul,ia,sl,va])},mm=["Titan of the Deep","Celestial Destroyer","Void Sovereign","Infernal Colossus","Storm Bringer"],xm=["","","","",""],nh=c=>{const f=1e6*Math.pow(5,c),d=mm[Math.floor(Math.random()*mm.length)],o=xm[Math.floor(Math.random()*xm.length)];return{id:`wb-${Date.now()}`,name:`Tier ${c} ${d}`,emoji:o,type:"boss",level:c*100,isDead:!1,element:"neutral",stats:{hp:f,maxHp:f,mp:0,maxMp:0,attack:1e3*c,magic:1e3*c,defense:50*c,speed:10},globalHp:f,maxGlobalHp:f,tier:c,participants:Math.floor(Math.random()*50)+10,endTime:Date.now()+1e3*60*60*4}},ih=c=>{const f=Math.random()*5e-4+5e-4,d=Math.floor(c.maxGlobalHp*f),o=Math.random()<.05?d*5:0,m=Math.max(0,c.globalHp-d-o);return{...c,globalHp:m,participants:c.participants+(Math.random()>.8?1:0)}},rh=(c,f)=>{const d=Math.floor(f*.1*c),o=Math.floor(f*.5*c);return{souls:d,gold:o}},oh=(c,f,d,o,m)=>{const[u,h]=z.useState(null),[b,g]=z.useState(0),[p,j]=z.useState(!1);z.useEffect(()=>{if(!u){const v=Math.floor((f.bossKills||0)/50)+1;h(nh(v)),g(0),j(!1)}},[u,f.bossKills]);const N=()=>{if(!u||u.isDead)return;const v=Math.random()<.1,_=Math.floor(c*(v?2.5:1));g(H=>H+_),h(H=>{if(!H)return null;const q=Math.max(0,H.globalHp-_);return{...H,globalHp:q,isDead:q<=0}}),v&&d(`CRITICAL HIT! You dealt ${_} damage to the World Boss!`,"action")};return z.useEffect(()=>{if(!u||u.isDead)return;const v=setInterval(()=>{h(_=>{if(!_||_.isDead)return _;const H=ih(_);return H.globalHp<=0&&!_.isDead?(d(`WORLD BOSS DEFEATED! The ${_.name} has fallen!`,"achievement"),j(!0),{...H,isDead:!0,globalHp:0}):H})},1e3);return()=>clearInterval(v)},[u?.id,u?.isDead]),{worldBoss:u,personalDamage:b,canClaim:p,attackWorldBoss:N,claimReward:()=>{if(!u||!p)return;const{souls:v,gold:_}=rh(u.tier,b);o(H=>H+v),m(H=>H+_),d(`Claimed World Boss Rewards: +${v} Souls, +${_} Gold`,"achievement"),h(null),j(!1)}}},pd=(c,f)=>{const d=`chimera_${Date.now()}`,o=Math.max(c.fusionCount||0,f.fusionCount||0)+1,m=c.name.split(" ")[0].split("-")[0],u=f.name.split(" ")[0].split("-")[0];let h="";o>1&&Math.random()<.3&&(h="Void-"),o>3&&Math.random()<.3&&(h="Cosmic ");const b=`${h}${m}-${u}`,g=1.2,p=Math.min(.5,(o-1)*.1),j=g+p,N=(q,M)=>Math.floor((q+M)/2*j),y={attack:N(c.stats.attack,f.stats.attack),magic:N(c.stats.magic,f.stats.magic),defense:N(c.stats.defense,f.stats.defense),hp:N(c.stats.hp,f.stats.hp),maxHp:N(c.stats.maxHp,f.stats.maxHp),mp:N(c.stats.mp,f.stats.mp),maxMp:N(c.stats.maxMp,f.stats.maxMp),speed:N(c.stats.speed,f.stats.speed)},v=`Fusion Power: +${Math.round((j-1)*100)}% Stats`,_=["","","","","","","","",""],H=_[Math.floor(Math.random()*_.length)];return{id:d,name:b,type:"pet",rarity:"chimera",level:1,stats:y,bonus:v,ability:c.ability||f.ability||"Genetic Harmony",emoji:H,xp:0,maxXp:100*o,isDead:!1,chimera:!0,parents:[c.name,f.name],fusionCount:o}},ch=(c,f,d,o,m,u)=>{const[h,b]=z.useState(c);return{pets:h,setPets:b,breedPets:(j,N)=>{if(f<1e3){u("Not enough gold to breed pets! Need 1000 Gold.","error");return}o(_=>_-1e3);const v=pd(j,N);b(_=>[..._.filter(H=>H.id!==j.id&&H.id!==N.id),v]),u(`Successfully fused ${j.name} and ${N.name} into ${v.name}!`,"achievement"),Se.playLevelUp()},feedPet:(j,N)=>{if(!N&&h.length===0)return;const y=N?h.find(_=>_.id===N):h[0];if(!y)return;const v=100;j==="gold"&&f<v||j==="souls"&&d<v||(j==="gold"?o(_=>_-v):m(_=>_-v),b(_=>_.map(H=>{if(H.id===y.id){const q=j==="gold"?50:150;let M=H.xp+q,O=H.level,P=H.maxXp;for(;M>=P;)O++,M-=P,P=Math.floor(P*1.5);return{...H,level:O,xp:M,maxXp:P}}return H})),u(`Fed ${y.name} with ${j}!`,"action"))}}},Vm=[{id:"statue_midas",name:"Statue of Midas",icon:"",description:"Increases Gold gain.",baseCost:5e3,costScaling:1.5,maxLevel:50,effectType:"gold_mult",valuePerLevel:.05},{id:"altar_war",name:"Altar of War",icon:"",description:"Increases Party Attack.",baseCost:1e4,costScaling:1.4,maxLevel:50,effectType:"stat_mult",stat:"attack",valuePerLevel:.02},{id:"shrine_wisdom",name:"Shrine of Wisdom",icon:"",description:"Increases XP gain.",baseCost:7500,costScaling:1.45,maxLevel:50,effectType:"xp_mult",valuePerLevel:.03},{id:"fountain_life",name:"Fountain of Life",icon:"",description:"Increases Party HP.",baseCost:8e3,costScaling:1.4,maxLevel:50,effectType:"stat_mult",stat:"hp",valuePerLevel:.02}],Xm=(c,f,d)=>Math.floor(c*Math.pow(d,f)),pm=(c,f)=>c*f,dh=(c,f,d,o)=>{const[m,u]=z.useState(c);return{guild:m,setGuild:u,joinGuild:p=>{if(m)return;const j=Lm.find(N=>N.name===p);j&&(u({...j,members:1,monuments:{},totalContribution:0}),o(`Joined ${p}!`,"achievement"),Se.playLevelUp())},contributeGuild:p=>{!m||f<p||(d(j=>j-p),u(j=>{if(!j)return null;const N=p/10,y=j.xp+N;let v={...j,xp:y,totalContribution:(j.totalContribution||0)+p};return y>=j.maxXp?(v.level+=1,v.xp=y-j.maxXp,v.maxXp=Math.floor(j.maxXp*1.2),v.bonusValue=(j.bonusValue||.1)+.01,v.bonus=(j.bonus||"").replace(/\d+%/,`${Math.round(v.bonusValue*100)}%`),o("Guild Level Up!","achievement"),Se.playLevelUp()):o(`Contributed ${Xe(p)} Gold to Guild.`,"action"),v}))},upgradeMonument:p=>{if(!m)return;const j=Vm.find(v=>v.id===p);if(!j)return;const N=m.monuments[p]||0;if(N>=j.maxLevel)return;if(N>=m.level){o(`Guild Level too low to upgrade ${j.name}!`,"error");return}const y=Xm(j.baseCost,N,j.costScaling);f>=y?(d(v=>v-y),u(v=>({...v,monuments:{...v.monuments,[p]:N+1}})),o(`Upgraded ${j.name} to Level ${N+1}!`,"craft"),Se.playLevelUp()):o(`Not enough Gold! Need ${Xe(y)}`,"error")}}},uh=(c,f,d,o,m,u)=>{const[h,b]=z.useState(c),[g,p]=z.useState(f),[j,N]=z.useState(d),y=q=>{const M=h.find(Ee=>Ee.id===q);if(!M||M.isOwned)return;const O=10;if(j.fuel<O){u("Not enough Fuel to jump!","error");return}const P=Math.min(.95,.5+(j.level-M.level)*.1),ye=Math.random();if(N(Ee=>({...Ee,fuel:Ee.fuel-O})),ye<P){b(ge=>ge.map(I=>I.id===q?{...I,isOwned:!0}:I)),u(`Victory! ${M.name} conquered!`,"achievement"),Se.playLevelUp();const Ee=M.level*1e3;m(ge=>ge+Ee)}else{const Ee=10*M.level;N(ge=>({...ge,hull:Math.max(0,ge.hull-Ee)})),u(`Defeat! Retreating from ${M.name}. Hull -${Ee}`,"danger"),Se.playHit()}},v=q=>{u(`Attacking territory ${q} (WIP)`,"info")},_=q=>{const M=(j.parts[q]+1)*5e3;o>=M?(m(O=>O-M),N(O=>({...O,parts:{...O.parts,[q]:O.parts[q]+1},level:O.level+1})),u(`Upgraded Spaceship ${q} to Level ${j.parts[q]+1}!`,"achievement"),Se.playLevelUp()):u(`Not enough gold! Need ${M}`,"error")},H=h.filter(q=>q.isOwned).reduce((q,M)=>(M.type==="star"&&(q.gold+=M.level*10),q),{gold:0});return{galaxy:h,setGalaxy:b,territories:g,setTerritories:p,spaceship:j,setSpaceship:N,attackSector:y,attackTerritory:v,upgradeSpaceship:_,galaxyRewards:H}},fh=15,mh=15,hm=c=>{const f=fh,d=mh;let o=Array(d).fill(null).map(()=>Array(f).fill("empty"));for(let M=0;M<d;M++)for(let O=0;O<f;O++)Math.random()<.25&&(o[M][O]="wall");const m=()=>{let M,O;do M=Math.floor(Math.random()*f),O=Math.floor(Math.random()*d);while(o[O][M]!=="empty");return{x:M,y:O}},u=m();o[u.y][u.x]="start";const h=[[0,1],[0,-1],[1,0],[-1,0]];h.forEach(([M,O])=>{const P=u.y+O,ye=u.x+M;P>=0&&P<d&&ye>=0&&ye<f&&(o[P][ye]="empty")});let b,g=0;do b=m(),g++;while(Math.abs(b.x-u.x)+Math.abs(b.y-u.y)<8&&g<100);o[b.y][b.x]="exit";let p=!1;const j=[{x:b.x+1,y:b.y},{x:b.x-1,y:b.y},{x:b.x,y:b.y+1},{x:b.x,y:b.y-1}].filter(M=>M.x>=0&&M.x<f&&M.y>=0&&M.y<d&&o[M.y][M.x]==="empty");if(j.length>0){const M=j[Math.floor(Math.random()*j.length)];o[M.y][M.x]="boss",p=!0}else for(let M=0;M<d;M++){for(let O=0;O<f;O++){const P=Math.abs(O-u.x)+Math.abs(M-u.y);if(o[M][O]==="empty"&&P>5){o[M][O]="boss",p=!0;break}}if(p)break}const N=3+Math.floor(c/10),y=5+Math.floor(c/5),v=2+Math.floor(c/10);for(let M=0;M<N;M++){const O=m();o[O.y][O.x]="chest"}for(let M=0;M<y;M++){const O=m();o[O.y][O.x]="enemy"}for(let M=0;M<v;M++){const O=m();o[O.y][O.x]="trap"}const _=2+Math.floor(c/8),H=["fire","water","nature","earth","air","light","dark"];for(let M=0;M<_;M++){const O=m(),P=H[Math.floor(Math.random()*H.length)];o[O.y][O.x]=`lock_${P}`}const q=Array(d).fill(!1).map(()=>Array(f).fill(!1));return q[u.y][u.x]=!0,h.forEach(([M,O])=>{const P=u.y+O,ye=u.x+M;P>=0&&P<d&&ye>=0&&ye<f&&(q[P][ye]=!0)}),{active:!0,level:c,width:f,height:d,grid:o,playerPos:u,revealed:q,keys:{fire:0,water:0,nature:0,earth:0,air:0,light:0,dark:0}}},xh=(c,f,d,o)=>{const[m,u]=z.useState(c),[h,b]=z.useState(!1),[g,p]=z.useState(0),[j,N]=z.useState(null),[y,v]=z.useState(f),[_,H]=z.useState(0),[q,M]=z.useState(null),[O,P]=z.useState(1),ye=L=>{if(h)return;const K=1,se=hm(K);M(se),b(!0),p(3600),d(`Entered Dungeon Level ${K}!`,"action")},Ee=()=>{if(!q)return;const L=q.level+1,K=hm(L);M(K),L>O&&P(L),d(`Descended to Dungeon Level ${L}!`,"action"),Se.playLevelUp()},ge=()=>{b(!1),p(0),M(null),d("Left the dungeon.","info")},I=L=>{q&&(M(K=>K?{...K,keys:{...K.keys,[L]:(K.keys[L]||0)+1}}:null),d(`Found a ${L} Key!`,"loot"))},le=(L,K)=>{if(!q||!q.active)return null;const{grid:se,width:pe,height:ve,playerPos:De,revealed:Ke,level:Ne}=q,Ie=De.x+L,it=De.y+K;if(Ie<0||Ie>=pe||it<0||it>=ve)return null;const yt=se[it][Ie];if(yt==="wall")return d("It's a wall.","info"),null;if(typeof yt=="string"&&yt.startsWith("lock_")){const Le=yt.split("_")[1];if((q.keys[Le]||0)>0){d(`Unlocked ${Le} Door!`,"success");const tt={...q.keys,[Le]:q.keys[Le]-1},Pe=se.map(At=>[...At]);Pe[it][Ie]="empty";const vt={x:Ie,y:it},Ft=Ke.map(At=>[...At]);for(let At=-1;At<=1;At++)for(let Ya=-1;Ya<=1;Ya++){const ga=it+At,pt=Ie+Ya;ga>=0&&ga<ve&&pt>=0&&pt<pe&&(Ft[ga][pt]=!0)}return M(At=>At?{...At,grid:Pe,keys:tt,playerPos:vt,revealed:Ft}:null),Se.playLevelUp(),{type:"lock",level:Ne,subtype:Le}}else return d(`The door is locked by ${Le} energy. You need a ${Le} Key.`,"danger"),{type:"lock",level:Ne,subtype:Le}}const Dt={x:Ie,y:it},xt=Ke.map(Le=>[...Le]),Qt=1;for(let Le=-Qt;Le<=Qt;Le++)for(let tt=-Qt;tt<=Qt;tt++){const Pe=it+Le,vt=Ie+tt;Pe>=0&&Pe<ve&&vt>=0&&vt<pe&&(xt[Pe][vt]=!0)}if(M(Le=>Le?{...Le,playerPos:Dt,revealed:xt}:null),yt==="chest"){d("Found a Treasure Chest!","success");const Le=se.map(tt=>[...tt]);return Le[it][Ie]="empty",M(tt=>tt?{...tt,grid:Le}:null),Se.playLevelUp(),{type:"chest",level:Ne}}else if(yt==="enemy"){const Le=["Goblin","Skeleton","Orc","Slime","Bat","Spider"],tt=Le[Math.floor(Math.random()*Le.length)];d(`Encountered a ${tt}!`,"battle");const Pe=se.map(Ft=>[...Ft]);Pe[it][Ie]="empty",M(Ft=>Ft?{...Ft,grid:Pe}:null),Se.playHit();const vt={name:tt,level:Ne,hp:Ne*20,maxHp:Ne*20,damage:Ne*5,type:"mob",xp:Ne*10};return{type:"enemy",level:Ne,mob:vt}}else if(yt==="boss"){d(" BOSS ENCOUNTER! ","danger");const Le=se.map(Pe=>[...Pe]);Le[it][Ie]="empty",M(Pe=>Pe?{...Pe,grid:Le}:null),Se.playHit();const tt={name:"Dungeon Boss",level:Ne+2,hp:Ne*1e3,maxHp:Ne*1e3,damage:Ne*50,type:"boss",xp:Ne*500};return{type:"boss",level:Ne,mob:tt}}else if(yt==="trap"){if(Math.random()<0){d("Spotted and disarmed a trap!","success");const Pe=se.map(vt=>[...vt]);return Pe[it][Ie]="empty",M(vt=>vt?{...vt,grid:Pe,playerPos:Dt,revealed:xt}:null),Se.playHit(),null}d("Stepped on a TRAP!","danger");const tt=se.map(Pe=>[...Pe]);return tt[it][Ie]="empty",M(Pe=>Pe?{...Pe,grid:tt}:null),Se.playHit(),{type:"trap",level:Ne}}else if(yt==="exit")return d("Found the Exit! Dungeon Cleared!","achievement"),b(!1),M(null),Se.playLevelUp(),{type:"exit",level:Ne};return null},ce=L=>{N(L),H(1800),d(`Entered Challenge Rift: ${L.name}`,"info")},be=L=>{L?d("Rift Completed!","achievement"):d("Rift Failed...","error"),N(null),H(0),v(K=>({...K,active:!1}))},Me=()=>{v(L=>({...L,active:!0,floor:1,blessings:[]})),d("Temporal Rift Stabilized. Beginning descent.","info")},Ge=L=>{v(K=>({...K,blessings:[...K.blessings,L]})),d(`Acquired Rift Blessing: ${L.name}`,"achievement")},[mt,Fe]=z.useState("Clear"),[xe,B]=z.useState(300),[Z,re]=z.useState([]);return{tower:m,setTower:u,dungeonActive:h,setDungeonActive:b,dungeonTimer:g,setDungeonTimer:p,activeRift:j,setActiveRift:N,riftState:y,setRiftState:v,riftTimer:_,setRiftTimer:H,dungeonState:q,setDungeonState:M,maxDungeonDepth:O,setMaxDungeonDepth:P,weather:mt,setWeather:Fe,weatherTimer:xe,setWeatherTimer:B,formations:Z,setFormations:re,enterDungeon:ye,exitDungeon:ge,moveDungeon:le,descendDungeon:Ee,addDungeonKey:I,enterRift:ce,exitRift:be,startRift:Me,selectBlessing:Ge,saveFormation:(L,K)=>{const se={id:Date.now().toString(),name:L,heroIds:K};re(pe=>[...pe,se]),d(`Saved Formation: ${L}`,"info")},loadFormation:L=>Z.find(se=>se.id===L),deleteFormation:L=>{re(K=>K.filter(se=>se.id!==L))}}},ph=[{id:"firestorm",name:"INFERNO",description:"Fire + Air: Creates a firestorm that incinerates enemies.",elements:["fire","air"],multiplier:8,effect:"burn",visualColor:"text-orange-600"},{id:"blizzard",name:"ABSOLUTE ZERO",description:"Ice + Water: Flash freezes everything instantenously.",elements:["ice","water"],multiplier:7,effect:"freeze",visualColor:"text-cyan-400"},{id:"divine_smite",name:"DIVINE JUDGEMENT",description:"Light + Paladin: A massive strike effectively healing allies.",elements:["light"],classes:["Paladin"],multiplier:6,effect:"heal",visualColor:"text-yellow-300"},{id:"void_strike",name:"VOID ASSASSINATION",description:"Dark + Rogue: A strike from the shadows with lethal precision.",elements:["dark"],classes:["Rogue"],multiplier:10,effect:"crit",visualColor:"text-purple-600"},{id:"overgrowth",name:"VERDANT STORM",description:"Nature + Earth: Nature reclaims the battlefield.",elements:["nature","earth"],multiplier:7,visualColor:"text-green-500"}],hh=c=>{const f=c.filter(m=>m.assignment==="combat"&&!m.isDead),d=new Set(f.map(m=>m.element)),o=new Set(f.map(m=>m.class));return ph.filter(m=>{let u=!0;if(m.elements){for(const h of m.elements)if(!d.has(h)){u=!1;break}}if(u&&m.classes){for(const h of m.classes)if(!o.has(h)){u=!1;break}}return u})},gm=[{id:"mana_flow",name:"Mana Flow",description:"+50% MP Regeneration for all heroes.",effectType:"regen",stat:"mp",value:.5},{id:"bloodthirst",name:"Bloodthirst",description:"Healing skills deal damage instead.",effectType:"damage_conversion",value:1},{id:"glass_cannon",name:"Glass Cannon",description:"+200% Damage Dealt, but -50% Max HP.",effectType:"stat_mod",stat:"attack",value:2},{id:"elemental_chaos",name:"Elemental Chaos",description:"Random Element Damage +100%.",effectType:"element_boost",value:1},{id:"iron_wall",name:"Iron Wall",description:"+100% Defense, -50% Speed.",effectType:"stat_mod",stat:"defense",value:1}],hd=()=>{const c=Math.floor(Date.now()/864e5);return gm[c%gm.length]},Wn={Clear:{type:"Clear",name:"Clear Skies",description:"Perfect weather for adventuring.",bonus:{stat:"none",value:0},icon:""},Rain:{type:"Rain",name:"Heavy Rain",description:"Fish are more active.",bonus:{stat:"fish",value:.5},icon:""},Sandstorm:{type:"Sandstorm",name:"Sandstorm",description:"Visibility reduced. Hit chance lowered.",bonus:{stat:"hitChance",value:-.2},icon:""},Eclipse:{type:"Eclipse",name:"Solar Eclipse",description:"Dark forces are empowered.",bonus:{stat:"darkDmg",value:.5},icon:""},Aurora:{type:"Aurora",name:"Aurora Borealis",description:"Magical energy permeates the air.",bonus:{stat:"xp",value:.25},icon:""},Blizzard:{type:"Blizzard",name:"Blizzard",description:"Freezing winds boost ice magic.",bonus:{stat:"iceDmg",value:.3},icon:""}},gh=()=>{const c=Object.keys(Wn);if(Math.random()<.4)return"Clear";const d=c.filter(o=>o!=="Clear");return d[Math.floor(Math.random()*d.length)]},bh=(c,f,d,o,m)=>{switch(f.condition){case"always":return!0;case"hp<50":return c.stats.hp/c.stats.maxHp<.5;case"hp<30":return c.stats.hp/c.stats.maxHp<.3;case"mp<50":return c.stats.mp/c.stats.maxMp<.5;case"ally_hp<50":return o.some(u=>!u.isDead&&u.stats.hp/u.stats.maxHp<.5);case"ally_dead":return o.some(u=>u.isDead);case"enemy_boss":return d.some(u=>u.type==="boss");case"enemy_count>2":return d.length>2;case"enemy_fire":return d.some(u=>u.element==="fire");case"enemy_water":return d.some(u=>u.element==="water");case"enemy_nature":return d.some(u=>u.element==="nature");case"enemy_dark":return d.some(u=>u.element==="dark");case"enemy_light":return d.some(u=>u.element==="light");case"weather_rain":return m==="Rain";case"weather_blizzard":return m==="Blizzard";case"weather_sandstorm":return m==="Sandstorm";case"weather_eclipse":return m==="Eclipse";case"weather_aurora":return m==="Aurora";case"party_full":return o.filter(u=>!u.isDead).length>=4;case"party_low_hp":return o.filter(u=>!u.isDead&&u.stats.hp/u.stats.maxHp<.3).length>=2;default:return!1}},io=[{id:"set_iron",name:"Iron Legion",bonusStat:"defense",bonusValue:.2,requiredPieces:2},{id:"set_arcane",name:"Arcane Council",bonusStat:"magic",bonusValue:.2,requiredPieces:2},{id:"set_ranger",name:"Forest Walker",bonusStat:"speed",bonusValue:.15,requiredPieces:2},{id:"set_dragon",name:"Dragon Slayer",bonusStat:"attack",bonusValue:.25,requiredPieces:3},{id:"set_titan",name:"Titan Guard",bonusStat:"hp",bonusValue:.3,requiredPieces:3}],bm=(c,f)=>c==="neutral"||f==="neutral"?1:c==="fire"&&f==="nature"||c==="nature"&&f==="water"||c==="water"&&f==="fire"?1.5:c==="fire"&&f==="water"||c==="nature"&&f==="fire"||c==="water"&&f==="nature"?.5:c==="light"&&f==="dark"||c==="dark"&&f==="light"?1.5:1,ym=(c,f=0)=>{let d={...c.stats};if(c.equipment){const u={};Object.values(c.equipment).forEach(h=>{h&&(d[h.stat]+=h.value,h.runes&&h.runes.forEach(b=>{u[b.stat]=(u[b.stat]||0)+b.value}))}),Object.keys(u).forEach(h=>{d[h]!==void 0&&(d[h]=Math.floor(d[h]*(1+u[h])))})}const o=d.attack+d.magic*.5+d.hp*.1+d.defense*.2;let m=Math.floor(o*(1+d.speed*.05)*(1+f*.1));return c.fatigue&&(c.fatigue>=80?m=Math.floor(m*.7):c.fatigue>=50&&(m=Math.floor(m*.9))),m},yh=(c,f,d,o,m,u,h,b=[],g=[])=>{const p=d.find(O=>O.stat==="attack"),j=o.find(O=>O.bonusType==="bossDamage"),N=j?1+j.level*j.valuePerLevel:1;let y=(1+c*.05+f*1+(p?p.level*p.valuePerLevel:0))*N;m.some(O=>O.id==="a2")&&(y*=1.5);const H=h.filter(O=>O.stat==="attack").reduce((O,P)=>O+P.count*P.value,0);y*=1+H;const q=b.filter(O=>O.isUnlocked).length*.01;y*=1+q;const M=g.reduce((O,P)=>{if(P.isDead)return O;if(P.bonus.includes("DPS")||P.bonus.includes("Attack")){const ye=P.bonus.match(/(\d+)%/);return O+(ye?parseInt(ye[1])/100:.1)}return O},0);return y*=1+M,y},vh=(c,f,d,o,m,u=[],h=1e3,b=1,g=[],p,j,N,y=0)=>{let v=0,_=0;const H=[],q=g.find(le=>le.type==="vampirism")?.value||0,M=g.find(le=>le.type==="cd_reduction")?.value||0,O=g.find(le=>le.type==="crit_dmg")?.value||0,P=g.find(le=>le.type==="attackSpeed")?.value||0,ye=g.find(le=>le.type==="burn"),Ee=g.find(le=>le.type==="freeze"),ge=d*(1+P);if(ye&&!f.isDead){const le=Math.floor(f.stats.maxHp*ye.value*(h/1e3)),ce=Math.max(1,le);v+=ce,Math.random()<.2&&H.push({id:`burn-${Date.now()}-${Math.random()}`,type:"reaction",text:"BURN!",value:ce,element:"fire",x:50+(Math.random()*10-5),y:40})}Ee&&Math.random()<.05&&H.push({id:`freeze-${Date.now()}-${Math.random()}`,type:"status",text:"FROZEN",element:"water",x:50,y:30});const I=c.map(le=>{if(le.assignment!=="combat"||le.isDead||!le.unlocked)return le;let ce={...le.stats};if(y>0){const xe=1+y*.1;ce.attack=Math.floor(ce.attack*xe),ce.defense=Math.floor(ce.defense*xe),ce.hp=Math.floor(ce.hp*xe),ce.maxHp=Math.floor(ce.maxHp*xe),ce.magic=Math.floor(ce.magic*xe),ce.speed=Math.floor(ce.speed*xe)}if(le.equipment){const xe={};Object.values(le.equipment).forEach(Z=>{Z&&(ce[Z.stat]+=Z.value,Z.runes&&Z.runes.forEach(re=>{xe[re.stat]=(xe[re.stat]||0)+re.value}))}),Object.keys(xe).forEach(Z=>{ce[Z]!==void 0&&(ce[Z]=Math.floor(ce[Z]*(1+xe[Z])))});const B=new Map;Object.values(le.equipment).forEach(Z=>{Z?.setId&&B.set(Z.setId,(B.get(Z.setId)||0)+1)}),B.forEach((Z,re)=>{const ke=io.find(Ce=>Ce.id===re);ke&&Z>=ke.requiredPieces&&(ce[ke.bonusStat]=Math.floor(ce[ke.bonusStat]*(1+ke.bonusValue)))})}let be=le.stats.hp;ce.maxHp>le.stats.maxHp,le.corruption&&(ce.attack*=2,ce.maxHp=Math.floor(le.stats.maxHp*.5),be=Math.min(be,ce.maxHp),ce.defense=Math.floor(le.stats.defense*.5));let Me=ce.attack*ge*bm(le.element,f.element);le.skills&&le.skills.forEach(xe=>{if(xe.type==="active"){let B=0;if(xe.currentCooldown>0){j?.id==="elemental_chaos"&&le.element!=="neutral"&&(Me*=2);const Z=1+M;xe.currentCooldown=Math.max(0,xe.currentCooldown-h/1e3*Z)}if(xe.currentCooldown<=0){let Z=!0;m&&p==="no_ult"&&(Z=!1);let re={...xe},ke=!1;if(re.effectType==="heal"&&j?.id==="bloodthirst"&&(re.effectType="damage",re.value*=1.5,ke=!0),re.effectType==="heal"&&p==="no_heal"&&(Z=!1),Z){if(re.effectType==="damage"){let Ce=0;Ce=ce.attack*ge*re.value,re.element&&(Ce*=bm(re.element,f.element)),p==="phys_immune"&&["Warrior","Rogue","Berserker"].includes(le.class)&&(Ce=0),p==="magic_immune"&&["Mage","Warlock","Sorcerer"].includes(le.class)&&(Ce=0),ke&&Math.random()<.2&&H.push({id:`blood-${le.id}-${Date.now()}`,type:"status",text:"Bloodthirst!",value:0}),B=Ce}else if(re.effectType==="heal"||re.effectType==="buff"){const Ce=ce.maxHp*re.value;be=Math.min(ce.maxHp,be+Ce),Me=0}xe.currentCooldown=xe.cooldown}}v+=Math.floor(B)}});let Ge="attack";if(le.gambits&&le.gambits.length>0){for(const xe of le.gambits)if(bh(le,xe,[f],c,N)){Ge=xe.action;break}}if(Ge==="heal"){Me=0;const xe=c.find(B=>!B.isDead&&B.stats.hp<B.stats.maxHp);if(xe){const B=le.stats.magic*2;xe.id,le.id,be=Math.min(ce.maxHp,be+B)}}else Ge==="strong_attack"?le.stats.mp>=10&&(Me*=1.5):Ge==="buff_def"?Me*=.5:Ge==="aoe_attack"&&(Me+=le.stats.magic*3);const mt=Math.random();if(mt<o+(le.class==="Rogue"?.3:0)){const xe=2+O;Me*=xe,_++}if(m){const xe=hh(c);if(xe.length>0){const B=xe.sort((Z,re)=>re.multiplier-Z.multiplier)[0];Me*=B.multiplier,Math.random()<.2&&H.push({id:`combo-${Date.now()}-${Math.random()}`,type:"damage",text:`COMBO: ${B.name}!`,value:0,x:50,y:20}),B.effect==="crit"&&(mt||(Me*=1.5,H.push({id:`crit-force-${le.id}`,type:"damage",text:"LETHAL!",value:0,x:le.stats.hp,y:le.stats.mp})))}else Me*=5}const Fe=Math.floor(Me);return v+=Fe,Fe>0&&q>0&&(be=Math.min(ce.maxHp,be+Fe*q)),{...le,stats:{...le.stats,hp:be},skills:le.skills}});return u&&u.length>0&&u.forEach(le=>{v+=Math.floor(le.stats.attack*(f.level*.5))}),{updatedHeroes:I,totalDmg:v,crits:_,events:H}},wd=[{id:"iron_phalanx",name:"Iron Phalanx",description:"2+ Warriors/Paladins: +20% Damage Mitigation",icon:"",type:"mitigation",value:.2,classSet:["Warrior","Paladin"],classSetCount:2},{id:"arcane_resonance",name:"Arcane Resonance",description:"2+ Mages/Sorcerers: -20% Skill Cooldowns",icon:"",type:"cd_reduction",value:.2,classSet:["Mage","Sorcerer","Warlock","Necromancer"],classSetCount:2},{id:"shadow_strike",name:"Shadow Strike",description:"2+ Rogues/Assassins: +50% Crit Damage",icon:"",type:"crit_dmg",value:.5,classSet:["Rogue","Assassin","Ninja"],classSetCount:2},{id:"reaction_burn",name:"Inferno (Fire + Nature)",description:"Burn: Deals 5% Max HP/sec to Boss",icon:"",type:"burn",value:.05,elements:["fire","nature"]},{id:"reaction_steam",name:"Steam Cloud (Fire + Water)",description:"Blind: Boss Hit Chance reduced by 20%",icon:"",type:"blind",value:.2,elements:["fire","water"]},{id:"reaction_freeze",name:"Permafrost (Water + Nature)",description:"Freeze: Boss Speed reduced by 30%",icon:"",type:"freeze",value:.3,elements:["water","nature"]},{id:"resonance_pyro",name:"Pyro Resonance",description:"3+ Fire Heroes: +20% Attack Speed",icon:"",type:"attackSpeed",value:.2,elementSet:["fire"],elementSetCount:3},{id:"resonance_hydro",name:"Hydro Resonance",description:"3+ Water Heroes: +20% Vampirism",icon:"",type:"vampirism",value:.2,elementSet:["water"],elementSetCount:3},{id:"resonance_terra",name:"Terra Resonance",description:"3+ Nature Heroes: +20% Mitigation",icon:"",type:"mitigation",value:.2,elementSet:["nature"],elementSetCount:3},{id:"divine_five",name:"Divine Five",description:"5 Active Heroes: +10% Gold & XP",icon:"",type:"resources",value:.1,minCount:5}],vm=c=>{const f=c.filter(m=>m.assignment==="combat"&&!m.isDead&&m.unlocked),d=new Set(f.map(m=>m.class)),o=new Set(f.map(m=>m.element));return wd.map(m=>{let u=!1;return m.classes?u=m.classes.every(h=>d.has(h)):m.classSet&&m.classSetCount?u=f.filter(b=>m.classSet?.includes(b.class)).length>=m.classSetCount:m.elementSet&&m.elementSetCount?u=f.filter(b=>m.elementSet?.includes(b.element)).length>=m.elementSetCount:m.elements?u=m.elements.every(h=>o.has(h)):m.minCount&&(u=f.length>=m.minCount),{id:m.id,name:m.name,description:m.description,icon:m.icon,isActive:u,type:m.type,value:m.value}}).filter(m=>m.isActive)},jh=c=>{const f=c.filter(u=>u.assignment==="combat"&&!u.isDead&&u.unlocked),d=new Map,o=new Map;f.forEach(u=>{d.set(u.class,(d.get(u.class)||0)+1),o.set(u.element,(o.get(u.element)||0)+1)});const m=[];return wd.forEach(u=>{if(u.classSet&&u.classSetCount){const h=f.filter(b=>u.classSet?.includes(b.class)).length;h>0&&h===u.classSetCount-1&&m.push(`Add 1 ${u.classSet[0]} type to trigger ${u.name}`)}if(u.elementSet&&u.elementSetCount){const h=f.filter(b=>u.elementSet?.includes(b.element)).length;if(h>0&&h===u.elementSetCount-1){const b=u.elementSet[0];m.push(`Add 1 ${b.charAt(0).toUpperCase()+b.slice(1)} Hero for ${u.name}`)}}if(u.elements&&u.elements.length===2){const[h,b]=u.elements,g=(o.get(h)||0)>0,p=(o.get(b)||0)>0;g&&!p?m.push(`Add ${b.toUpperCase()} Hero to trigger ${u.name}`):!g&&p&&m.push(`Add ${h.toUpperCase()} Hero to trigger ${u.name}`)}}),m.slice(0,3)},Vs=[{name:"Slime",emoji:""},{name:"Rat",emoji:""},{name:"Spider",emoji:""},{name:"Bat",emoji:""},{name:"Wolf",emoji:""},{name:"Goblin",emoji:""},{name:"Skeleton",emoji:""},{name:"Orc",emoji:""},{name:"Ghost",emoji:""},{name:"Zombie",emoji:""},{name:"Troll",emoji:""},{name:"Yeti",emoji:""},{name:"Mummy",emoji:""},{name:"Vampire",emoji:""},{name:"Demon",emoji:""},{name:"Dragon",emoji:""},{name:"Hydra",emoji:""},{name:"Kraken",emoji:""},{name:"Titan",emoji:""},{name:"Evil Eye",emoji:""}],jm=[{id:"p_heavy",name:"Heavy",stat:"defense",multiplier:1.3},{id:"p_sharp",name:"Sharp",stat:"attack",multiplier:1.3},{id:"p_swift",name:"Swift",stat:"speed",multiplier:1.2},{id:"p_arcane",name:"Arcane",stat:"magic",multiplier:1.3},{id:"p_vital",name:"Vital",stat:"hp",multiplier:1.2},{id:"p_ancient",name:"Ancient",stat:"attack",multiplier:1.5},{id:"p_divine",name:"Divine",stat:"attack",multiplier:2}],Nm=[{id:"s_bear",name:"of the Bear",stat:"hp",multiplier:1.3},{id:"s_wolf",name:"of the Wolf",stat:"attack",multiplier:1.2},{id:"s_eagle",name:"of the Eagle",stat:"speed",multiplier:1.2},{id:"s_void",name:"of the Void",stat:"magic",multiplier:1.3},{id:"s_titan",name:"of the Titan",stat:"defense",multiplier:1.3}],md=c=>{const f=Math.floor(Math.random()*3)+1;let d="Item",o="attack",m=c,u="weapon";const h=Math.random();h<.33?(u="weapon",o="attack",d="Sword"):h<.66?(u="armor",o="defense",d="Plate"):(u="accessory",o=Math.random()<.5?"hp":"magic",d="Ring");let b;if(Math.random()<.1){const g=io[Math.floor(Math.random()*io.length)];b=g.id,d=`${g.name} ${d}`,m=Math.floor(m*1.5)}else{const g=Math.random()<.4,p=Math.random()<.4;if(g){const j=jm[Math.floor(Math.random()*jm.length)];d=`${j.name} ${d}`,j.stat===o&&(m=Math.floor(m*j.multiplier))}if(p){const j=Nm[Math.floor(Math.random()*Nm.length)];d=`${d} ${j.name}`,m=Math.floor(m*j.multiplier)}}return{id:Math.random().toString(),name:d,type:u==="accessory"?"accessory":u==="weapon"?"weapon":"armor",slot:u,setId:b,stat:o,value:m,rarity:b?"epic":"common",sockets:f,runes:[]}},Nh=(c,f)=>{if(!(c.auto_quest>0))return null;const d=f.find(o=>o.isCompleted);return d?d.id:null},wh=(c,f)=>f.auto_tavern>0&&c>1e3&&Math.random()<.1,Sh=(c,f,d)=>{if(!(c.auto_talent>0)||Math.random()>.1)return null;const o=d.find(m=>{const u=Math.floor(m.cost*Math.pow(m.costScaling,m.level));return f>=u});return o?o.id:null},Mh=(c,f)=>c.auto_revive>0?f.some(d=>d.isDead):!1,kh=(c,f)=>!(c.auto_tower>0)||Math.random()>.01?null:{...f,floor:f.floor+1,maxFloor:Math.max(f.maxFloor,f.floor+1)},Ch=(c,f,d,o,m,u,h=1)=>{let p=0;for(let I=0;I<c;I++)p+=500+(d+I)*50;if(f<p)return{cost:p,newHeroes:[],unlockedHeroIds:[],newArtifacts:[],pendingPets:[],statBoosts:0,minerBoosts:0,petXpBoosts:{},logs:[`Need ${Math.floor(p)} Gold for x${c} summons!`],success:!1,errorReason:"insufficient_gold"};const j=[],N=[],y=[];let v=0,_=0;const H={},q=[],M=new Set,O=o.filter(I=>I.class==="Miner").length;let P=!1;const ye=new Map;u.forEach(I=>ye.set(I.name,I.id));const Ee=new Map,ge=(h-1)*.005;for(let I=0;I<c;I++){const le=Math.random();if(le<.3+ge){const ce=o.filter(be=>!be.unlocked&&!M.has(be.id)&&be.class!=="Miner");if(ce.length>0){const be=ce[Math.floor(Math.random()*ce.length)];M.add(be.id),q.push(`Recruited ${be.name}`)}else v++}else if(le<.35+ge){const ce=fm[Math.floor(Math.random()*fm.length)];m.some(Me=>Me.id===ce.id)||N.some(Me=>Me.id===ce.id)||(N.push(ce),q.push(`Found Artifact: ${ce.name}`))}else if(le<.5+ge){const ce=[{id:"p1",name:"Wolf Pup",type:"pet",emoji:"",rarity:"common",level:1,xp:0,maxXp:100,bonus:"+5% Attack",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:5,defense:0,magic:0,speed:1},isDead:!1},{id:"p2",name:"Cat Spirit",type:"pet",emoji:"",rarity:"common",level:1,xp:0,maxXp:100,bonus:"+5% Speed",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:2,defense:0,magic:2,speed:5},isDead:!1},{id:"p3",name:"Slime",type:"pet",emoji:"",rarity:"common",level:1,xp:0,maxXp:100,bonus:"+5% HP",stats:{hp:20,maxHp:20,mp:0,maxMp:0,attack:1,defense:1,magic:0,speed:0},isDead:!1},{id:"p4",name:"Bat",type:"pet",emoji:"",rarity:"common",level:1,xp:0,maxXp:100,bonus:"+2% Life Steal",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:3,defense:0,magic:0,speed:3},isDead:!1},{id:"p5",name:"Dire Wolf",type:"pet",emoji:"",rarity:"rare",level:1,xp:0,maxXp:100,bonus:"+10% Crit Chance",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:12,defense:0,magic:0,speed:2},isDead:!1},{id:"p6",name:"Fairy",type:"pet",emoji:"",rarity:"rare",level:1,xp:0,maxXp:100,bonus:"+5 HP/sec Regen",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:2,defense:0,magic:10,speed:0},isDead:!1},{id:"p7",name:"Mimic",type:"pet",emoji:"",rarity:"epic",level:1,xp:0,maxXp:100,bonus:"+15% Magic Find",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:5,defense:5,magic:0,speed:0},isDead:!1},{id:"p8",name:"Rock Golem",type:"pet",emoji:"",rarity:"rare",level:1,xp:0,maxXp:100,bonus:"+20% Defense",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:5,defense:20,magic:0,speed:-1},isDead:!1},{id:"p9",name:"Ghost",type:"pet",emoji:"",rarity:"rare",level:1,xp:0,maxXp:100,bonus:"+10% Evasion",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:0,defense:0,magic:10,speed:5},isDead:!1},{id:"p10",name:"Unicorn",type:"pet",emoji:"",rarity:"epic",level:1,xp:0,maxXp:100,bonus:"+10% Magic",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:5,defense:5,magic:15,speed:2},isDead:!1},{id:"p11",name:"Griffin",type:"pet",emoji:"",rarity:"epic",level:1,xp:0,maxXp:100,bonus:"+10% Speed",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:10,defense:5,magic:0,speed:10},isDead:!1},{id:"p12",name:"Kraken",type:"pet",emoji:"",rarity:"legendary",level:1,xp:0,maxXp:100,bonus:"+15% Attack",stats:{hp:0,maxHp:0,mp:0,maxMp:0,attack:20,defense:5,magic:0,speed:-2},isDead:!1}],be=ce[Math.floor(Math.random()*ce.length)];let Me=be.name,Ge=be.bonus,mt=be.emoji,Fe=!1;Math.random()<.1&&(Me=` Shiny ${be.name}`,Ge=Ge.replace(/(\d+)%/,(Z,re)=>`${parseInt(re)*2}%`),mt=`${mt}`,Fe=!0);const xe=ye.get(Me),B=Ee.get(Me);if(xe)H[xe]=(H[xe]||0)+150;else if(B!==void 0)y[B].xp+=150;else{const Z={...be,name:Me,bonus:Ge,emoji:mt,id:`pet-${Date.now()}-${I}-${Math.floor(Math.random()*1e3)}`,xp:0};y.push(Z),Ee.set(Me,y.length-1),q.push(Fe?`SHINY PET: ${Me}`:`Pet: ${Me}`)}}else if(le<.6)if(O>0||P)_++;else{const ce={id:`miner-${Date.now()}-${I}-${Math.floor(Math.random()*1e3)}`,name:"Dwarven Miner",class:"Miner",emoji:"",unlocked:!0,level:1,xp:0,maxXp:100,statPoints:0,skills:[],stats:{hp:80,maxHp:80,mp:30,maxMp:30,attack:10,magic:5,defense:5,speed:10},equipment:{},element:"neutral",assignment:"mine",gambits:[],corruption:!1,type:"hero",isDead:!1,fatigue:0,maxFatigue:100};j.push(ce),P=!0,q.push("Recruited Dwarven Miner!")}}return{cost:p,newHeroes:j,unlockedHeroIds:Array.from(M),newArtifacts:N,pendingPets:y,statBoosts:v,minerBoosts:_,petXpBoosts:H,logs:q,success:!0}},Dh=c=>{if(c.length===0||Math.random()>=.2)return null;const f=c.reduce((o,m)=>o+m.stats.attack,0),d=Math.random()*f;return d>1e3?{mithril:1}:d>200?{iron:1}:{copper:1}},gd=(c=1)=>{let f=0;for(let d=0;d<c;d++)Math.random()<.25&&f++;return f},Ah=(c,f)=>{for(const o of c.cost)if((f[o.type]||0)<o.amount)return{success:!1,cost:{},error:`Not enough ${o.type}`};const d={};return c.cost.forEach(o=>d[o.type]=o.amount),{success:!0,cost:d}},Th=(c,f)=>f.map(o=>c.heroIds.includes(o.id)?{...o,assignment:"expedition"}:o),_h=c=>c.startTime?Date.now()-c.startTime>=c.duration*1e3:!1,zh=c=>{const f=[];return c.rewards.forEach(d=>{const o=Math.floor(Math.random()*(d.max-d.min+1))+d.min;o>0&&f.push({type:d.type,amount:o})}),f},Eh=[{id:0,unlocked:!0,seed:null,growth:0,plantedAt:0},{id:1,unlocked:!0,seed:null,growth:0,plantedAt:0},{id:2,unlocked:!0,seed:null,growth:0,plantedAt:0},{id:3,unlocked:!1,seed:null,growth:0,plantedAt:0},{id:4,unlocked:!1,seed:null,growth:0,plantedAt:0},{id:5,unlocked:!1,seed:null,growth:0,plantedAt:0},{id:6,unlocked:!1,seed:null,growth:0,plantedAt:0},{id:7,unlocked:!1,seed:null,growth:0,plantedAt:0},{id:8,unlocked:!1,seed:null,growth:0,plantedAt:0}],qm=[0,0,0,1e3,2500,5e3,1e4,25e3,5e4],Hh=(c,f)=>c.map(d=>{if(!d.seed||d.growth>=100)return d;const o=rs[d.seed],m=(f-d.plantedAt)/1e3,u=Math.min(100,m/o.growthTime*100);return{...d,growth:u}}),Oh=(c,f,d,o)=>{const m=c[f],u=rs[d];if(!m||!m.unlocked||m.seed)return{newPlots:c,cost:0,success:!1};if(o<u.cost)return{newPlots:c,cost:0,success:!1};const h=[...c];return h[f]={...m,seed:d,growth:0,plantedAt:Date.now()},{newPlots:h,cost:u.cost,success:!0}},Rh=(c,f)=>{const d=c[f];if(!d||!d.seed||d.growth<100)return{newPlots:c,yieldAmount:0,success:!1};const o=rs[d.seed],m=Math.floor(Math.random()*(o.harvestYield.max-o.harvestYield.min+1))+o.harvestYield.min,u=[...c];return u[f]={...d,seed:null,growth:0,plantedAt:0},{newPlots:u,yieldAmount:m,success:!0}},Uh=(c,f,d)=>{const o=c[f],m=qm[f];if(!o||o.unlocked)return{newPlots:c,cost:0,success:!1};if(d<m)return{newPlots:c,cost:0,success:!1};const u=[...c];return u[f]={...o,unlocked:!0},{newPlots:u,cost:m,success:!0}},wm=[{id:"void_potion",name:"Essence of Void",description:"Gain 5 Void Matter",cost:5e4,currency:"gold",type:"potion",value:5,emoji:""},{id:"divinity_shard",name:"Fragile Divinity",description:"Gain 1 Divinity",cost:1e6,currency:"gold",type:"potion",value:1,emoji:""},{id:"gambit_pack",name:"Tactician's Tome",description:"Unlock a Gambit Slot",cost:10,currency:"voidMatter",type:"gambit_box",emoji:""},{id:"mystery_egg",name:"Mystery Egg",description:"A random pet egg",cost:5,currency:"divinity",type:"pet_egg_fragment",emoji:""},{id:"corrupted_scroll",name:"Forbidden Scroll",description:"Instant 1 hour of progress (with corruption risk)",cost:20,currency:"voidMatter",type:"corrupted_scroll",emoji:""},{id:"gold_crate",name:"Illicit Gold Shipment",description:"Gain massive gold",cost:2,currency:"divinity",type:"potion",value:1e5,emoji:""}],Lh=()=>{const c=Math.floor(Math.random()*3)+3,f=[];for(let d=0;d<c;d++){const o=wm[Math.floor(Math.random()*wm.length)],m={id:o.id+"_"+d,name:o.name,description:o.description,cost:o.cost,currency:o.currency,stock:Math.floor(Math.random()*3)+1,type:o.type,value:o.value,emoji:o.emoji};f.push(m)}return f},Sm={Warrior:"Warlord",Mage:"Archmage",Healer:"Saint",Rogue:"Assassin",Paladin:"Crusader",Warlock:"Demonologist",Dragoon:"Dragon Lord",Sage:"Prophet",Necromancer:"Lich",Bard:"Virtuoso",Monk:"Grandmaster",Ranger:"Sniper",Druid:"Archdruid",Berserker:"Chieftain",Sorcerer:"Arcanist",Templar:"High Templar",Assassin:"Shadowblade",Engineer:"Artificer",Alchemist:"Transmuter",Illusionist:"Mirage",Samurai:"Shogun",Viking:"Jarl",Ninja:"Shinobi",Pirate:"Admiral",Fisherman:"Leviathan",Blacksmith:"Forge Master",Miner:"Deep King"},Mm={statBonus:1.5},ee=(c,f,d,o,m,u,h,b,g="damage")=>({id:c,name:f,description:d,unlockLevel:o,cooldown:m,currentCooldown:0,type:"active",effectType:g,target:h,value:u,element:b}),V=(c,f,d,o,m)=>({id:c,name:f,description:d,unlockLevel:o,cooldown:0,currentCooldown:0,type:"passive",effectType:"passive",target:"self",value:0,statBonus:m}),Bh={Warrior:[ee("w1","Heavy Strike","150% Damage",2,5,1.5,"enemy"),V("w2","Iron Skin","+15 Defense",5,{defense:15}),ee("w3","Cleave","120% Damage to all (simulated)",8,8,1.2,"enemy"),V("w4","Veteran Vitality","+50 HP",12,{hp:50,maxHp:50}),ee("w5","Shield Bash","200% Damage",15,12,2,"enemy"),V("w6","Aggression","+10 Attack",20,{attack:10}),ee("w7","Execute","300% Damage",25,20,3,"enemy"),V("w8","Fortress","+30 Defense",30,{defense:30}),V("w9","Titan Blood","+100 HP",40,{hp:100,maxHp:100}),V("w10","Warlord","+20 Attack",50,{attack:20})],Mage:[ee("m1","Fireball","160% Fire Damage",2,6,1.6,"enemy","fire"),V("m2","Arcane Mind","+10 Magic",5,{magic:10}),ee("m3","Frost Nova","130% Water Damage",8,10,1.3,"enemy","water"),V("m4","Mana Flow","+30 MP",12,{mp:30,maxMp:30}),ee("m5","Thunderbolt","220% Damage",15,12,2.2,"enemy","nature"),V("m6","Glass Cannon","+20 Magic",20,{magic:20}),ee("m7","Meteor","350% Fire Damage",25,25,3.5,"enemy","fire"),V("m8","Wizardry","+30 Magic",30,{magic:30}),V("m9","Deep Mana","+60 MP",40,{mp:60,maxMp:60}),V("m10","Archmage","+50 Magic",50,{magic:50})],Healer:[ee("h1","Heal","Heals 30% HP",2,8,.3,"lowest_hp","light","heal"),V("h2","Faith","+10 Magic",5,{magic:10}),ee("h3","Smite","150% Light Damage",8,10,1.5,"enemy","light"),V("h4","Blessing","+20 HP",12,{hp:20,maxHp:20}),ee("h5","Group Heal","Heals Party 20% (simulated as self 20% for now)",15,15,.2,"party","light","heal"),V("h6","Divine Protection","+10 Defense",20,{defense:10}),ee("h7","Resurrection","Heals 50% HP",25,30,.5,"lowest_hp","light","heal"),V("h8","Sanctuary","+20 Defense",30,{defense:20}),V("h9","Angel Heart","+50 MP",40,{mp:50,maxMp:50}),V("h10","Divinity","+30 Magic",50,{magic:30})],Rogue:[ee("r1","Backstab","180% Damage",2,5,1.8,"enemy"),V("r2","Agility","+5 Speed",5,{speed:5}),ee("r3","Poison Blade","140% Nature Damage",8,8,1.4,"enemy","nature"),V("r4","Lethality","+15 Attack",12,{attack:15}),ee("r5","Fan of Knives","150% Damage",15,10,1.5,"enemy"),V("r6","Reflexes","+10 Speed",20,{speed:10}),ee("r7","Assassinate","400% Damage",25,20,4,"enemy"),V("r8","Shadow Walk","+20 Speed",30,{speed:20}),V("r9","Crit Mastery","+30 Attack",40,{attack:30}),V("r10","Ghost","+100 HP",50,{hp:100,maxHp:100})],Paladin:[ee("p1","Holy Strike","140% Light Damage",2,6,1.4,"enemy","light"),V("p2","Armor of Light","+20 Defense",5,{defense:20}),ee("p3","Shield Wall","Buff Def (Not impl yet, just heal)",8,15,.1,"self","light","heal"),V("p4","Devotion","+40 HP",12,{hp:40,maxHp:40}),ee("p5","Judgment","200% Light Damage",15,12,2,"enemy","light"),V("p6","Valor","+15 Attack",20,{attack:15}),ee("p7","Heaven's Wrath","300% Light Damage",25,20,3,"enemy","light"),V("p8","Guardian","+40 Defense",30,{defense:40}),V("p9","Saint","+100 HP",40,{hp:100,maxHp:100}),V("p10","Crusader","+20 Attack",50,{attack:20})],Warlock:[ee("wl1","Shadow Bolt","160% Dark Damage",2,5,1.6,"enemy","dark"),V("wl2","Dark Pact","+15 Magic",5,{magic:15}),ee("wl3","Drain Life","120% Dmg + Heal",8,10,1.2,"enemy","dark"),V("wl4","Void Soul","+30 MP",12,{mp:30,maxMp:30}),ee("wl5","Curse","200% Dark Damage",15,12,2,"enemy","dark"),V("wl6","Forbidden Knowledge","+25 Magic",20,{magic:25}),ee("wl7","Doom","350% Dark Damage",25,25,3.5,"enemy","dark"),V("wl8","Nightmare","+35 Magic",30,{magic:35}),V("wl9","Abyss","+60 MP",40,{mp:60,maxMp:60}),V("wl10","Demon Lord","+50 Magic",50,{magic:50})],Dragoon:[ee("d1","Pierce","160% Damage",2,5,1.6,"enemy"),V("d2","Dragon Scale","+15 Defense",5,{defense:15}),ee("d3","Jump","200% Damage",8,12,2,"enemy"),V("d4","Lance Mastery","+15 Attack",12,{attack:15}),ee("d5","Dragon Breath","180% Fire Damage",15,10,1.8,"enemy","fire"),V("d6","Flight","+10 Speed",20,{speed:10}),ee("d7","Stardiver","400% Damage",25,25,4,"enemy"),V("d8","Wyrmblood","+80 HP",30,{hp:80,maxHp:80}),V("d9","Impact","+30 Attack",40,{attack:30}),V("d10","Dragon Knight","+50 Defense",50,{defense:50})],Sage:[ee("s1","Energy Ball","150% Magic Damage",2,5,1.5,"enemy"),V("s2","Wisdom","+20 MP",5,{mp:20,maxMp:20}),ee("s3","Meditate","Heal Self 30%",8,15,.3,"self","neutral","heal"),V("s4","Insight","+15 Magic",12,{magic:15}),ee("s5","Holy Water","200% Water Damage",15,12,2,"enemy","water"),V("s6","Clarity","+30 MP",20,{mp:30,maxMp:30}),ee("s7","Ultima","350% Magic Damage",25,30,3.5,"enemy"),V("s8","Prophecy","+30 Magic",30,{magic:30}),V("s9","Elder","+100 MP",40,{mp:100,maxMp:100}),V("s10","Enlightenment","+50 Magic",50,{magic:50})],Necromancer:[ee("n1","Bone Spear","150% Damage",2,6,1.5,"enemy"),V("n2","Death Aura","+10 Magic",5,{magic:10}),ee("n3","Raise Skeleton","Buff Atk +10 (Simulated)",8,20,1,"self","dark","buff"),V("n4","Grave Chill","+10 Defense",12,{defense:10}),ee("n5","Corpse Explosion","220% Dark Damage",15,12,2.2,"enemy","dark"),V("n6","Lich Form","+50 HP",20,{hp:50,maxHp:50}),ee("n7","Death Grip","300% Dark Damage",25,20,3,"enemy","dark"),V("n8","Soul Harvest","+25 Magic",30,{magic:25}),V("n9","Commander","+40 MP",40,{mp:40,maxMp:40}),V("n10","Overlord","+50 Magic",50,{magic:50})],Bard:[ee("ba1","Song of Rest","Heal Party 10%",2,8,.1,"party","neutral","heal"),V("ba2","Charisma","+10 Magic",5,{magic:10}),ee("ba3","Discord","120% Damage",8,6,1.2,"enemy"),V("ba4","Traveler","+20 Speed",12,{speed:20}),ee("ba5","Hymn of Valor","Buff Party Atk (Simulated)",15,20,1.1,"party","light","buff"),V("ba6","Inspiration","+20 Magic",20,{magic:20}),ee("ba7","Cacophony","250% Damage",25,15,2.5,"enemy"),V("ba8","Legend","+30 Magic",30,{magic:30}),V("ba9","Ballad","+50 MP",40,{mp:50,maxMp:50}),V("ba10","Virtuoso","+50 Speed",50,{speed:50})],Monk:[ee("mo1","Palm Strike","150% Damage",2,4,1.5,"enemy"),V("mo2","Discipline","+10 Attack",5,{attack:10}),ee("mo3","Cyclone Kick","180% Damage",8,8,1.8,"enemy"),V("mo4","Iron Body","+20 Defense",12,{defense:20}),ee("mo5","Meditation","Heal Self 40%",15,15,.4,"self","neutral","heal"),V("mo6","Flow","+20 Speed",20,{speed:20}),ee("mo7","Seven Sided Strike","350% Damage",25,20,3.5,"enemy"),V("mo8","Enlightened","+30 Attack",30,{attack:30}),V("mo9","Karma","+100 HP",40,{hp:100,maxHp:100}),V("mo10","Grandmaster","+50 Attack",50,{attack:50})],Ranger:[ee("ra1","Aimed Shot","160% Damage",2,5,1.6,"enemy"),V("ra2","Eagle Eye","+10 Attack",5,{attack:10}),ee("ra3","Volley","140% Damage",8,8,1.4,"enemy"),V("ra4","Light Step","+20 Speed",12,{speed:20}),ee("ra5","Trap","200% Damage",15,12,2,"enemy"),V("ra6","Hunter","+15 Attack",20,{attack:15}),ee("ra7","Headshot","350% Damage",25,18,3.5,"enemy"),V("ra8","Sniper","+30 Attack",30,{attack:30}),V("ra9","Survivalist","+50 HP",40,{hp:50,maxHp:50}),V("ra10","Deadeye","+50 Attack",50,{attack:50})],Druid:[ee("dr1","Thorn Whip","140% Nature Damage",2,5,1.4,"enemy","nature"),V("dr2","Naturalist","+10 Magic",5,{magic:10}),ee("dr3","Regrowth","Heal 20%",8,10,.2,"lowest_hp","nature","heal"),V("dr4","Barkskin","+20 Defense",12,{defense:20}),ee("dr5","Wrath of Nature","220% Nature Damage",15,15,2.2,"enemy","nature"),V("dr6","Balance","+20 Magic",20,{magic:20}),ee("dr7","Hurricane","300% Damage",25,20,3,"enemy","nature"),V("dr8","Elder Tree","+40 HP",30,{hp:40,maxHp:40}),V("dr9","Wild Shape","+30 Attack",40,{attack:30}),V("dr10","Archdruid","+50 Magic",50,{magic:50})],Berserker:[ee("be1","Rage","Buff Atk (Simulated simple hit 150%)",2,5,1.5,"enemy"),V("be2","Anger","+15 Attack",5,{attack:15}),ee("be3","Slam","180% Damage",8,8,1.8,"enemy"),V("be4","Reckless","-10 Def, +20 Atk",12,{attack:20,defense:-10}),ee("be5","Bloodlust","Heal Self 50%",15,20,.5,"self","neutral","heal"),V("be6","Frenzy","+20 Speed",20,{speed:20}),ee("be7","Decapitate","400% Damage",25,25,4,"enemy"),V("be8","Savage","+40 Attack",30,{attack:40}),V("be9","Undying","+150 HP",40,{hp:150,maxHp:150}),V("be10","Avatar","+60 Attack",50,{attack:60})],Sorcerer:[ee("so1","Arcane Bolt","160% Magic Damage",2,4,1.6,"enemy"),V("so2","Mana Pool","+20 MP",5,{mp:20,maxMp:20}),ee("so3","Scorch","180% Fire Damage",8,8,1.8,"enemy","fire"),V("so4","Potency","+15 Magic",12,{magic:15}),ee("so5","Teleport","Buff Evasion (Simulated heal 10%)",15,15,.1,"self","neutral","heal"),V("so6","Focus","+25 Magic",20,{magic:25}),ee("so7","Chaos Bolt","350% Random Dmg",25,20,3.5,"enemy"),V("so8","Overload","+35 Magic",30,{magic:35}),V("so9","Deep Magic","+100 MP",40,{mp:100,maxMp:100}),V("so10","Archmage","+60 Magic",50,{magic:60})],Templar:[ee("te1","Smash","140% Damage",2,6,1.4,"enemy"),V("te2","Shielding","+20 Defense",5,{defense:20}),ee("te3","Consecrate","150% Light Damage",8,10,1.5,"enemy","light"),V("te4","Fortitude","+50 HP",12,{hp:50,maxHp:50}),ee("te5","Divine Storm","200% Damage",15,15,2,"enemy","light"),V("te6","Resolve","+30 Defense",20,{defense:30}),ee("te7","Judgment","350% Light Damage",25,25,3.5,"enemy","light"),V("te8","Guardian","+40 Defense",30,{defense:40}),V("te9","Saint","+100 HP",40,{hp:100,maxHp:100}),V("te10","Champion","+50 Attack",50,{attack:50})],Assassin:[ee("as1","Stab","160% Damage",2,4,1.6,"enemy"),V("as2","Shadows","+10 Speed",5,{speed:10}),ee("as3","Poison","140% Nature Dmg",8,8,1.4,"enemy","nature"),V("as4","Deadly","+20 Attack",12,{attack:20}),ee("as5","Eviscerate","220% Damage",15,12,2.2,"enemy"),V("as6","Precision","+15 Crit (Simulated Atk)",20,{attack:15}),ee("as7","Death Blow","450% Damage",25,30,4.5,"enemy"),V("as8","Killer","+30 Attack",30,{attack:30}),V("as9","Vanish","+30 Speed",40,{speed:30}),V("as10","Master","+60 Attack",50,{attack:60})],Engineer:[ee("en1","Wrench","150% Damage",2,5,1.5,"enemy"),V("en2","Tech","+10 Defense",5,{defense:10}),ee("en3","Turret","150% Damage",8,10,1.5,"enemy"),V("en4","Optimization","+20 Attack",12,{attack:20}),ee("en5","Grenade","200% Fire Damage",15,12,2,"enemy","fire"),V("en6","Upgrades","+30 Defense",20,{defense:30}),ee("en7","Laser","350% Damage",25,20,3.5,"enemy"),V("en8","Mechanic","+50 HP",30,{hp:50,maxHp:50}),V("en9","Overclock","+20 Speed",40,{speed:20}),V("en10","Genius","+50 Magic",50,{magic:50})],Alchemist:[ee("al1","Acid Flask","150% Nature Dmg",2,5,1.5,"enemy","nature"),V("al2","Chemistry","+15 Magic",5,{magic:15}),ee("al3","Healing Potion","Heal 25%",8,10,.25,"lowest_hp","neutral","heal"),V("al4","Transmute","+10 Gold (Simulated Atk)",12,{attack:10}),ee("al5","Explosion","220% Fire Damage",15,15,2.2,"enemy","fire"),V("al6","Potency","+25 Magic",20,{magic:25}),ee("al7","Elixir","Heal Party 30%",25,25,.3,"party","neutral","heal"),V("al8","Mixologist","+35 Magic",30,{magic:35}),V("al9","Philosopher","+100 HP",40,{hp:100,maxHp:100}),V("al10","Goldmaker","+50 Magic",50,{magic:50})],Illusionist:[ee("il1","Mind Blast","150% Magic Dmg",2,5,1.5,"enemy"),V("il2","Mirage","+15 Speed",5,{speed:15}),ee("il3","Phantasm","180% Damage",8,8,1.8,"enemy"),V("il4","Trickster","+20 Magic",12,{magic:20}),ee("il5","Invisibility","Buff Def (Simulated)",15,15,.1,"self","neutral","buff"),V("il6","Deception","+20 Speed",20,{speed:20}),ee("il7","Nightmare","350% Damage",25,20,3.5,"enemy"),V("il8","Mastermind","+30 Magic",30,{magic:30}),V("il9","Ethereal","+40 Defense",40,{defense:40}),V("il10","Grand Illusion","+60 Magic",50,{magic:60})],Samurai:[ee("sa1","Katana Slash","150% Damage",2,4,1.5,"enemy"),V("sa2","Bushido","+15 Attack",5,{attack:15}),ee("sa3","Quick Draw","180% Damage",8,6,1.8,"enemy"),V("sa4","Honor","+20 HP",12,{hp:20,maxHp:20}),ee("sa5","Dragon Slash","250% Fire Damage",15,15,2.5,"enemy","fire"),V("sa6","Focus","+20 Speed",20,{speed:20}),ee("sa7","Blade Dance","350% Damage",25,20,3.5,"enemy"),V("sa8","Keen Edge","+30 Attack",30,{attack:30}),V("sa9","Spirit","+50 MP",40,{mp:50,maxMp:50}),V("sa10","Shogun","+50 Attack",50,{attack:50})],Viking:[ee("vi1","Axe Throw","160% Damage",2,6,1.6,"enemy"),V("vi2","Strength","+20 Attack",5,{attack:20}),ee("vi3","Shield Bash","140% Damage",8,8,1.4,"enemy"),V("vi4","Toughness","+40 HP",12,{hp:40,maxHp:40}),ee("vi5","War Cry","Buff Atk (Simulated)",15,20,1.1,"party","neutral","buff"),V("vi6","Raider","+20 Attack",20,{attack:20}),ee("vi7","Ragnarok","400% Fire Damage",25,30,4,"enemy","fire"),V("vi8","Warlord","+30 Defense",30,{defense:30}),V("vi9","Odin's Blood","+100 HP",40,{hp:100,maxHp:100}),V("vi10","Valhalla","+50 Attack",50,{attack:50})],Ninja:[ee("ni1","Shuriken","150% Damage",2,3,1.5,"enemy"),V("ni2","Stealth","+15 Speed",5,{speed:15}),ee("ni3","Shadow Strike","180% Damage",8,8,1.8,"enemy"),V("ni4","Agility","+20 Speed",12,{speed:20}),ee("ni5","Smoke Bomb","Buff Evasion (Simulated)",15,15,.1,"self","neutral","buff"),V("ni6","Assassin","+20 Attack",20,{attack:20}),ee("ni7","Flicker","400% Damage",25,25,4,"enemy"),V("ni8","Shinobi","+30 Attack",30,{attack:30}),V("ni9","Shadow","+30 Speed",40,{speed:30}),V("ni10","Master","+50 Attack",50,{attack:50})],Pirate:[ee("pi1","Pistol Shot","160% Damage",2,6,1.6,"enemy"),V("pi2","Greed","+10 Gold (Simulated Atk)",5,{attack:10}),ee("pi3","Cutlass","150% Damage",8,8,1.5,"enemy"),V("pi4","Luck","+15 Crit (Simulated Atk)",12,{attack:15}),ee("pi5","Cannonball","250% Fire Damage",15,15,2.5,"enemy","fire"),V("pi6","Plunder","+20 Attack",20,{attack:20}),ee("pi7","Broadside","350% Damage",25,25,3.5,"enemy"),V("pi8","Captain","+10 Speed",30,{speed:10}),V("pi9","Rum","+100 HP",40,{hp:100,maxHp:100}),V("pi10","King","+50 Attack",50,{attack:50})],Fisherman:[ee("fi1","Hook","150% Damage",2,4,1.5,"enemy"),V("fi2","Patience","+15 Defense",5,{defense:15}),ee("fi3","Net Throw","140% Damage + Slow (Simulated)",8,8,1.4,"enemy","water"),V("fi4","Sea Legs","+20 Speed",12,{speed:20}),ee("fi5","Harpoon","200% Damage",15,12,2,"enemy"),V("fi6","Angler","+15 Gold (Simulated Atk)",20,{attack:15}),ee("fi7","Tsunami","350% Water Damage",25,20,3.5,"enemy","water"),V("fi8","Navigator","+50 HP",30,{hp:50,maxHp:50}),V("fi9","Big Catch","+30 Attack",40,{attack:30}),V("fi10","Poseidon","+50 Magic",50,{magic:50})]},Gh=[{id:"g1",name:"Terra Nova",description:"A fertile starting world.",x:0,y:0,level:10,difficulty:1e3,reward:{type:"global_gold",value:.1},isOwned:!1,type:"planet"},{id:"g2",name:"Asteroid Belt Alpha",description:"Rich in minerals.",x:15,y:-10,level:20,difficulty:5e3,reward:{type:"mithril",value:5},isOwned:!1,type:"asteroid"},{id:"g3",name:"Crimson Moon",description:"Orbiting a gas giant.",x:-20,y:15,level:30,difficulty:15e3,reward:{type:"global_damage",value:.1},isOwned:!1,type:"planet"},{id:"g4",name:"Void Outpost",description:"Abandoned station.",x:30,y:30,level:50,difficulty:5e4,reward:{type:"souls",value:5},isOwned:!1,type:"nebula"},{id:"g5",name:"Ice Giant",description:"Frozen wasteland.",x:-40,y:-20,level:70,difficulty:1e5,reward:{type:"gold",value:500},isOwned:!1,type:"planet"},{id:"g6",name:"Molten Core",description:"Unstable planet.",x:50,y:0,level:90,difficulty:25e4,reward:{type:"mining_speed",value:.2},isOwned:!1,type:"planet",hazardLevel:"safe"},{id:"g7",name:"Stardust Nebula",description:"Concentrated mystic energy.",x:0,y:60,level:120,difficulty:5e5,reward:{type:"starlight",value:1},isOwned:!1,type:"nebula",hazardLevel:"low"},{id:"g8",name:"The Black Sun",description:"Ancient star.",x:-60,y:60,level:150,difficulty:1e6,reward:{type:"global_xp",value:.2},isOwned:!1,type:"star",hazardLevel:"medium"},{id:"g9",name:"Cyber Prime",description:"Technological ruin.",x:80,y:-40,level:180,difficulty:2e6,reward:{type:"global_gold",value:.5},isOwned:!1,type:"planet",hazardLevel:"high"},{id:"g10",name:"Omega Point",description:"Edge of the galaxy.",x:0,y:-80,level:250,difficulty:5e6,reward:{type:"starlight",value:5},isOwned:!1,type:"star",hazardLevel:"extreme"},{id:"g11",name:"Kepler-186f",description:"Habitable zone.",x:-10,y:-30,level:15,difficulty:2e3,reward:{type:"gold",value:100},isOwned:!1,type:"planet"},{id:"g12",name:"Proxima Centauri",description:"Red Dwarf neighbor.",x:20,y:20,level:25,difficulty:8e3,reward:{type:"global_damage",value:.05},isOwned:!1,type:"star"},{id:"g13",name:"Sirius B",description:"White Dwarf.",x:-30,y:40,level:40,difficulty:3e4,reward:{type:"mithril",value:10},isOwned:!1,type:"star"},{id:"g14",name:"Pillars of Creation",description:"Star factory.",x:60,y:-60,level:100,difficulty:3e5,reward:{type:"souls",value:10},isOwned:!1,type:"nebula"},{id:"g15",name:"Titan",description:"Methane lakes.",x:-50,y:-50,level:60,difficulty:8e4,reward:{type:"gold",value:1e3},isOwned:!1,type:"planet"}],km=c=>{const f={gold:0,mithril:0,souls:0,starlight:0};return c.filter(d=>d.isOwned).forEach(d=>{d.reward.type==="gold"&&(f.gold+=d.reward.value),d.reward.type==="mithril"&&(f.mithril+=d.reward.value),d.reward.type==="souls"&&(f.souls+=d.reward.value),d.reward.type==="starlight"&&(f.starlight+=d.reward.value)}),f},Vh=c=>{const f={goldMult:0,damageMult:0,xpMult:0,miningSpeed:0};return c.filter(d=>d.isOwned).forEach(d=>{d.reward.type==="global_gold"&&(f.goldMult+=d.reward.value),d.reward.type==="global_damage"&&(f.damageMult+=d.reward.value),d.reward.type==="global_xp"&&(f.xpMult+=d.reward.value),d.reward.type==="mining_speed"&&(f.miningSpeed+=d.reward.value)}),f},Xh=[{id:"town_hall",name:"Town Hall",description:"Increases Gold Gain from all sources.",level:1,maxLevel:10,cost:1e3,costScaling:1.5,bonus:"+5% Gold / Lvl",effectValue:.05,currency:"gold",emoji:""},{id:"barracks",name:"Barracks",description:"Increases Party DPS.",level:1,maxLevel:20,cost:2500,costScaling:1.4,bonus:"+2% DPS / Lvl",effectValue:.02,currency:"gold",emoji:""},{id:"library",name:"Library",description:"Increases XP Gain for Heroes.",level:1,maxLevel:10,cost:5e3,costScaling:1.6,bonus:"+10% XP / Lvl",effectValue:.1,currency:"gold",emoji:""},{id:"warehouse",name:"Warehouse",description:"Increases offline resource gains.",level:1,maxLevel:5,cost:1e4,costScaling:2,bonus:"+1h Offline Time / Lvl",effectValue:1,currency:"gold",emoji:""},{id:"altar",name:"Altar of Souls",description:"Small chance to gain extra Souls on kill.",level:1,maxLevel:10,cost:5e4,costScaling:3,bonus:"+0.5% Soul Chance / Lvl",effectValue:.005,currency:"gold",emoji:""}],qh=[{id:"t1",name:"Golden Plains",description:"Fertile lands rich in gold.",owner:"Xang",difficulty:500,bonus:{type:"gold",value:.1},coordinates:{x:-5,y:-5}},{id:"t2",name:"Iron Peaks",description:"Mountains protecting ancient forges.",owner:"Zhauw",difficulty:1500,bonus:{type:"damage",value:.05},coordinates:{x:5,y:5}},{id:"t3",name:"Mystic Woods",description:"Forests teeming with mana.",owner:"Yang",difficulty:3e3,bonus:{type:"xp",value:.1},coordinates:{x:-5,y:5}},{id:"t4",name:"Central Keep",description:"The strategic heart of the realm.",owner:"Neutral",difficulty:1e4,bonus:{type:"damage",value:.15},coordinates:{x:0,y:0}},{id:"t5",name:"Shadow Badlands",description:"Cursed lands, hard to hold.",owner:"Neutral",difficulty:25e3,bonus:{type:"gold",value:.25},coordinates:{x:5,y:-5}}],$h=()=>{const[c,f]=z.useState(os),[d,o]=z.useState(Fn),[m,u]=z.useState([]),[h,b]=z.useState(1),[g,p]=z.useState(!1),[j,N]=z.useState([]),[y,v]=z.useState(0),[_,H]=z.useState(0),[q,M]=z.useState(0),[O,P]=z.useState(0),[ye,Ee]=z.useState(0),[ge,I]=z.useState(!1),[le,ce]=z.useState(null),[be,Me]=z.useState(Pp),[Ge,mt]=z.useState([]),[Fe,xe]=z.useState([]),[B,Z]=z.useState({}),[re,ke]=z.useState(th),[Ce,w]=z.useState(0),[L,K]=z.useState({copper:0,iron:0,mithril:0,fish:0,herbs:0,starFragments:0}),[se,pe]=z.useState(Xh),[ve,De]=z.useState([]),[Ke,Ne]=z.useState(!1),[Ie,it]=z.useState(Date.now()),[yt,Dt]=z.useState([]),[xt,Qt]=z.useState([]),[Le,tt]=z.useState(Eh),[Pe,vt]=z.useState([]),[Ft,At]=z.useState(0),[Ya,ga]=z.useState(0),[pt,ua]=z.useState(!1),[Rl,bl]=z.useState(0),[za,al]=z.useState(!1),[ds,qs]=z.useState(0),[yl,ba]=z.useState(0),[Je,na]=z.useState({}),[Gt,$s]=z.useState(!1),[Ul,us]=z.useState("default"),[ia,ll]=z.useState("none"),[sl,ya]=z.useState(!1),[va,nl]=z.useState({explorerLevel:0,slayerLevel:0,looterLevel:0,trapSenseLevel:0}),Ll=C=>{const T=va[C],k=Math.floor(10*Math.pow(1.5,T));(L.dungeonTokens||0)>=k?(K(A=>({...A,dungeonTokens:(A.dungeonTokens||0)-k})),nl(A=>({...A,[C]:A[C]+1})),te(`Upgraded ${C} to Level ${T+1}!`,"action"),Se.playLevelUp()):te(`Not enough Dungeon Tokens! Need ${k}.`,"error")},[ne,vl]=z.useState([]),fa=z.useRef(0),Tt=z.useRef(Date.now()),te=(C,T="info")=>{const k={id:(Date.now()+Math.random()).toString(),message:C,type:T,timestamp:Date.now()};u(A=>[k,...A].slice(0,20))},at=dh(null,_,H,te),rt=ch(Ip,_,y,H,v,te),ue=xh({floor:1,active:!1,maxFloor:1},{active:!1,floor:1,blessings:[],tempHeroes:[],maxFloor:1},te),We=uh(Gh,qh,{name:"Stellar Voyager",level:1,fuel:100,maxFuel:100,hull:100,maxHull:100,parts:{engine:1,scanners:1,miningLaser:1,shields:1},upgrades:[]},_,H,te),[jt,ja]=z.useState(1e3),[ra,bt]=z.useState(0),[Jt,Ea]=z.useState(0),[Ha,Ys]=z.useState(0),[fs,Bl]=z.useState([]),[_t,Pt]=z.useState(eh),[Qa,il]=z.useState(Wp),[rl,Na]=z.useState([{id:"q1",description:"Slay 50 Monsters",target:50,progress:0,reward:{type:"gold",amount:500},isCompleted:!1,isClaimed:!1},{id:"q2",description:"Collect 100 Souls",target:100,progress:0,reward:{type:"souls",amount:50},isCompleted:!1,isClaimed:!1},{id:"q3",description:"Enter the Tower",target:1,progress:0,reward:{type:"voidMatter",amount:1},isCompleted:!1,isClaimed:!1}]),[Nt,jl]=z.useState([]),Nl=oh(Ha,_t,te,v,H);z.useEffect(()=>{const C=setInterval(()=>{We.galaxyRewards&&We.galaxyRewards.gold>0&&H(T=>T+We.galaxyRewards.gold)},1e4);return()=>clearInterval(C)},[We.galaxyRewards]),z.useEffect(()=>{if(Array.isArray(Je)){const C={};Je.forEach(T=>C[T]=1),na(C)}},[Je]),z.useEffect(()=>{if(fs.length===0&&Ha>0){const C=Array(3).fill(null).map((T,k)=>{const A=1+(1e3-jt)/2e3,$=(.8+k*.2)*A;return{id:`opp-${Date.now()}-${k}`,name:`Bot Player ${Math.floor(Math.random()*1e3)}`,power:Math.floor(Ha*$),rank:Math.max(1,jt+(k-1)*25),avatar:["","","","",""][Math.floor(Math.random()*5)]}});Bl(C)}},[fs.length,jt,Ha]),z.useEffect(()=>{const C=setInterval(()=>{const T=Date.now(),k=(T-Tt.current)/1e3;k>=1&&(Ea(Math.round(fa.current/k)),fa.current=0,Tt.current=T)},1e3);return()=>clearInterval(C)},[]),z.useEffect(()=>{const C=setInterval(()=>{ue.setWeatherTimer(T=>{if(T<=1){const k=gh();ue.setWeather(k);const A=Wn[k];return k!=="Clear"&&te(`Weather changed to ${A.name}! ${A.description}`,"info"),300}return T-1})},1e3);return()=>clearInterval(C)},[ue]);const ma=c.filter(C=>C.assignment==="combat"&&!C.isDead&&C.unlocked),ol=at.guild?1+(at.guild.monuments?.statue_midas||0)*.05:1,ms=at.guild?1+(at.guild.monuments?.shrine_wisdom||0)*.03:1,Qs=at.guild?1+(at.guild.monuments?.altar_war||0)*.02:1,wl=at.guild?1+(at.guild.monuments?.fountain_life||0)*.02:1,li=ma.map(C=>({...C,stats:{...C.stats,attack:Math.floor(C.stats.attack*Qs),maxHp:Math.floor(C.stats.maxHp*wl),hp:Math.floor(C.stats.hp*wl)}})),Oa=vm(li),xs=C=>{const T=Ha+C.power,k=T>0?Ha/T:.5;if(Math.random()<k){const A=Math.floor(10+C.rank/jt*20);ja($=>Math.max(1,$-A)),bt($=>$+10),te(`VICTORY! Defeated ${C.name}. Rank improved by ${A}.`,"achievement"),Se.playLevelUp()}else ja($=>Math.min(9999,$+5)),te(`DEFEAT! Crushed by ${C.name}. Rank dropped by 5.`,"death");Bl([])},oa=C=>{const T=se.find(k=>k.id===C);return T?(T.level-1)*T.effectValue:0},pa={upgradeBuilding:C=>{const T=se.find(k=>k.id===C);!T||_<T.cost||(H(k=>k-T.cost),pe(k=>k.map(A=>A.id===C?{...A,level:A.level+1,cost:Math.floor(A.cost*A.costScaling)}:A)),te(`Upgraded ${T.name} to Level ${T.level+1}!`,"craft"),Se.playLevelUp())},fightArena:xs,socketRune:(C,T)=>{const k=j.find($=>$.id===C),A=Nt.find($=>$.id===T);!k||!A||(k.runes?.length||0)>=k.sockets||(jl($=>$.filter(ae=>ae.id!==T)),te(`Socketed ${A.name} into ${k.name}`,"craft"),Se.playLevelUp())},handleDungeonEvent:C=>{if(C.type==="chest"){const T=Math.floor(100*C.level*(1+(at.guild?.bonusValue||0)));if(H(A=>A+T),te(`Chest contained ${T} Gold!`,"success"),Math.random()<.4){const A=md(C.level);N($=>[...$,A]),te(`Found item: ${A.name}`,"loot")}const k=.15+va.looterLevel*.05;if(Math.random()<k){const A=["fire","water","nature","earth","air","light","dark"],$=A[Math.floor(Math.random()*A.length)];ue.addDungeonKey($)}}else if(C.type==="enemy"){const T=C.mob?.name||"Enemy",k=c.filter(A=>A.assignment==="combat"&&!A.isDead);if(k.length>0){const A=k[Math.floor(Math.random()*k.length)],$=C.mob?C.mob.damage:Math.floor(A.stats.maxHp*.2),ae=Math.floor(Math.max(1,$-A.stats.defense*.2));f(Be=>Be.map(Ve=>Ve.id===A.id?{...Ve,stats:{...Ve.stats,hp:Math.max(0,Ve.stats.hp-ae)}}:Ve)),te(`${A.name} took ${ae} damage from ${T}!`,"battle");const he=(C.mob?C.mob.xp:C.level*20)*(1+va.slayerLevel*.1);f(Be=>Be.map(Ve=>Ve.assignment==="combat"&&!Ve.isDead?{...Ve,xp:Ve.xp+he}:Ve))}}else if(C.type==="boss"){const T=5+C.level*2;K(A=>({...A,dungeonTokens:(A.dungeonTokens||0)+T})),te(`Boss Defeated! Earned ${T} Dungeon Tokens.`,"achievement"),te(` Fighting Dungeon Boss: ${C.mob?.name||"Unknown Horror"}!`,"battle");const k=c.filter(A=>A.assignment==="combat"&&!A.isDead);if(k.length>0){const A=C.mob?.damage||C.level*50;k.forEach(he=>{const Be=Math.floor(Math.max(1,A-he.stats.defense*.5));f(Ve=>Ve.map(zt=>zt.id===he.id?{...zt,stats:{...zt.stats,hp:Math.max(0,zt.stats.hp-Be)}}:zt))}),te("Party took massive damage from Boss!","danger");const $=C.mob?.xp||C.level*500;f(he=>he.map(Be=>Be.assignment==="combat"&&!Be.isDead?{...Be,xp:Be.xp+$}:Be));const ae=md(C.level+5);N(he=>[...he,ae]),te(`Boss Defeated! Found ${ae.name}`,"loot"),H(he=>he+C.level*1e3)}else te("No heroes to fight the Boss! Fleed in terror.","danger")}},completeCardBattle:C=>{C.winner==="player"&&C.reward?(C.reward.type==="starlight"&&(ba(T=>T+C.reward.amount),te(`Duel Victory! Won ${C.reward.amount} Starlight.`,"achievement")),Se.playLevelUp()):te("Duel Lost. Try improving your deck!","death")},forgeUpgrade:C=>{let k={copper:100,iron:50,mithril:10}[C];const A=Je.stellar_forge||0;let $=Math.min(.9,A*.1+oa("b_forge"));if(k=Math.max(1,Math.floor(k*(1-$))),L[C]<k){te(`Not enough ${C}. Cost: ${k}`,"info");return}K(he=>({...he,[C]:he[C]-k}));const ae=C==="copper"?{hp:10,attack:1,defense:1,magic:0,speed:0}:C==="iron"?{hp:25,attack:2,defense:2,magic:1,speed:0}:{hp:50,attack:5,defense:5,magic:3,speed:1};f(he=>he.map(Be=>({...Be,stats:{...Be.stats,hp:Be.stats.hp+ae.hp,maxHp:Be.stats.maxHp+ae.hp,attack:Be.stats.attack+ae.attack,defense:Be.stats.defense+ae.defense,magic:Be.stats.magic+ae.magic,speed:Be.stats.speed+ae.speed}}))),te(`Forged ${C} Gear! All Heroes Upgraded.`,"craft"),Se.playLevelUp()},summonTavernLine:(C=1)=>{const T=se.find($=>$.id==="b_tavern")?.level||1,k=Ch(C,_,_t.tavernPurchases||0,c,Ge,rt.pets,T);if(!k.success){k.logs.forEach($=>te($,"info"));return}const A=Math.floor(k.cost*(1-oa("b_tavern")));H($=>$-A),Pt($=>({...$,tavernPurchases:($.tavernPurchases||0)+C})),f($=>[...$.map(he=>k.unlockedHeroIds.includes(he.id)?{...he,unlocked:!0}:k.statBoosts>0&&he.unlocked&&he.class!=="Miner"?{...he,stats:{...he.stats,hp:he.stats.hp+10*k.statBoosts,attack:he.stats.attack+2*k.statBoosts}}:k.minerBoosts>0&&he.class==="Miner"?{...he,stats:{...he.stats,hp:he.stats.hp+10*k.minerBoosts,attack:he.stats.attack+2*k.minerBoosts}}:he),...k.newHeroes]),k.newArtifacts.length>0&&mt($=>[...$,...k.newArtifacts]),rt.setPets($=>{let ae=[...$];return Object.entries(k.petXpBoosts).forEach(([he,Be])=>{const Ve=ae.find(zt=>zt.id===he);if(Ve)for(Ve.xp+=Be;Ve.xp>=Ve.maxXp;)Ve.xp-=Ve.maxXp,Ve.level++,Ve.maxXp=Math.floor(Ve.maxXp*1.5),Ve.stats.attack+=5}),[...ae,...k.pendingPets]}),k.logs.forEach($=>te($,"achievement")),Se.playLevelUp()},triggerRebirth:()=>{const C=Math.floor(d.level/5*(1+oa("b_temple")));C<=0||(v(T=>T+C),f(T=>os.map(k=>({...k,unlocked:T.find(A=>A.id===k.id)?.unlocked||!1}))),o(Fn),N([]),H(0),ue.setDungeonActive(!1),ua(!1),te(`REBIRTH! + ${C} Souls.`,"death"),Se.playLevelUp())},buyTalent:C=>{Me(T=>T.map(k=>k.id===C&&y>=k.cost?(v(A=>A-k.cost),te(`Purchased Talent: ${k.name}`,"achievement"),{...k,level:k.level+1,cost:Math.floor(k.cost*k.costScaling)}):k))},manualFish:()=>{const C=gd(1);C>0&&(K(T=>({...T,fish:(T.fish||0)+C})),te(`Manual Fishing: Caught ${C} Fish!`,"action"))},brewPotion:C=>{const T=Um.find(A=>A.id===C);if(!T)return;const k=Ah(T,L);k.success?(K(A=>{const $={...A};return T.cost.forEach(ae=>{$[ae.type]=($[ae.type]||0)-ae.amount}),$}),Qt(A=>[...A,{id:T.id,name:T.name,effect:T.effect,value:T.value,endTime:Date.now()+T.duration*1e3}]),te(`Brewed ${T.name}!`,"craft")):te(k.error||"Failed to brew potion","info")},startExpedition:C=>{const T=Th(C,c);f(T),Dt(k=>[...k,C]),te(`Started Expedition: ${C.name}`,"action")},claimQuest:C=>{Na(T=>T.map(k=>k.id===C&&k.progress>=k.target&&!k.isClaimed?(k.reward.type==="gold"&&H(A=>A+k.reward.amount),k.reward.type==="souls"&&v(A=>A+k.reward.amount),k.reward.type==="voidMatter"&&P(A=>A+k.reward.amount),te(`Claimed Quest: ${k.description}`,"achievement"),{...k,isClaimed:!0}):k))},closeOfflineModal:()=>ce(null),setAutoSellRarity:ll,setGameSpeed:b,toggleSound:()=>{p(C=>{const T=!C;return Se.toggle(T),T})},resetSave:()=>{localStorage.clear(),window.location.reload()},exportSave:()=>btoa(localStorage.getItem("rpg_eternal_save_v6")||""),importSave:C=>{try{JSON.parse(atob(C)),localStorage.setItem("rpg_eternal_save_v6",atob(C)),window.location.reload()}catch{alert("Invalid Save")}}};z.useEffect(()=>{const C=c.filter(Ae=>Ae.unlocked&&Ae.assignment==="combat");if(C.every(Ae=>Ae.isDead))return;pt&&(Rl<=0?(ua(!1),o(Fn),te("Raid Failed!","damage")):bl(Ae=>Ae-1*h/10)),(Je.auto_rebirth||0)>0&&d.level>=105&&pa.triggerRebirth(),wh(_,Je)&&pa.summonTavernLine();const T=Sh(Je,y,be);T&&pa.buyTalent(T),Mh(Je,c)&&f(Ae=>Ae.map(_e=>_e.isDead?{..._e,isDead:!1,stats:{..._e.stats,hp:_e.stats.maxHp}}:_e));const k=kh(Je,ue.tower);k&&ue.setTower(k);const A=Nh(Je,rl);A&&pa.claimQuest(A),ue.tower.active&&C.length>0&&C.every(Ae=>Ae.isDead)&&(ue.setTower(Ae=>({...Ae,active:!1})),o(Fn),te(`DEFEAT! Tower Floor ${ue.tower.floor} failed.`,"death"));const $=Oa;(Je.auto_pet_xp||0)>0&&rt.setPets(Ae=>Ae.map(_e=>_e.xp+1>=_e.maxXp?{..._e,xp:_e.xp+1}:{..._e,xp:_e.xp+1})),f(Ae=>Ae.map(_e=>{if(_e.isDead||!_e.unlocked)return _e;let ca=_e.fatigue||0;const Dl=_e.maxFatigue||100;return _e.assignment==="combat"?ca=Math.min(Dl,ca+.1):_e.assignment==="campfire"&&(ca=Math.max(0,ca-5)),ca!==_e.fatigue?{..._e,fatigue:ca}:_e}));const ae=$.filter(Ae=>Ae.type==="defense"||Ae.type==="mitigation").reduce((Ae,_e)=>Ae+_e.value,0),he=$.filter(Ae=>Ae.type==="attackSpeed"||Ae.type==="freeze").reduce((Ae,_e)=>Ae+(_e.type==="freeze"?.1:_e.value),0),Be=$.filter(Ae=>Ae.type==="resources").reduce((Ae,_e)=>Ae+_e.value,0),Ve=be.find(Ae=>Ae.stat==="speed"),zt=(Ve?1-Ve.level*Ve.valuePerLevel:1)*(1-he),Vl=1e3/h,ea=Math.max(40,Vl*zt),Js=setTimeout(()=>{const Ae=rt.pets.reduce((W,ie)=>W+(ie.bonus.includes("Gold")?.1:0),0),_e=rt.pets.reduce((W,ie)=>W+(ie.bonus.includes("Defense")?.2:0),0),ca=xt.filter(W=>W.effect==="xp").reduce((W,ie)=>W+ie.value,0),Dl=xt.filter(W=>W.effect==="attack").reduce((W,ie)=>W+ie.value,0),Al=Vh(We.galaxy),gs=1+Fe.filter(W=>W.stat==="gold").reduce((W,ie)=>W+ie.count*ie.value,0)+Be+Ae+Al.goldMult,Xl=1+Fe.filter(W=>W.stat==="xp").reduce((W,ie)=>W+ie.count*ie.value,0)+Be+ca+Al.xpMult;Date.now()%3e4<1e3&&km(We.galaxy);const gn=yh(y,q,be,re,Ge,d,Fe,Qa,rt.pets)+Dl+Al.damageMult,Kt=1+Fe.filter(W=>W.stat==="defense").reduce((W,ie)=>W+ie.count*ie.value,0)+ae+_e,wa=Date.now(),ql=c.filter(W=>W.unlocked&&W.assignment==="mine"),Ka=Dh(ql);if(wa%1e3<100&&tt(W=>Hh(W,wa)),Ka&&K(W=>({...W,copper:W.copper+(Ka.copper||0),iron:W.iron+(Ka.iron||0),mithril:W.mithril+(Ka.mithril||0)})),Ft>0?At(W=>Math.max(0,W-1e3)):Math.random()<.001&&(vt(Lh()),At(3e5)),Math.random()<.05){const W=gd(1);W>0&&K(ie=>({...ie,fish:(ie.fish||0)+W}))}if(yt.length>0){const W=yt.filter(ie=>_h(ie));if(W.length>0){let ie=0,Te=0,ze=[];W.forEach(Y=>{zh(Y).forEach(et=>{et.type==="gold"&&(ie+=et.amount),et.type==="xp"&&(Te+=et.amount),et.type==="item"&&ze.push(`${et.amount} Items`),et.type==="artifact"&&ze.push("Artifact found!")}),te(`Expedition '${Y.name}' Complete!`,"achievement")}),ie>0&&H(Y=>Y+ie),f(Y=>Y.map(de=>W.some(et=>et.heroIds.includes(de.id))?{...de,assignment:"combat",xp:de.xp+100}:de)),Dt(Y=>Y.filter(de=>!W.find(et=>et.id===de.id))),Se.playLevelUp()}}if(xt.length>0){const W=xt.filter(ie=>ie.endTime<=wa);W.length>0&&(W.forEach(ie=>te(`${ie.name} wore off.`,"info")),Qt(ie=>ie.filter(Te=>Te.endTime>wa)))}const Sa=km(We.galaxy);Sa.gold>0&&H(W=>W+Sa.gold),Sa.souls>0&&v(W=>W+Sa.souls),Sa.starlight>0&&ba(W=>W+Sa.starlight),Sa.mithril>0&&K(W=>({...W,mithril:W.mithril+Sa.mithril}));const ul=ea/1e3;ue.dungeonActive&&ue.setDungeonTimer(W=>{if(W<=0)return ue.setDungeonActive(!1),0;const ie=W-ul;return ie<=0?(ue.setDungeonActive(!1),0):ie}),za&&qs(W=>{if(W<=0)return al(!1),0;const ie=W-ul;return ie<=0?(al(!1),0):ie}),pt&&bl(W=>{if(W<=0)return ua(!1),0;const ie=W-ul;return ie<=0?(ua(!1),0):ie});const Tl=be.find(W=>W.stat==="crit"),$l=Tl?Tl.level*Tl.valuePerLevel:0;let Yl=!1;Ya>=100?(Yl=!0,ga(0),te("ULTIMATE BLAST!","damage"),Se.playLevelUp()):ga(W=>Math.min(100,W+5*C.length/6*h));let Ws=C,bs;ue.tower.active&&(bs=hd(),Ws=c.filter(ie=>ie.assignment==="combat"&&!ie.isDead).map(ie=>{let Te={...ie};bs?.id==="glass_cannon"&&(Te.stats={...Te.stats,attack:Te.stats.attack*3,maxHp:Math.floor(Te.stats.maxHp*.5),hp:Math.min(Te.stats.hp,Math.floor(Te.stats.maxHp*.5))}),bs?.id==="iron_wall"&&(Te.stats={...Te.stats,defense:Te.stats.defense*2,speed:Math.floor(Te.stats.speed*.5)}),at.guild&&(Te.stats.attack=Math.floor(Te.stats.attack*Qs),Te.stats.maxHp=Math.floor(Te.stats.maxHp*wl));const ze=ie.fatigue||0;let Y=1;return ze>=100?Y=.5:ze>=80?Y=.7:ze>=50&&(Y=.9),Y<1&&(Te.stats={...Te.stats,attack:Math.floor(Te.stats.attack*Y),defense:Math.floor(Te.stats.defense*Y),speed:Math.floor(Te.stats.speed*Y),magic:Math.floor(Te.stats.magic*Y)}),Te}));const{updatedHeroes:bn,totalDmg:wt,crits:Ct,events:Et}=vh(Ws,d,gn,$l,Yl,rt.pets,ea,Kt,Oa,ue.activeRift?.restriction,bs);fa.current+=wt;const ii=[...Et||[]];if(wt>0&&ii.push({id:Math.random().toString(36),type:"damage",text:Ct>0?`CRIT! ${Math.floor(wt)}`:`${Math.floor(wt)}`,value:wt,isCrit:Ct>0,x:50+(Math.random()*20-10),y:40+(Math.random()*20-10)}),ii.length>0&&vl(W=>[...W.slice(-10),...ii]),C.some(W=>W.class==="Healer")){const W=bn.filter(ie=>!ie.isDead&&ie.assignment==="combat").sort((ie,Te)=>ie.stats.hp-Te.stats.hp)[0];W&&(W.stats.hp=Math.min(W.stats.maxHp,W.stats.hp+W.stats.maxHp*.05))}let fl=bn,Pi=Math.max(0,d.stats.hp-wt);if(wt>0&&Math.random()>.8&&Se.playHit(),Pi===0){const W=Math.max(10,d.level*50),ie=Math.floor(W*gs);H(Y=>Y+ie),Pt(Y=>({...Y,totalGoldEarned:Y.totalGoldEarned+ie}));const Te=Math.max(10,Math.floor(d.level*10*Xl*ms));fl=fl.map(Y=>{if(!Y.isDead&&Y.assignment==="combat"&&Y.unlocked){let de=(Y.xp||0)+Te;for(;de>=(Y.maxXp||100);){de-=Y.maxXp||100,Y.level=(Y.level||1)+1,Y.maxXp=Math.floor((Y.maxXp||100)*1.5);let Oe={hp:10,mp:5,attack:1,defense:1,magic:1,speed:0};switch(Y.class){case"Warrior":Oe={hp:20,mp:2,attack:2,defense:2,magic:0,speed:1};break;case"Mage":Oe={hp:8,mp:15,attack:1,defense:1,magic:3,speed:1};break;case"Healer":Oe={hp:12,mp:10,attack:1,defense:1,magic:2,speed:1};break;case"Rogue":Oe={hp:15,mp:5,attack:3,defense:1,magic:0,speed:2};break;case"Paladin":Oe={hp:25,mp:5,attack:1,defense:3,magic:1,speed:0};break;case"Warlock":Oe={hp:10,mp:20,attack:1,defense:1,magic:3,speed:1};break;case"Dragoon":Oe={hp:18,mp:5,attack:2,defense:2,magic:1,speed:2};break;case"Sage":Oe={hp:10,mp:20,attack:0,defense:1,magic:3,speed:1};break;case"Necromancer":Oe={hp:15,mp:15,attack:1,defense:1,magic:2,speed:1};break}Y.stats.maxHp+=Oe.hp,Y.stats.hp+=Oe.hp,Y.stats.maxMp+=Oe.mp,Y.stats.mp+=Oe.mp,Y.stats.attack+=Oe.attack,Y.stats.defense+=Oe.defense,Y.stats.magic+=Oe.magic,Y.stats.speed+=Oe.speed,(Bh[Y.class]||[]).forEach(Vt=>{if(Y.level>=Vt.unlockLevel&&(Y.skills||(Y.skills=[]),!Y.skills.find(Ht=>Ht.id===Vt.id))){let Ht={...Vt};Y.skills.push(Ht),te(`${Y.name} learned ${Ht.name} !`,"achievement"),Ht.type==="passive"&&Ht.statBonus&&(Ht.statBonus.hp&&(Y.stats.maxHp+=Ht.statBonus.hp,Y.stats.hp+=Ht.statBonus.hp),Ht.statBonus.mp&&(Y.stats.maxMp+=Ht.statBonus.mp,Y.stats.mp+=Ht.statBonus.mp),Ht.statBonus.attack&&(Y.stats.attack+=Ht.statBonus.attack),Ht.statBonus.defense&&(Y.stats.defense+=Ht.statBonus.defense),Ht.statBonus.magic&&(Y.stats.magic+=Ht.statBonus.magic),Ht.statBonus.speed&&(Y.stats.speed+=Ht.statBonus.speed))}}),te(`${Y.name} reached Lvl ${Y.level} !(Auto - Upgraded)`,"achievement"),Se.playLevelUp()}const et=Math.floor(Te*.1);return et>0&&["weapon","armor","accessory"].forEach(Oe=>{const ht=Y.equipment[Oe];ht&&(ht.xp=(ht.xp||0)+et,ht.maxXp=ht.maxXp||100,ht.level=ht.level||1,ht.xp>=ht.maxXp&&(ht.xp-=ht.maxXp,ht.level++,ht.maxXp=Math.floor(ht.maxXp*1.5),ht.value=Math.floor(ht.value*1.1)+1,te(`${ht.name} evolved to Level ${ht.level}!`,"craft"),Se.playLevelUp()))}),{...Y,xp:de}}return Y});const ze=md(d.level);if((Je.auto_equip||0)>0?ia==="common"&&ze.rarity==="common"||ia==="rare"&&(ze.rarity==="common"||ze.rarity==="rare")||d.level<10?(H(de=>de+Math.floor(ze.value*ol/2)),te(`Auto - Scrapped ${ze.name} (${ze.rarity}) for ${Math.floor(ze.value*ol/2)} Gold`,"info")):(N(de=>[...de,ze]),te(`Auto - Looted: ${ze.name} `,"info")):N(Y=>[...Y,ze]),Na(Y=>Y.map(de=>!de.isCompleted&&de.description.includes("Slay")?{...de,progress:Math.min(de.target,de.progress+1),isCompleted:de.progress+1>=de.target}:!de.isCompleted&&de.description.includes("Souls")&&y>de.target?{...de,progress:de.target,isCompleted:!0}:de)),rt.setPets(Y=>Y.map(de=>{const et=1+Math.floor(d.level/10),Oe=de.xp+et;return Oe>=de.maxXp?(Se.playLevelUp(),te(`${de.name} Level Up!`,"heal"),{...de,level:de.level+1,xp:0,maxXp:Math.floor(de.maxXp*1.5),stats:{...de.stats,attack:de.stats.attack+2}}):{...de,xp:Oe}})),at.setGuild(Y=>{if(!Y)return null;const de=Math.max(1,Math.floor(d.level/2)),et=Y.xp+de;if(et>=Y.maxXp){te(`${Y.name} Guild Level Up!`,"achievement"),Se.playLevelUp();const Oe=(Y.bonusValue||.1)+.01,ht=(Y.bonus||Y.description||"").replace(/\d+%/,`${Math.round(Oe*100)}%`);return{...Y,level:Y.level+1,xp:0,maxXp:Math.floor(Y.maxXp*1.2),bonusValue:Oe,bonus:ht}}return{...Y,xp:et}}),d.emoji!==""&&d.name!=="Raid Boss"&&d.name!=="Void Entity"){if(Math.random()<.05){const Y=Vs.find(de=>de.name===d.name);Y&&(xe(de=>{if(de.find(Vt=>Vt.monsterName===d.name))return de.map(Vt=>Vt.monsterName===d.name?{...Vt,count:Vt.count+1}:Vt);const Oe=["attack","defense","gold","xp","speed"],ht=Oe[Math.floor(Math.random()*Oe.length)];return[...de,{id:Y.emoji,monsterName:Y.name,count:1,stat:ht,value:.01}]}),te(`Found ${d.name} Card!`,"achievement"))}Math.random()<.15&&(K(Y=>({...Y,herbs:Y.herbs+Math.floor(Math.random()*5)+1})),te("Found Herbs!","achievement"))}if(Z(Y=>({...Y,[d.name]:(Y[d.name]||0)+1})),Pt(Y=>({...Y,totalKills:Y.totalKills+1,bossKills:d.name.includes("Boss")?Y.bossKills+1:Y.bossKills})),Na(Y=>Y.map(de=>!de.isCompleted&&de.description.includes("Kill")&&!de.description.includes("Boss")?{...de,progress:Math.min(de.target,de.progress+1),isCompleted:de.progress+1>=de.target}:de)),pt)te("WORLD EATER DEFEATED!","death"),H(Y=>Y+5e4),M(Y=>Y+1),ua(!1),o(Fn);else if(za)te("VOID ENTITY VANQUISHED!","death"),P(Y=>Y+1),al(!1),o(Fn);else if(ue.dungeonActive)o({...d,stats:{...d.stats,hp:d.stats.maxHp,maxHp:d.stats.maxHp+50}});else{const Y=Vs[Math.floor(Math.random()*Vs.length)],de=d.level;let et="neutral";de>40?et="fire":de>20?et="water":de%3===1&&(et="nature"),o(Oe=>({...Oe,level:Oe.level+1,name:Y.name,emoji:Y.emoji,element:et,stats:{...Oe.stats,maxHp:Math.floor(Oe.stats.maxHp*1.2),hp:Math.floor(Oe.stats.maxHp*1.2)}}))}fl=fl.map(Y=>({...Y,isDead:!1,stats:{...Y.stats,hp:Y.stats.maxHp}})),Se.playLevelUp(),ue.tower.active&&(te(`Floor ${ue.tower.floor} Cleared!`,"death"),ue.setTower(Y=>({...Y,floor:Y.floor+1,maxFloor:Math.max(Y.maxFloor,Y.floor+1)}))),d.id==="void_core"&&(I(!0),te("VOID CORE DESTROYED! THE UNIVERSE IS SAVED!","achievement"))}else o(W=>({...W,stats:{...W.stats,hp:Pi}}));let er=0;if(fl.forEach(W=>{W.assignment==="combat"&&!W.isDead&&(er+=ym(W))}),Ys(er),Pt(W=>({...W,playTime:W.playTime+ea/1e3})),il(W=>W.map(ie=>{if(ie.isUnlocked)return ie;let Te=0;return ie.condition.type==="kills"&&(Te=_t.totalKills),ie.condition.type==="bossKills"&&(Te=_t.bossKills),ie.condition.type==="gold"&&(Te=_t.totalGoldEarned),ie.condition.type==="clicks"&&(Te=_t.clicks),ie.condition.type==="itemsForged"&&(Te=_t.itemsForged),ie.condition.type==="oreMined"&&(Te=_t.oreMined),ie.condition.type==="fishCaught"&&(Te=_t.fishCaught),Te>=ie.condition.value?(te(`Suggestion Unlocked: ${ie.name} ! ${ie.rewardText} `,"achievement"),te(`ACHIEVEMENT UNLOCKED: ${ie.name}`,"achievement"),Se.playLevelUp(),{...ie,isUnlocked:!0}):ie})),Date.now()%1e3<100){const W=c.filter(ze=>ze.class==="Miner"&&ze.level>=3&&!ze.isDead&&ze.unlocked);if(W.length>0){const ze=W.length*2,Y=W.filter(de=>de.level>=10).length;K(de=>({...de,copper:de.copper+ze,iron:de.iron+Y})),Pt(de=>({...de,oreMined:de.oreMined+ze+Y}))}const ie=c.filter(ze=>ze.class==="Fisherman"&&ze.level>=3&&!ze.isDead&&ze.unlocked);ie.length>0&&rt.pets.length>0&&(K(ze=>{const Y=ie.length;let de=ze.fish+Y;if(de>0){const et=rt.pets.length,Oe=Math.min(de,et);rt.setPets(ht=>ht.map(Vt=>{const yn=Vt.xp+5*Math.max(1,Math.floor(ie.length/2));return yn>=Vt.maxXp?{...Vt,level:Vt.level+1,xp:yn-Vt.maxXp,maxXp:Math.floor(Vt.maxXp*1.5)}:{...Vt,xp:yn}})),de-=Oe}return{...ze,fish:de}}),Pt(ze=>({...ze,fishCaught:ze.fishCaught+ie.length}))),c.filter(ze=>ze.class==="Blacksmith"&&ze.level>=3&&!ze.isDead&&ze.unlocked).forEach(ze=>{if(Math.random()<.05){const Y=Math.random(),de=Y>.95?"epic":Y>.8?"rare":"common",et={id:`auto_forged_${Date.now()}_${Math.random()}`,name:`Forged ${de} Sword`,type:"weapon",rarity:de,stat:"attack",value:ze.level*2,runes:[],sockets:0};N(Oe=>[...Oe.slice(-99),et]),Pt(Oe=>({...Oe,itemsForged:Oe.itemsForged+1})),te(`Blacksmith ${ze.name} forged a ${et.name}!`,"craft")}})}fl=fl.map(W=>{let ie=W.fatigue||0;const Te=W.maxFatigue||100;return W.assignment==="combat"&&!W.isDead?(ie=Math.min(Te,ie+1),ie===50&&te(`${W.name} is getting tired (50% Fatigue)!`,"info"),ie===80&&te(`${W.name} is exhausted (80% Fatigue)!`,"danger")):W.assignment==="campfire"&&(ie=Math.max(0,ie-5)),{...W,fatigue:ie,maxFatigue:Te}});const fo=fl.filter(W=>W.unlocked&&W.assignment==="combat").reduce((W,ie)=>W+ym(ie,q),0);Ys(fo),f(fl)},ea/(1+Fe.filter(Ae=>Ae.stat==="speed").reduce((Ae,_e)=>Ae+_e.count*_e.value,0)));return()=>clearTimeout(Js)},[c,d,h,y,_,q,rt.pets,be,Ge,Fe,re,Ce,ue.dungeonActive,pt,L,ue.tower,at.guild,We.galaxy]);const si=C=>{const T=Bm.find($=>$.id===C);if(!T)return;const k=Je[C]||0;if(k>=T.maxLevel)return;const A=Gm(T,k);yl>=A&&(ba($=>$-A),na($=>({...$,[C]:k+1})),te(`Purchased Starlight Upgrade: ${T.name}`,"craft"),Se.playLevelUp())},Sl=(C,T)=>{const k=T*10;H(A=>A+k),Pt(A=>({...A,cardBattlesWon:(A.cardBattlesWon||0)+1})),te(`Won Duel! +${k} Gold`,"achievement")};sh({heroes:c,setHeroes:f,boss:d,setBoss:o,items:j,setItems:N,souls:y,setSouls:v,gold:_,setGold:H,divinity:q,setDivinity:M,pets:rt.pets,setPets:rt.setPets,talents:be,setTalents:Me,artifacts:Ge,setArtifacts:mt,cards:Fe,setCards:xe,constellations:re,setConstellations:ke,keys:Ce,setKeys:w,resources:L,setResources:K,tower:ue.tower,setTower:ue.setTower,guild:at.guild,setGuild:at.setGuild,voidMatter:O,setVoidMatter:P,arenaRank:jt,setArenaRank:ja,glory:ra,setGlory:bt,quests:rl,setQuests:Na,runes:Nt,setRunes:jl,achievements:Qa,setAchievements:il,starlight:yl,setStarlight:ba,starlightUpgrades:Je,setStarlightUpgrades:na,autoSellRarity:ia,setAutoSellRarity:ll,theme:Ul,setTheme:us,galaxy:We.galaxy,setGalaxy:We.setGalaxy,monsterKills:B,setMonsterKills:Z,gameStats:_t,setGameStats:Pt,activeExpeditions:yt,setActiveExpeditions:Dt,activePotions:xt,setActivePotions:Qt,buildings:se,setBuildings:pe,dailyQuests:ve,setDailyQuests:De,dailyLoginClaimed:Ke,setDailyLoginClaimed:Ne,lastDailyReset:Ie,setLastDailyReset:it,territories:We.territories,setTerritories:We.setTerritories,spaceship:We.spaceship,setSpaceship:We.setSpaceship,weather:ue.weather,setWeather:ue.setWeather,formations:ue.formations,setFormations:ue.setFormations,arenaOpponents:fs,setArenaOpponents:Bl,setRaidActive:ua,setDungeonActive:ue.setDungeonActive,setOfflineGains:ce});const pn=()=>{const C=Date.now();dm(Ie)&&(it(C),Ne(!1),De(um()),te("New Day! Daily Quests Reset.","info"))},cl=()=>{if(Ke)return;const C=_t.loginStreak||1,T=Zi.find(k=>k.day===C)||Zi[0];T.type==="gold"&&H(k=>k+T.amount),T.type==="souls"&&v(k=>k+T.amount),Ne(!0),te(`Claimed Daily Reward: ${T.label}`,"achievement")},ni=C=>{De(T=>T.map(k=>k.id===C&&!k.claimed&&k.current>=k.target?(k.reward.type==="gold"&&H(A=>A+k.reward.amount),k.reward.type==="souls"&&v(A=>A+k.reward.amount),{...k,claimed:!0}):k))},Wt=C=>{if(C.currency==="gold"&&_>=C.cost)H(T=>T-C.cost);else if(C.currency==="divinity"&&q>=C.cost)M(T=>T-C.cost);else return;vt(T=>T.filter(k=>k.id!==C.id)),te(`Bought ${C.name}`,"action")},Ks=C=>{const T=c.find(A=>A.id===C);if(!T||T.level<50)return;const k=Sm[T.class];k&&(f(A=>A.map($=>{if($.id===C){const ae=Mm.statBonus;return{...$,class:k,level:1,xp:0,stats:{...$.stats,hp:Math.floor($.stats.hp*ae),maxHp:Math.floor($.stats.maxHp*ae),mp:Math.floor($.stats.mp*ae),maxMp:Math.floor($.stats.maxMp*ae),attack:Math.floor($.stats.attack*ae),defense:Math.floor($.stats.defense*ae),magic:Math.floor($.stats.magic*ae),speed:Math.floor($.stats.speed*ae)},emoji:""+$.emoji}}return $})),te(`${T.name} evolved into ${k}!`,"achievement"),Se.playLevelUp())},Ml=(C,T)=>{f(k=>k.map(A=>A.id===C?{...A,name:T}:A))},Zs=(C,T)=>{f(k=>k.map(A=>{if(A.id===C){const ae=T.slot||(T.type==="weapon"?"weapon":T.type==="armor"?"armor":"accessory"),he=A.equipment[ae];return he&&N(Be=>[...Be,he]),N(Be=>Be.filter(Ve=>Ve.id!==T.id)),{...A,equipment:{...A.equipment,[ae]:T}}}return A})),Se.playLevelUp()},Ra=(C,T)=>{f(k=>k.map(A=>{if(A.id===C&&A.equipment[T]){const $=A.equipment[T];return N(ae=>[...ae,$]),{...A,equipment:{...A.equipment,[T]:void 0}}}return A})),Se.playLevelUp()},hn=(C,T)=>{f(k=>k.map(A=>A.id===C?{...A,gambits:T}:A))},Gl=(C,T,k,A)=>{f($=>$.map(ae=>ae.id===C?{...ae,gambits:ae.gambits.map(he=>he.id===T?{...he,position:{x:k,y:A}}:he)}:ae))},kl=(C,T,k)=>{f(A=>A.map($=>$.id===C?{...$,gambits:$.gambits.map(ae=>ae.id===T?{...ae,customName:k}:ae)}:$))},ps=(C,T)=>{f(k=>k.map(A=>A.id===C?{...A,assignment:T}:A))},Fs=()=>{if(L.mithril<10||y<50){te("Not enough resources to craft Rune!","error");return}K(zt=>({...zt,mithril:zt.mithril-10})),v(zt=>zt-50);const k=Math.random(),A=k<.05?"legendary":k<.2?"epic":k<.5?"rare":"common",$=["attack","defense","hp","magic","gold","xp"],ae=$[Math.floor(Math.random()*$.length)],Be={common:.05,rare:.1,epic:.15,legendary:.25}[A],Ve={id:`rune-${Date.now()}`,name:`${A.charAt(0).toUpperCase()+A.slice(1)} Rune of ${ae.charAt(0).toUpperCase()+ae.slice(1)}`,rarity:A,stat:ae,value:Be,bonus:`+${(Be*100).toFixed(0)}% ${ae.toUpperCase()}`};jl(zt=>[...zt,Ve]),te(`Crafted ${Ve.name}!`,"craft"),Se.playLevelUp()},dl=(C,T)=>{const k=Nt.find(A=>A.id===T);k&&(N(A=>A.map($=>{if($.id===C){if($.runes.length>=$.sockets)return te("No empty sockets available!","error"),$;const ae=[...$.runes,k];return{...$,runes:ae}}return $})),jl(A=>A.filter($=>$.id!==T)),te(`Socketed ${k.name} into item.`,"success"),Se.playLevelUp())},hs=()=>{al(!0),te("Ascended to Void!","achievement")},Cl=(C,T,k)=>{if(_<T){te("Not enough Gold!","error");return}if((L.starFragments||0)<k){te("Not enough Star Fragments!","error");return}H(A=>A-T),K(A=>({...A,starFragments:(A.starFragments||0)-k})),N(A=>[...A,C]),te(`Forged legendary item: ${C.name}!`,"achievement"),Se.playLevelUp()};return{heroes:c,boss:d,logs:m,items:j,gameSpeed:h,isSoundOn:g,souls:y,gold:_,divinity:q,pets:rt.pets,offlineGains:le,talents:be,artifacts:Ge,cards:Fe,constellations:re,keys:Ce,dungeonActive:ue.dungeonActive,dungeonTimer:ue.dungeonTimer,resources:L,ultimateCharge:Ya,raidActive:pt,raidTimer:Rl,voidMatter:O,voidActive:za,voidTimer:ds,tower:ue.tower,guild:at.guild,arenaRank:jt,glory:ra,quests:rl,runes:Nt,achievements:Qa,starlight:yl,starlightUpgrades:Je,autoSellRarity:ia,arenaOpponents:fs,voidAscensions:ye,partyDps:Jt,partyPower:Ha,combatEvents:ne,theme:Ul,galaxy:We.galaxy,territories:We.territories,weather:ue.weather,weatherTimer:ue.weatherTimer,synergies:Oa,suggestions:vm(c).length<5?jh(c):[],formations:ue.formations,gardenPlots:Le,marketStock:Pe,marketTimer:Ft,spaceship:We.spaceship,dungeonState:ue.dungeonState,riftTimer:ue.riftTimer,activeRift:ue.activeRift,lastDailyReset:Ie,isStarlightModalOpen:Gt,riftState:ue.riftState,monsterKills:B,gameStats:_t,activeExpeditions:yt,activePotions:xt,buildings:se,dailyQuests:ve,dailyLoginClaimed:Ke,actions:{...pa,attackSector:We.attackSector,breedPets:rt.breedPets,attackTerritory:We.attackTerritory,enterDungeon:ue.enterDungeon,moveDungeon:ue.moveDungeon,descendDungeon:ue.descendDungeon,exitDungeon:ue.exitDungeon,enterRift:ue.enterRift,exitRift:ue.exitRift,startRift:ue.startRift,selectBlessing:ue.selectBlessing,joinGuild:at.joinGuild,contributeGuild:at.contributeGuild,upgradeMonument:at.upgradeMonument,feedPet:rt.feedPet,saveFormation:ue.saveFormation,loadFormation:ue.loadFormation,deleteFormation:ue.deleteFormation,setTheme:us,setIsStarlightModalOpen:$s,setGardenPlots:tt,setResources:K,setGold:H,renameHero:(C,T)=>{f(k=>k.map(A=>A.id===C?{...A,name:T}:A))},equipItem:(C,T)=>{f(k=>k.map(A=>{if(A.id===C){const $=T.slot||(T.type==="weapon"?"weapon":T.type==="armor"?"armor":"accessory"),ae=A.equipment[$];return ae&&N(he=>[...he,ae]),N(he=>he.filter(Be=>Be.id!==T.id)),{...A,equipment:{...A.equipment,[$]:T}}}return A})),Se.playLevelUp()},unequipItem:(C,T)=>{f(k=>k.map(A=>{if(A.id===C&&A.equipment[T]){const $=A.equipment[T];return N(ae=>[...ae,$]),{...A,equipment:{...A.equipment,[T]:void 0}}}return A})),Se.playLevelUp()},updateGambits:(C,T)=>{f(k=>k.map(A=>A.id===C?{...A,gambits:T}:A))},moveGambit:(C,T,k,A)=>{f($=>$.map(ae=>ae.id===C?{...ae,gambits:ae.gambits.map(he=>he.id===T?{...he,position:{x:k,y:A}}:he)}:ae))},renameGambit:(C,T,k)=>{f(A=>A.map($=>$.id===C?{...$,gambits:$.gambits.map(ae=>ae.id===T?{...ae,customName:k}:ae)}:$))},changeHeroEmoji:(C,T)=>{f(k=>k.map(A=>A.id===C?{...A,emoji:T}:A))},buyConstellation:C=>{ke(T=>T.map(k=>k.id===C&&q>=k.cost?(M(A=>A-k.cost),{...k,level:k.level+1}):k))},toggleRaid:()=>{ua(C=>!C)},upgradeSpaceship:We.upgradeSpaceship,summonTavernLine:(C=1)=>{te("Tavern summon placeholder","info")},enterVoid:()=>al(!0),challengeVoidCore:()=>{if(ye<5){te("You are not powerful enough. Ascend 5 times.","error");return}o({id:"void_core",name:"Void Core",level:9999,emoji:"",stats:{hp:1e9,maxHp:1e9,mp:0,maxMp:0,attack:5e4,defense:5e3,magic:1e4,speed:500},element:"dark",type:"boss",isDead:!1,abilities:["void_crush","cosmic_ray"]}),te("THE VOID CORE AWAKENS!","danger"),Se.playLevelUp()},triggerAscension:()=>te("Ascension coming soon!","info"),buyDarkGift:(C,T)=>te("Dark Gifts coming soon!","info"),reforgeItem:C=>te("Reforging coming soon!","info"),ascendToVoid:()=>{if(ue.tower.floor<100){te("Reach Floor 100 to Ascend!","error");return}const C=Math.floor(_t.totalGoldEarned/1e6+y/1e3+ue.tower.floor/10);M(T=>T+C),Ee(T=>T+1),H(0),v(0),f(os),N([]),ue.setTower({floor:1,maxFloor:1,active:!1}),te(`ASCENDED! +${C} Divinity!`,"achievement"),Se.playLevelUp()},recruitHero:C=>{const T=c.find(A=>A.id===C),k=T?.id==="h2"?100:T?.id==="h3"?500:1e3;T&&!T.unlocked&&_>=k&&(H(A=>A-k),f(A=>A.map($=>$.id===C?{...$,unlocked:!0}:$)),te(`Recruited ${T.name}!`,"achievement"),Se.playLevelUp())},spendStatPoint:(C,T)=>{if(!["attack","defense","hp","magic","speed"].includes(T))return;const A=T;f($=>$.map(ae=>ae.id===C&&ae.statPoints>0?{...ae,statPoints:ae.statPoints-1,stats:{...ae.stats,[A]:ae.stats[A]+1}}:ae))},toggleAssignment:C=>{f(T=>T.map(k=>{if(k.id===C){const A=k.assignment==="none"?"combat":k.assignment==="combat"?"mine":"none";return{...k,assignment:A}}return k}))},toggleCorruption:C=>{(O||0)<10||f(T=>T.map(k=>k.id===C?(P(A=>A-10),{...k,corruption:!k.corruption}):k))},checkDailies:()=>{const C=Date.now();dm(Ie)&&(it(C),Ne(!1),De(um()),te("New Day! Daily Quests Reset.","info"))},claimLoginReward:()=>{if(Ke)return;const C=_t.loginStreak||1,T=Zi.find(k=>k.day===C)||Zi[0];T.type==="gold"&&H(k=>k+T.amount),T.type==="souls"&&v(k=>k+T.amount),Ne(!0),te(`Claimed Daily Reward: ${T.label}`,"achievement")},claimDailyQuest:C=>{De(T=>T.map(k=>k.id===C&&!k.claimed&&k.current>=k.target?(k.reward.type==="gold"&&H(A=>A+k.reward.amount),k.reward.type==="souls"&&v(A=>A+k.reward.amount),{...k,claimed:!0}):k))},buyMarketItem:C=>{if(C.currency==="gold"&&_>=C.cost)H(T=>T-C.cost);else if(C.currency==="divinity"&&q>=C.cost)M(T=>T-C.cost);else return;vt(T=>T.filter(k=>k.id!==C.id)),te(`Bought ${C.name}`,"action")},buyStarlightUpgrade:si,winCardBattle:Sl,evolveHero:C=>{const T=c.find(A=>A.id===C);if(!T||T.level<50)return;const k=Sm[T.class];k&&(f(A=>A.map($=>{if($.id===C){const ae=Mm.statBonus;return{...$,class:k,level:1,xp:0,stats:{hp:Math.floor($.stats.hp*ae),maxHp:Math.floor($.stats.maxHp*ae),mp:Math.floor($.stats.mp*ae),maxMp:Math.floor($.stats.maxMp*ae),attack:Math.floor($.stats.attack*ae),defense:Math.floor($.stats.defense*ae),magic:Math.floor($.stats.magic*ae),speed:Math.floor($.stats.speed*ae)},emoji:""+$.emoji}}return $})),te(`${T.name} evolved into ${k}!`,"achievement"),Se.playLevelUp())},formatNumber:Xe,attackWorldBoss:Nl.attackWorldBoss,claimWorldBossReward:Nl.claimReward,craftRune:Fs,socketRune:dl,craftStarForgedItem:Cl,setVictory:I},victory:ge,worldBoss:Nl.worldBoss,worldBossDamage:Nl.personalDamage,worldBossCanClaim:Nl.canClaim,enterDungeon:ue.enterDungeon,descendDungeon:ue.descendDungeon,setGardenPlots:tt,setResources:K,setGold:H,showCampfire:sl,setShowCampfire:ya,buyMarketItem:Wt,dungeonMastery:va,buyMasteryUpgrade:Ll,exitRift:ue.exitRift,startRift:ue.startRift,selectBlessing:ue.selectBlessing,breedPets:rt.breedPets,attackTerritory:We.attackTerritory,upgradeBuilding:pa.upgradeBuilding,handleDungeonEvent:pa.handleDungeonEvent,evolveHero:Ks,renameHero:Ml,updateGambits:hn,moveGambit:Gl,renameGambit:kl,claimLoginReward:cl,claimDailyQuest:ni,checkDailies:pn,winCardBattle:Sl,equipItem:Zs,unequipItem:Ra,upgradeSpaceship:We.upgradeSpaceship,moveDungeon:ue.moveDungeon,exitDungeon:ue.exitDungeon,saveFormation:ue.saveFormation,loadFormation:ue.loadFormation,deleteFormation:ue.deleteFormation,assignHero:ps,summonTavernLine:pa.summonTavernLine,craftRune:Fs,socketRune:dl,ascendToVoid:hs,craftStarForgedItem:Cl}};const Yh=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qh=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(f,d,o)=>o?o.toUpperCase():d.toLowerCase()),Cm=c=>{const f=Qh(c);return f.charAt(0).toUpperCase()+f.slice(1)},$m=(...c)=>c.filter((f,d,o)=>!!f&&f.trim()!==""&&o.indexOf(f)===d).join(" ").trim(),Kh=c=>{for(const f in c)if(f.startsWith("aria-")||f==="role"||f==="title")return!0};var Zh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fh=z.forwardRef(({color:c="currentColor",size:f=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:m="",children:u,iconNode:h,...b},g)=>z.createElement("svg",{ref:g,...Zh,width:f,height:f,stroke:c,strokeWidth:o?Number(d)*24/Number(f):d,className:$m("lucide",m),...!u&&!Kh(b)&&{"aria-hidden":"true"},...b},[...h.map(([p,j])=>z.createElement(p,j)),...Array.isArray(u)?u:[u]]));const oe=(c,f)=>{const d=z.forwardRef(({className:o,...m},u)=>z.createElement(Fh,{ref:u,iconNode:f,className:$m(`lucide-${Yh(Cm(c))}`,`lucide-${c}`,o),...m}));return d.displayName=Cm(c),d};const Jh=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wh=oe("activity",Jh);const Ih=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Ym=oe("anchor",Ih);const Ph=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],eg=oe("archive",Ph);const tg=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ag=oe("arrow-up",tg);const lg=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Dm=oe("award",lg);const sg=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bd=oe("book-open",sg);const ng=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Qm=oe("book",ng);const ig=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Km=oe("brain",ig);const rg=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zm=oe("briefcase",rg);const og=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],yd=oe("building",og);const cg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fm=oe("calendar",cg);const dg=[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]],ro=oe("castle",dg);const ug=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Jm=oe("chart-no-axes-column",ug);const fg=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vd=oe("check",fg);const mg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xg=oe("circle-alert",mg);const pg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Wm=oe("circle-arrow-up",pg);const hg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],gg=oe("circle-plus",hg);const bg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Im=oe("circle-question-mark",bg);const yg=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ei=oe("clock",yg);const vg=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],jg=oe("coffee",vg);const Ng=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ti=oe("coins",Ng);const wg=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],In=oe("crown",wg);const Sg=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Mg=oe("dices",Sg);const kg=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],Cg=oe("dna",kg);const Dg=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Ag=oe("door-open",Dg);const Tg=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_g=oe("download",Tg);const zg=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Wi=oe("droplets",zg);const Eg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hg=oe("eye",Eg);const Og=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],Rg=oe("fish",Og);const Ug=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Am=oe("flag",Ug);const Lg=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],cs=oe("flame",Lg);const Bg=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Pm=oe("flask-conical",Bg);const Gg=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Vg=oe("footprints",Gg);const Xg=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Fi=oe("gem",Xg);const qg=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],Pn=oe("ghost",qg);const $g=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Tm=oe("gift",$g);const Yg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_m=oe("globe",Yg);const Qg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zm=oe("grid-3x3",Qg);const Kg=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ai=oe("hammer",Kg);const Zg=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Fg=oe("hand",Zg);const Jg=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],co=oe("heart",Jg);const Wg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jd=oe("house",Wg);const Ig=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sd=oe("info",Ig);const Pg=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ex=oe("key",Pg);const e1=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],t1=oe("layers",e1);const a1=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],l1=oe("layout-grid",a1);const s1=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Ji=oe("leaf",s1);const n1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ii=oe("lock",n1);const i1=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Md=oe("map",i1);const r1=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Em=oe("medal",r1);const o1=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],c1=oe("mouse-pointer",o1);const d1=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],u1=oe("move",d1);const f1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],m1=oe("pencil",f1);const x1=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],p1=oe("pickaxe",x1);const h1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g1=oe("plus",h1);const b1=[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]],y1=oe("pointer",b1);const v1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],j1=oe("refresh-cw",v1);const N1=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Hm=oe("rocket",N1);const w1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],S1=oe("rotate-ccw",w1);const M1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],k1=oe("save",M1);const C1=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],kd=oe("scroll",C1);const D1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tx=oe("search",D1);const A1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],no=oe("settings",A1);const T1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],_1=oe("share-2",T1);const z1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ax=oe("shield-alert",z1);const E1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ol=oe("shield",E1);const H1=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],O1=oe("shopping-bag",H1);const R1=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],$a=oe("skull",R1);const U1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],oo=oe("sparkles",U1);const L1=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],B1=oe("sprout",L1);const G1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xs=oe("star",G1);const V1=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],hl=oe("sword",V1);const X1=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],xn=oe("swords",X1);const q1=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],$1=oe("tent",q1);const Y1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Q1=oe("trash-2",Y1);const K1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Z1=oe("trending-up",K1);const F1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J1=oe("triangle-alert",F1);const W1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gl=oe("trophy",W1);const I1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],P1=oe("upload",I1);const eb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tb=oe("user",eb);const ab=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lb=oe("users",ab);const sb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],nb=oe("volume-2",sb);const ib=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],rb=oe("volume-x",ib);const ob=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],cb=oe("wind",ob);const db=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bt=oe("x",db);const ub=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_a=oe("zap",ub),fb=({boss:c,souls:f,gold:d,divinity:o,tower:m,keys:u,voidMatter:h,dungeonActive:b,raidActive:g,raidTimer:p,voidActive:j,voidTimer:N,isSoundOn:y,gameSpeed:v,actions:_,setShowShop:H,setShowTavern:q,setShowStars:M,setShowForge:O,setShowInventory:P,setShowBestiary:ye,setShowSettings:Ee,setShowStats:ge,setShowTower:I,setShowGuild:le,setShowVoid:ce,setShowArena:be,setShowQuests:Me,setShowDailyRewards:Ge,setShowRunes:mt,setShowAchievements:Fe,setShowStarlight:xe,setShowHelp:B,setShowGalaxy:Z,setShowLeaderboard:re,setShowFishing:ke,setShowAlchemy:Ce,setShowExpeditions:w,setShowGarden:L,setShowRiftModal:K,setShowBreedingModal:se,setShowGuildWar:pe,weather:ve,weatherTimer:De,setShowMuseum:Ke,setShowTown:Ne,setShowCampfire:Ie,setShowStarForge:it,setShowWorldBoss:yt})=>{const[Dt,xt]=Ta.useState("main"),Qt=()=>l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>O(!0),className:"btn-retro bg-orange-900 text-orange-200 px-2 py-1 rounded border border-orange-500 flex items-center gap-1 hover:bg-orange-800",title:"The Forge",children:[l.jsx(ai,{size:12})," Forge"]}),l.jsxs("button",{onClick:()=>P(!0),className:"btn-retro bg-slate-700 text-slate-200 px-2 py-1 rounded border border-slate-500 flex items-center gap-1 hover:bg-slate-600",title:"Inventory",children:[l.jsx(Zm,{size:12})," Bag"]}),l.jsxs("button",{onClick:()=>le(!0),className:"btn-retro bg-green-900 text-green-200 px-2 py-1 rounded border border-green-500 flex items-center gap-1 hover:bg-green-800",title:"Guild",children:[l.jsx(yd,{size:12})," Guild"]}),Ne&&l.jsxs("button",{onClick:()=>Ne(!0),className:"btn-retro bg-stone-700 text-stone-200 px-2 py-1 rounded border border-stone-500 flex items-center gap-1 hover:bg-stone-600",title:"Town",children:[l.jsx(jd,{size:12})," Town"]}),Ie&&l.jsxs("button",{onClick:()=>Ie(!0),className:"btn-retro bg-orange-800 text-orange-200 px-2 py-1 rounded border border-orange-500 flex items-center gap-1 hover:bg-orange-700",title:"Campfire",children:[l.jsx(cs,{size:12})," Rest"]})]}),Le=()=>l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>I(!0),className:"btn-retro bg-indigo-900 text-indigo-200 px-2 py-1 rounded border border-indigo-500 flex items-center gap-1 hover:bg-indigo-800",title:"Tower",children:[l.jsx(ro,{size:12})," ",m.floor]}),l.jsxs("button",{onClick:()=>be&&be(!0),className:"btn-retro bg-red-900 text-red-200 px-2 py-1 rounded border border-red-500 flex items-center gap-1 hover:bg-red-800",title:"Arena",children:[l.jsx(xn,{size:12})," Arena"]}),Z&&l.jsxs("button",{onClick:()=>Z(!0),className:"btn-retro bg-indigo-950 text-indigo-300 px-2 py-1 rounded border border-indigo-500 flex items-center gap-1 hover:bg-indigo-900",title:"Galaxy Conquest",children:[l.jsx(In,{size:12,className:"rotate-180"})," Galaxy"]}),Z&&l.jsxs("button",{onClick:()=>Z(!0),className:"btn-retro bg-indigo-950 text-indigo-300 px-2 py-1 rounded border border-indigo-500 flex items-center gap-1 hover:bg-indigo-900",title:"Galaxy Conquest",children:[l.jsx(In,{size:12,className:"rotate-180"})," Galaxy"]}),it&&l.jsxs("button",{onClick:()=>it(!0),className:"btn-retro bg-orange-950 text-orange-300 px-2 py-1 rounded border border-orange-500 flex items-center gap-1 hover:bg-orange-900",title:"Star Forge",children:[l.jsx(cs,{size:12})," Star Forge"]}),K&&l.jsxs("button",{onClick:()=>K(!0),className:"btn-retro bg-purple-900 text-purple-300 px-2 py-1 rounded border border-purple-500 flex items-center gap-1 hover:bg-purple-800",title:"Temporal Rifts",children:[l.jsx(ei,{size:12})," Rifts"]}),yt&&l.jsxs("button",{onClick:()=>yt(!0),className:"btn-retro bg-red-950 text-red-400 px-2 py-1 rounded border border-red-500 flex items-center gap-1 hover:bg-red-900 animate-pulse",title:"World Boss Raid",children:[l.jsx($a,{size:12})," Raid"]}),m.floor>=10&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>ce&&ce(!0),className:"flex items-center gap-1 bg-purple-900 border border-purple-700 px-2 py-1 rounded text-purple-100 hover:bg-purple-800 animate-pulse",title:"The Void",children:[l.jsx(Pn,{size:12})," ",h]}),l.jsxs("button",{onClick:()=>Ie&&Ie(!0),className:"p-2 bg-slate-800 border border-slate-700 rounded hover:bg-slate-700 transition-colors text-orange-400",title:"Rest (Phase 80)",children:[l.jsx("span",{className:"sr-only",children:"Campfire"}),""]})]}),l.jsx("button",{onClick:()=>pe&&pe(!0),className:"btn-retro bg-orange-700 text-white px-2 py-1 rounded border border-orange-500 hover:bg-orange-600 flex items-center gap-1",title:"Guild Wars",children:"  War "})]}),tt=()=>l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>se&&se(!0),className:"btn-retro bg-pink-700 text-white px-2 py-1 rounded border border-pink-500 hover:bg-pink-600 flex items-center gap-1",title:"Pet Breeding",children:"  Breed "}),ke&&l.jsxs("button",{onClick:()=>ke(!0),className:"btn-retro bg-cyan-800 text-cyan-200 px-2 py-1 rounded border border-cyan-500 flex items-center gap-1 hover:bg-cyan-700",title:"Fishing",children:[l.jsx(Ym,{size:12})," Fish"]}),Ce&&l.jsxs("button",{onClick:()=>Ce(!0),className:"btn-retro bg-purple-800 text-purple-200 px-2 py-1 rounded border border-purple-500 flex items-center gap-1 hover:bg-purple-700",title:"Alchemy",children:[l.jsx(Pm,{size:12})," Brew"]}),w&&l.jsxs("button",{onClick:()=>w(!0),className:"btn-retro bg-amber-800 text-amber-200 px-2 py-1 rounded border border-amber-500 flex items-center gap-1 hover:bg-amber-700",title:"Expeditions",children:[l.jsx(Md,{size:12})," Explore"]}),L&&l.jsxs("button",{onClick:()=>L(!0),className:"btn-retro bg-green-800 text-green-200 px-2 py-1 rounded border border-green-500 flex items-center gap-1 hover:bg-green-700",title:"The Great Garden",children:[l.jsx(Ji,{size:12})," Garden"]}),l.jsxs("button",{onClick:()=>mt&&mt(!0),className:"btn-retro bg-indigo-900 text-indigo-200 px-2 py-1 rounded border border-indigo-500 flex items-center gap-1 hover:bg-indigo-800",title:"Rune Forge",children:[l.jsx(Fi,{size:12})," Runes"]})]}),Pe=()=>l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>Me&&Me(!0),className:"btn-retro bg-blue-900 text-blue-200 px-2 py-1 rounded border border-blue-500 flex items-center gap-1 hover:bg-blue-800",title:"Quests",children:[l.jsx(kd,{size:12})," Quests"]}),Ge&&l.jsxs("button",{onClick:()=>Ge(!0),className:"btn-retro bg-pink-900 text-pink-200 px-2 py-1 rounded border border-pink-500 flex items-center gap-1 hover:bg-pink-800",title:"Daily Rewards",children:[l.jsx(Fm,{size:12})," Dailies"]}),l.jsxs("button",{onClick:()=>Fe&&Fe(!0),className:"btn-retro bg-yellow-900 text-yellow-200 px-2 py-1 rounded border border-yellow-500 flex items-center gap-1 hover:bg-yellow-800",title:"Achievements",children:[l.jsx(gl,{size:12})," Trophies"]}),re&&l.jsxs("button",{onClick:()=>re(!0),className:"btn-retro bg-yellow-600 text-white px-2 py-1 rounded border border-yellow-400 flex items-center gap-1 hover:bg-yellow-500",title:"Leaderboards",children:[l.jsx(In,{size:12})," Rank"]}),Ke&&l.jsxs("button",{onClick:()=>Ke(!0),className:"btn-retro bg-emerald-900 text-emerald-200 px-2 py-1 rounded border border-emerald-500 flex items-center gap-1 hover:bg-emerald-800",title:"The Museum",children:[l.jsx(bd,{size:12})," Museum"]}),l.jsxs("button",{onClick:()=>ge(!0),className:"btn-retro bg-blue-900 text-blue-200 px-2 py-1 rounded border border-blue-500 flex items-center gap-1 hover:bg-blue-800",title:"Stats",children:[l.jsx(Jm,{size:12})," Stats"]}),l.jsxs("button",{onClick:()=>ye(!0),className:"btn-retro bg-amber-900 text-amber-200 px-2 py-1 rounded border border-amber-600 flex items-center hover:bg-amber-800 text-[10px]",title:"Bestiary (Monster Log)",children:[l.jsx(bd,{size:12})," Bestiary"]}),xe&&l.jsxs("button",{onClick:()=>xe(!0),className:"btn-retro bg-cyan-950 text-cyan-400 px-2 py-1 rounded border border-cyan-500 flex items-center gap-1 hover:bg-cyan-900 animate-pulse",title:"Automation Constellations",children:[l.jsx(no,{size:12})," Auto"]}),l.jsx("button",{onClick:()=>Ee(!0),className:"btn-retro bg-gray-700 p-2 rounded hover:bg-gray-600",children:l.jsx(no,{size:12})}),l.jsx("button",{onClick:()=>B(!0),className:"btn-retro bg-gray-600 text-gray-200 px-2 py-1 rounded border border-gray-400 flex items-center gap-1 hover:bg-gray-500",title:"Help",children:l.jsx(Im,{size:12})}),l.jsxs("button",{onClick:_.enterDungeon,className:"btn-retro bg-stone-800 text-stone-200 px-2 py-1 rounded border border-stone-500 flex items-center gap-1 hover:bg-stone-700",title:"Enter the Vault (Dungeon)",children:[l.jsx(ro,{size:12})," Vault"]})]});return l.jsxs("div",{className:"bg-gray-900 p-2 border-b-4 border-gray-600 flex flex-col gap-2 rounded-t-lg shadow-lg z-10 sticky top-0",children:[l.jsxs("div",{className:"flex flex-wrap justify-between items-center text-xs text-yellow-400 gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded border border-gray-600 text-white font-bold",children:["LVL ",c.level]}),l.jsxs("button",{onClick:()=>H(!0),className:"btn-retro bg-purple-900 text-purple-200 px-2 py-1 rounded border border-purple-500 flex items-center gap-1 hover:bg-purple-800 min-w-[60px] justify-center",children:[" ",l.jsx(Pn,{size:12})," ",Xe(f)," "]}),l.jsxs("button",{onClick:()=>q(!0),className:"btn-retro bg-amber-700 text-amber-100 px-2 py-1 rounded border border-amber-500 flex items-center gap-1 hover:bg-amber-600 min-w-[60px] justify-center",children:[" ",l.jsx(ti,{size:12})," ",Xe(d)," "]}),o>0&&l.jsxs("button",{onClick:()=>M(!0),className:"btn-retro bg-cyan-900 text-cyan-200 px-2 py-1 rounded border border-cyan-500 flex items-center gap-1 hover:bg-cyan-800",children:[l.jsx(In,{size:12})," ",Xe(o)]}),u>0&&l.jsxs("span",{className:"text-amber-500 flex items-center gap-1 bg-gray-800 px-2 py-1 rounded",children:[l.jsx(ex,{size:10})," ",u]}),u>0&&!b&&l.jsx("button",{onClick:_.enterDungeon,className:"btn-retro bg-amber-600 text-white px-2 py-1 rounded hover:bg-amber-500 text-[10px] animate-pulse border border-yellow-300",children:"VAULT"}),j&&l.jsxs("div",{className:"text-purple-400 font-bold animate-pulse text-xs",children:["VOID: ",Math.floor(N),"s"]}),c.level>=20&&!b&&!j&&l.jsxs("button",{onClick:_.toggleRaid,className:`btn-retro px-2 py-1 rounded text-[10px] flex items-center gap-1 ${g?"bg-red-600 animate-pulse":"bg-gray-700 hover:bg-red-900"}`,children:[" ",l.jsx($a,{size:12})," ",g?`${Math.floor(p)}s`:"RAID"," "]})]}),l.jsxs("div",{className:"flex gap-1 items-center",children:[ve&&De&&l.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded text-xs flex items-center gap-1 border border-gray-600 group relative cursor-help mr-2",children:[l.jsx("span",{children:Wn[ve].icon}),l.jsxs("span",{className:"text-gray-500 font-mono text-[10px]",children:[Math.floor(De/60),":",(De%60).toString().padStart(2,"0")]}),l.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-gray-900 border border-gray-600 p-2 rounded shadow-xl hidden group-hover:block z-50",children:[l.jsx("div",{className:"font-bold text-white mb-1",children:Wn[ve].name}),l.jsxs("div",{className:"text-[10px] text-green-400",children:["Bonus: +",Math.abs(Wn[ve].bonus.value*100),"% ",Wn[ve].bonus.stat.toUpperCase()]})]})]}),l.jsx("button",{onClick:_.toggleSound,className:"btn-retro bg-gray-700 p-2 rounded hover:bg-gray-600",children:y?l.jsx(nb,{size:12}):l.jsx(rb,{size:12})}),l.jsxs("button",{onClick:()=>_.setGameSpeed(v===1?2:v===2?5:v===5?10:v===10?25:1),className:"btn-retro bg-blue-700 px-2 py-1 rounded text-[10px] min-w-[40px] text-center",children:[l.jsx(_a,{size:10,className:"inline mr-1"}),v,"x"]})]})]}),l.jsxs("div",{className:"flex gap-1 bg-gray-800 nav-tabs p-1 rounded",children:[l.jsxs("button",{onClick:()=>xt("main"),className:`flex-1 py-1 text-xs font-bold rounded flex items-center justify-center gap-1 transition-all ${Dt==="main"?"bg-amber-600 text-white shadow":"bg-transparent text-gray-400 hover:text-white"}`,children:[l.jsx(jd,{size:12})," Main"]}),l.jsxs("button",{onClick:()=>xt("combat"),className:`flex-1 py-1 text-xs font-bold rounded flex items-center justify-center gap-1 transition-all ${Dt==="combat"?"bg-red-700 text-white shadow":"bg-transparent text-gray-400 hover:text-white"}`,children:[l.jsx(xn,{size:12})," Combat"]}),l.jsxs("button",{onClick:()=>xt("skills"),className:`flex-1 py-1 text-xs font-bold rounded flex items-center justify-center gap-1 transition-all ${Dt==="skills"?"bg-green-700 text-white shadow":"bg-transparent text-gray-400 hover:text-white"}`,children:[l.jsx(Ji,{size:12})," Skills"]}),l.jsxs("button",{onClick:()=>xt("system"),className:`flex-1 py-1 text-xs font-bold rounded flex items-center justify-center gap-1 transition-all ${Dt==="system"?"bg-blue-700 text-white shadow":"bg-transparent text-gray-400 hover:text-white"}`,children:[l.jsx(no,{size:12})," System"]})]}),l.jsxs("div",{className:"flex flex-wrap items-center text-xs gap-2 min-h-[32px]",children:[Dt==="main"&&Qt(),Dt==="combat"&&Le(),Dt==="skills"&&tt(),Dt==="system"&&Pe()]})]})},mb=[{value:"always",label:"Always"},{value:"hp<50",label:"Self HP < 50%"},{value:"hp<30",label:"Self HP < 30%"},{value:"mp<50",label:"Self MP < 50%"},{value:"ally_hp<50",label:"Ally HP < 50%"},{value:"ally_dead",label:"Ally is Dead"},{value:"enemy_boss",label:"Enemy is Boss"},{value:"enemy_count>2",label:"Enemy Count > 2"}],xb=[{value:"attack",label:"Attack"},{value:"strong_attack",label:"Strong Attack"},{value:"heal",label:"Heal (Magic)"},{value:"use_potion",label:"Use Potion"},{value:"revive",label:"Revive Ally"}],pb=({hero:c,actions:f,onClose:d})=>{const[o,m]=z.useState(null),u=z.useRef(null),h=y=>{m(y)},b=y=>{if(!o||!u.current)return;const v=u.current.getBoundingClientRect(),_=y.clientX-v.left-100,H=y.clientY-v.top-40;f.moveGambit(c.id,o,Math.max(0,_),Math.max(0,H))},g=()=>{m(null)},p=()=>{const y={id:Math.random().toString(),condition:"always",action:"attack",position:{x:50,y:50+c.gambits.length*120}};f.updateGambits(c.id,[...c.gambits,y])},j=y=>{f.updateGambits(c.id,c.gambits.filter(v=>v.id!==y))},N=(y,v)=>{f.updateGambits(c.id,c.gambits.map(_=>_.id===y?{..._,...v}:_))};return l.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-950 flex flex-col font-sans",children:[l.jsxs("div",{className:"h-16 border-b border-cyan-900/50 bg-slate-900 px-6 flex items-center justify-between shadow-lg",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-950 border border-cyan-500 flex items-center justify-center text-2xl",children:c.emoji}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-cyan-400 leading-tight",children:"Tactical Logic Editor"}),l.jsxs("p",{className:"text-xs text-cyan-700 font-mono",children:["Hero: ",c.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:p,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-all shadow-lg active:scale-95",children:[l.jsx(g1,{size:18})," New Logic Node"]}),l.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:l.jsx(Bt,{size:24})})]})]}),l.jsxs("div",{ref:u,className:"flex-1 relative overflow-hidden bg-[radial-gradient(#1e293b_1px,transparent_1px)] [background-size:20px_20px]",onMouseMove:b,onMouseUp:g,onMouseLeave:g,children:[l.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[l.jsx("defs",{children:l.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#0891b2"})})}),c.gambits.map((y,v)=>{if(v===c.gambits.length-1)return null;const _=c.gambits[v+1];if(!y.position||!_.position)return null;const H=y.position.x+100,q=y.position.y+100,M=_.position.x+100,O=_.position.y;return l.jsx("path",{d:`M ${H} ${q} C ${H} ${q+40}, ${M} ${O-40}, ${M} ${O}`,stroke:"#0891b2",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",markerEnd:"url(#arrowhead)"},`path-${y.id}`)})]}),l.jsxs("div",{className:"absolute top-4 left-4 bg-slate-900/80 p-3 rounded-lg border border-slate-800 text-[10px] text-slate-500 pointer-events-none space-y-1",children:[l.jsx("p",{children:" Drag headers to move nodes"}),l.jsx("p",{children:" Logic flows from top node to bottom"}),l.jsx("p",{children:" Max 6 logic nodes allowed"})]}),c.gambits.map((y,v)=>{const _=y.position||{x:50,y:50+v*120};return l.jsxs("div",{style:{left:_.x,top:_.y,width:200},className:`absolute bg-slate-900 border-2 rounded-xl shadow-2xl transition-shadow overflow-hidden
                                ${o===y.id?"border-cyan-400 shadow-cyan-900/50 scale-105 z-10":"border-slate-800 hover:border-slate-700 z-0"}
                            `,children:[l.jsxs("div",{onMouseDown:()=>h(y.id),className:"h-8 bg-slate-800 flex items-center px-3 cursor-move group select-none",children:[l.jsx(u1,{size:12,className:"text-slate-500 group-hover:text-cyan-400 transition-colors"}),l.jsxs("span",{className:"ml-2 text-[10px] uppercase font-black tracking-widest text-slate-500 group-hover:text-slate-300",children:["Priority ",v+1]}),l.jsx("button",{onClick:()=>j(y.id),className:"ml-auto text-slate-600 hover:text-red-400",children:l.jsx(Bt,{size:14})})]}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] text-slate-500 uppercase font-bold block mb-1",children:"Condition"}),l.jsx("select",{value:y.condition,onChange:H=>N(y.id,{condition:H.target.value}),className:"w-full bg-slate-950 text-cyan-300 border border-slate-800 rounded px-2 py-1.5 text-xs outline-none focus:border-cyan-500",children:mb.map(H=>l.jsx("option",{value:H.value,children:H.label},H.value))})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(y1,{className:"text-slate-700",size:12})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] text-slate-500 uppercase font-bold block mb-1",children:"Action"}),l.jsx("select",{value:y.action,onChange:H=>N(y.id,{action:H.target.value}),className:"w-full bg-slate-950 text-orange-400 border border-slate-800 rounded px-2 py-1.5 text-xs outline-none focus:border-orange-500",children:xb.map(H=>l.jsx("option",{value:H.value,children:H.label},H.value))})]})]}),l.jsx("div",{className:"h-1 bg-gradient-to-r from-cyan-600/50 via-cyan-400 to-cyan-600/50"})]},y.id)})]}),l.jsx("div",{className:"h-12 bg-slate-900 border-t border-cyan-900/30 flex items-center justify-center text-[10px] font-mono text-cyan-900 uppercase tracking-[0.2em]",children:"Neural Tactics Interface // V5.0"})]})},hb=[{value:"always",label:"Always"},{value:"hp<50",label:"Self HP < 50%"},{value:"hp<30",label:"Self HP < 30%"},{value:"mp<50",label:"Self MP < 50%"},{value:"ally_hp<50",label:"Ally HP < 50%"},{value:"ally_dead",label:"Ally is Dead"},{value:"enemy_boss",label:"Enemy is Boss"},{value:"enemy_count>2",label:"Enemy Count > 2"}],gb=[{value:"attack",label:"Attack"},{value:"strong_attack",label:"Strong Attack"},{value:"heal",label:"Heal (Magic)"},{value:"use_potion",label:"Use Potion"},{value:"cast_fireball",label:"Cast Fireball"},{value:"buff_atk",label:"Buff Attack"},{value:"revive",label:"Revive Ally"},{value:"defend",label:"Defend"}],bb=({isOpen:c,onClose:f,hero:d,actions:o})=>{const[m,u]=z.useState([]),[h,b]=z.useState(!1),[g,p]=z.useState(""),[j,N]=z.useState(!1);if(Ta.useEffect(()=>{d&&(u(d.gambits||[]),p(d.name))},[d]),!c||!d)return null;const y=()=>{g.trim()&&(o.renameHero?.(d.id,g),b(!1))},v=()=>{m.length>=3||u([...m,{id:Math.random().toString(),condition:"always",action:"attack"}])},_=M=>{const O=[...m];O.splice(M,1),u(O)},H=(M,O,P)=>{const ye=[...m];ye[M]={...ye[M],[O]:P},u(ye)},q=()=>{o.updateGambits?.(d.id,m),f()};return l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-slate-900 border-4 border-cyan-500 w-full max-w-lg p-6 rounded-lg shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-cyan-400 text-2xl font-bold mb-4 flex items-center justify-center gap-2",children:[l.jsx(Km,{}),h?l.jsx("input",{value:g,onChange:M=>p(M.target.value),onBlur:y,onKeyDown:M=>M.key==="Enter"&&y(),autoFocus:!0,className:"bg-black text-white px-2 py-1 rounded border border-cyan-500 text-lg w-40"}):l.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 hover:text-white border-b border-dashed border-gray-600",children:[d.name," ",l.jsx(m1,{size:16,className:"opacity-50"})]})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[m.map((M,O)=>l.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 p-2 rounded border border-slate-600",children:[l.jsxs("span",{className:"text-gray-400 font-bold w-6",children:[O+1,"."]}),l.jsxs("div",{className:"flex-1 flex gap-2",children:[l.jsx("span",{className:"text-xs text-gray-500 self-center",children:"IF"}),l.jsx("select",{className:"bg-black text-cyan-300 border border-slate-600 rounded px-2 py-1 text-xs flex-1",value:M.condition,onChange:P=>H(O,"condition",P.target.value),children:hb.map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))}),l.jsx("span",{className:"text-xs text-gray-500 self-center",children:"THEN"}),l.jsx("select",{className:"bg-black text-orange-300 border border-slate-600 rounded px-2 py-1 text-xs flex-1",value:M.action,onChange:P=>H(O,"action",P.target.value),children:gb.map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))})]}),l.jsx("button",{onClick:()=>_(O),className:"text-red-500 hover:text-red-400",children:l.jsx(Q1,{size:16})})]},M.id)),m.length<3&&l.jsxs("button",{onClick:v,className:"w-full py-2 border border-dashed border-gray-600 text-gray-400 rounded hover:text-white hover:border-gray-400 flex items-center justify-center gap-2",children:[l.jsx(gg,{size:16})," Add Gambit Slot"]})]}),l.jsxs("div",{className:"flex justify-between items-center gap-2",children:[l.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 border border-cyan-500/30 text-cyan-400 rounded hover:bg-cyan-900/20 flex items-center gap-2 transition-colors text-xs",children:[l.jsx(l1,{size:14})," VISUAL EDITOR"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:f,className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancel"}),l.jsxs("button",{onClick:q,className:"px-6 py-2 bg-cyan-700 text-white rounded font-bold hover:bg-cyan-600 flex items-center gap-2",children:[l.jsx(k1,{size:16})," SAVE TACTICS"]})]})]}),j&&l.jsx(pb,{hero:d,actions:o,onClose:()=>N(!1)})]})})},yb=({isOpen:c,onClose:f,hero:d,actions:o})=>{const[m,u]=Ta.useState(!1),[h,b]=Ta.useState("");if(!c||!d)return null;const g=["","","","","","","","","","","","",""],p=()=>{h.trim()&&(o.renameHero(d.id,h.trim()),u(!1))},j={fire:l.jsx(cs,{size:16,className:"text-orange-500"}),water:l.jsx(Wi,{size:16,className:"text-blue-500"}),nature:l.jsx(Ji,{size:16,className:"text-green-500"}),neutral:l.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded-full"}),light:l.jsx("div",{className:"w-4 h-4 bg-yellow-100 rounded-full shadow-[0_0_10px_yellow]"}),dark:l.jsx("div",{className:"w-4 h-4 bg-purple-900 rounded-full shadow-[0_0_10px_purple]"})}[d.element||"neutral"],N=[{key:"hp",label:"Max Health",icon:l.jsx(co,{size:14}),color:"text-green-400"},{key:"mp",label:"Max Mana",icon:l.jsx(_a,{size:14}),color:"text-blue-400"},{key:"attack",label:"Attack",icon:l.jsx(hl,{size:14}),color:"text-red-400"},{key:"defense",label:"Defense",icon:l.jsx(Ol,{size:14}),color:"text-yellow-400"},{key:"magic",label:"Magic",icon:l.jsx(_a,{size:14}),color:"text-purple-400"},{key:"speed",label:"Speed",icon:l.jsx(cb,{size:14}),color:"text-cyan-400"}];return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 max-w-2xl w-full mx-4 shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Bt,{size:24})}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"text-4xl shadow-inner bg-gray-800 rounded-xl p-2 border border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",children:d.emoji}),l.jsx("div",{className:"absolute top-full left-0 mt-2 bg-gray-800 border border-gray-700 p-2 rounded-lg grid grid-cols-4 gap-1 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto z-10 transition-opacity shadow-xl",children:g.map(y=>l.jsx("button",{onClick:()=>o.changeHeroEmoji(d.id,y),className:"hover:bg-gray-700 p-1 rounded transition-colors",children:y},y))})]}),l.jsxs("div",{className:"flex-1",children:[m?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{autoFocus:!0,className:"bg-gray-800 border border-blue-500 text-white px-2 py-1 rounded text-xl font-bold w-full",value:h,onChange:y=>b(y.target.value),maxLength:12,placeholder:d.name,onKeyDown:y=>y.key==="Enter"&&p()}),l.jsx("button",{onClick:p,className:"bg-green-600 px-3 rounded text-sm font-bold",children:"OK"}),l.jsx("button",{onClick:()=>u(!1),className:"bg-gray-600 px-3 rounded text-sm",children:"X"})]}):l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 cursor-pointer hover:text-blue-400 transition-colors",onClick:()=>{b(d.name),u(!0)},children:[d.name," ",j]}),l.jsxs("div",{className:"text-gray-400 text-sm",children:[d.class," - Level ",d.level||1]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mb-1",children:[l.jsx("span",{children:"XP Progress"}),l.jsxs("span",{children:[d.xp||0," / ",d.maxXp||100]})]}),l.jsx("div",{className:"w-full h-4 bg-gray-800 rounded-full overflow-hidden border border-gray-700",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-purple-500 transition-all duration-300",style:{width:`${Math.min(100,(d.xp||0)/(d.maxXp||100)*100)}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Attributes"}),l.jsx("span",{className:"text-xs text-gray-500 italic",children:"Stats increase automatically on Level Up based on Class."})]}),l.jsx("div",{className:"space-y-3",children:N.map(y=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-2 rounded",children:[l.jsxs("div",{className:`flex items-center gap-2 ${y.color} font-medium`,children:[y.icon," ",l.jsx("span",{children:y.label})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("span",{className:"text-white font-mono text-lg",children:Math.floor(d.stats[y.key])})})]},y.key))})]}),l.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700 flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Active Skills"}),d.skills&&d.skills.filter(y=>y.type==="active").length>0?l.jsx("div",{className:"space-y-2",children:d.skills.filter(y=>y.type==="active").map(y=>l.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-600 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-cyan-300",children:y.name}),l.jsx("div",{className:"text-xs text-gray-400",children:y.description})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"text-xs text-gray-500 block",children:["CD: ",y.cooldown,"s"]}),l.jsxs("span",{className:"text-xs text-blue-400 block",children:["Lvl ",y.unlockLevel]})]})]},y.id))}):l.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"No active skills unlocked."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Passive Skills"}),d.skills&&d.skills.filter(y=>y.type==="passive").length>0?l.jsx("div",{className:"space-y-2",children:d.skills.filter(y=>y.type==="passive").map(y=>l.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-600",children:[l.jsx("div",{className:"font-bold text-yellow-300",children:y.name}),l.jsx("div",{className:"text-xs text-gray-400",children:y.description})]},y.id))}):l.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"No passive skills unlocked."})]})]})]})]})})},vb=({heroes:c,actions:f,activeSynergies:d=[],onOpenGear:o})=>{const[m,u]=z.useState(null),[h,b]=z.useState(null),g=j=>!d||d.length===0?[]:d.filter(N=>{const y=wd.find(v=>v.id===N.id);return y?!!(y.classSet&&y.classSet.includes(j.class)||y.elements&&y.elements.includes(j.element)||y.classes&&y.classes.includes(j.class)||y.minCount&&!y.classSet&&!y.classes&&!y.elements):!1}),p=j=>{switch(j){case"burn":return l.jsx(cs,{size:10,className:"text-orange-500"});case"freeze":return l.jsx(Wi,{size:10,className:"text-cyan-400"});case"mitigation":return l.jsx(Ol,{size:10,className:"text-yellow-500"});case"cd_reduction":return l.jsx(_a,{size:10,className:"text-purple-400"});case"crit_dmg":return l.jsx(hl,{size:10,className:"text-red-500"});default:return l.jsx(_a,{size:10,className:"text-yellow-200"})}};return l.jsxs("div",{className:"flex-1 bg-gray-800 p-2 overflow-y-auto no-scrollbar grid grid-cols-2 md:grid-cols-3 gap-2 border-t-4 border-gray-600",children:[l.jsx(bb,{isOpen:!!m,onClose:()=>u(null),hero:m,actions:f}),l.jsx(yb,{isOpen:!!h,onClose:()=>b(null),hero:h,actions:f}),c.map(j=>{const N=g(j);return l.jsxs("div",{className:`relative p-2 rounded border-2 flex flex-col gap-1 transition-all ${j.unlocked?j.isDead?"border-red-900 bg-red-950 opacity-70":"border-gray-600 bg-gray-700 hover:bg-gray-600":"opacity-50 border-gray-700 bg-gray-900 pointer-events-none grayscale"}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xl",role:"img","aria-label":j.name,children:j.emoji}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:`text-xs font-bold ${j.isDead?"text-red-500":"text-white"}`,children:j.name}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[10px] text-gray-400",children:j.class}),(j.fatigue||0)>=50&&l.jsx(ax,{size:10,className:(j.fatigue||0)>=80?"text-red-500 animate-pulse":"text-yellow-500"})]})]})]}),j.unlocked&&l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>u(j),className:"p-1 rounded bg-slate-800 text-cyan-400 hover:text-cyan-200 border border-slate-600",title:"Edit AI Tactics",children:l.jsx(Km,{size:10})}),l.jsx("button",{onClick:()=>f.toggleAssignment(j.id),className:`p-1 rounded border ${j.assignment==="combat"?"bg-red-900 border-red-500 text-red-200":"bg-blue-900 border-blue-500 text-blue-200"}`,children:j.assignment==="combat"?l.jsx(hl,{size:10}):l.jsx(p1,{size:10})}),l.jsx("button",{onClick:()=>f.toggleCorruption(j.id),className:`p-1 rounded border ${j.corruption?"bg-purple-900 border-purple-500 text-purple-200 animate-pulse":"bg-gray-800 border-gray-600 text-gray-500"}`,title:"Corrupt Hero (+100% ATK, -50% HP/DEF)",children:l.jsx($a,{size:10})}),l.jsx("button",{onClick:()=>o(j),className:"p-1 rounded bg-yellow-900 border border-yellow-500 text-yellow-200",title:"Manage Equipment",children:l.jsx(Ol,{size:10})}),l.jsx("button",{onClick:()=>b(j),className:"p-1 rounded bg-green-900 border border-green-500 text-green-200",title:"View Stats & Skills",children:l.jsx(Sd,{size:10})}),j.level>=50&&l.jsx("button",{onClick:()=>f.evolveHero(j.id),className:"p-1 rounded bg-gradient-to-tr from-yellow-600 to-yellow-300 border border-yellow-100 text-yellow-900 animate-pulse shadow-[0_0_10px_rgba(234,179,8,0.5)]",title:"Evolve Hero (Reset Lv to 1, Massive Stats!)",children:l.jsx(In,{size:10})})]})]}),j.unlocked&&l.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[l.jsx("div",{className:"w-full h-1.5 bg-gray-900 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-300 ${j.isDead?"bg-red-900":"bg-green-500"}`,style:{width:`${j.stats.hp/j.stats.maxHp*100}%`}})}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-2 text-[9px] text-gray-300 mt-1",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(hl,{size:8,className:"text-red-400"})," ",j.stats.attack]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ol,{size:8,className:"text-yellow-400"})," ",j.stats.defense]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_a,{size:8,className:"text-blue-400"})," ",j.stats.magic]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(co,{size:8,className:"text-pink-400"})," ",Math.floor(j.stats.hp)]})]}),N.length>0&&j.assignment==="combat"&&l.jsx("div",{className:"flex gap-1 mt-1 border-t border-gray-700 pt-1 justify-end",children:N.map(y=>l.jsx("div",{title:`Contributes to: ${y.name}`,className:"bg-black bg-opacity-50 rounded p-0.5 border border-gray-700",children:p(y.type)},y.id))})]})]},j.id)})]})},jb=({activeSynergies:c,suggestions:f=[],className:d,onClose:o})=>{const m=c.filter(b=>["burn","freeze","steam","overload"].includes(b.type)),u=c.filter(b=>!["burn","freeze","steam","overload"].includes(b.type)),h=b=>{switch(b){case"burn":return l.jsx(cs,{className:"text-orange-500",size:16});case"freeze":return l.jsx(Wi,{className:"text-cyan-400",size:16});case"steam":return l.jsx(_a,{className:"text-gray-300",size:16});case"damage_mitigation":return l.jsx(Ol,{className:"text-yellow-500",size:16});case"cd_reduction":return l.jsx(_a,{className:"text-purple-400",size:16});case"crit_dmg":return l.jsx(hl,{className:"text-red-500",size:16});default:return l.jsx(Ji,{className:"text-green-500",size:16})}};return l.jsxs("div",{className:`absolute top-16 right-4 w-64 bg-gray-900 border border-yellow-500 rounded p-4 shadow-2xl z-50 ${d}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-700 pb-2",children:[l.jsx("h3",{className:"text-yellow-400 font-bold text-sm tracking-wider",children:"TACTICAL INTEL"}),l.jsx("button",{onClick:o,className:"text-gray-500 hover:text-white text-xs",children:"[CLOSE]"})]}),c.length===0&&f.length===0&&l.jsx("div",{className:"text-gray-500 text-xs text-center italic py-4",children:"No active synergies detected."}),m.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-gray-400 text-xs font-bold mb-2 uppercase",children:"Elemental Reactions"}),l.jsx("div",{className:"space-y-2",children:m.map(b=>l.jsxs("div",{className:"bg-black bg-opacity-40 p-2 rounded flex items-center gap-2 border-l-2 border-orange-500",children:[h(b.type),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-white",children:b.name}),l.jsx("div",{className:"text-[10px] text-gray-400",children:b.description})]})]},b.id))})]}),u.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-gray-400 text-xs font-bold mb-2 uppercase",children:"Formation Bonuses"}),l.jsx("div",{className:"space-y-2",children:u.map(b=>l.jsxs("div",{className:"bg-black bg-opacity-40 p-2 rounded flex items-center gap-2 border-l-2 border-blue-500",children:[h(b.type),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-white",children:b.name}),l.jsx("div",{className:"text-[10px] text-gray-400",children:b.description})]})]},b.id))})]}),f.length>0&&l.jsxs("div",{className:"animate-pulse",children:[l.jsxs("h4",{className:"text-green-400 text-xs font-bold mb-2 uppercase flex items-center gap-1",children:[l.jsx(_a,{size:12})," Opportunities"]}),l.jsx("div",{className:"space-y-2",children:f.map((b,g)=>l.jsx("div",{className:"bg-green-900 bg-opacity-20 border border-green-700 p-2 rounded text-xs text-green-100",children:b},g))})]}),c.length>0&&f.length===0&&l.jsx("div",{className:"mt-4 text-[10px] text-center text-gray-600",children:"Max synergy efficiency reached?"})]})},Nb=c=>c==="fire"?l.jsx(cs,{size:12,className:"text-red-400"}):c==="water"?l.jsx(Wi,{size:12,className:"text-blue-400"}):c==="nature"?l.jsx(Ji,{size:12,className:"text-green-400"}):null,wb=({boss:c,dungeonActive:f,dungeonTimer:d,ultimateCharge:o,pets:m,artifacts:u,actions:h,partyDps:b=0,partyPower:g=0,combatEvents:p=[],suggestions:j=[],synergies:N=[]})=>{const[y,v]=Ta.useState([]),[_,H]=Ta.useState(!1),q=Ta.useRef(null);return Ta.useEffect(()=>{const M=p[p.length-1];if(M&&M.id!==q.current){q.current=M.id;let O="text-white text-lg";M.type==="reaction"?O="text-orange-500 font-extrabold text-2xl animate-bounce shadow-black drop-shadow-md":M.type==="status"?O="text-cyan-400 font-bold text-xl shadow-black drop-shadow-sm":M.isCrit?O="text-yellow-400 font-bold text-xl":M.type==="heal"&&(O="text-green-400 font-bold text-lg");const P={id:M.id,text:M.text,x:M.x||50+Math.random()*10-5,y:M.y||40,color:O,age:0};v(ye=>[...ye,P])}},[p]),Ta.useEffect(()=>{const M=setInterval(()=>{v(O=>O.map(P=>({...P,age:P.age+1,y:P.y-1})).filter(P=>P.age<20))},50);return()=>clearInterval(M)},[]),l.jsxs("div",{className:"flex-1 relative bg-gray-900 flex flex-col justify-between p-4 overflow-hidden",id:"battle-field",children:[y.map(M=>l.jsx("div",{className:`absolute pointer-events-none transition-opacity duration-300 ${M.color}`,style:{left:`${M.x}%`,top:`${M.y}%`,opacity:1-M.age/20},children:M.text},M.id)),l.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex justify-between items-end",children:[l.jsxs("div",{className:"bg-black bg-opacity-50 p-1 rounded text-xs font-mono text-yellow-300",children:["DPS: ",Xe(b||0)," | PWR: ",Xe(g||0)]}),l.jsxs("div",{className:"flex gap-1 items-end",children:[l.jsx("button",{onClick:()=>H(!_),className:`p-1 rounded text-xs border ${_?"bg-yellow-600 border-yellow-300 text-black font-bold":"bg-gray-800 border-gray-600 text-gray-400 hover:text-white"}`,title:"Toggle Tactical Intel",children:"INTEL"}),N?.some(M=>["burn","freeze","steam","overload"].includes(M.type))&&l.jsx("div",{className:"animate-pulse text-xs font-bold text-orange-400 bg-black bg-opacity-50 px-1 rounded ml-1",children:"REACTION ACTIVE"})]}),_&&l.jsx(jb,{activeSynergies:N||[],suggestions:j||[],onClose:()=>H(!1),className:"bottom-12 right-0"})]}),l.jsx("div",{className:"absolute top-2 left-2 flex gap-1 z-20 flex-wrap max-w-[200px]",children:u.map(M=>l.jsx("div",{className:"w-5 h-5 bg-yellow-900 border border-yellow-500 rounded flex items-center justify-center text-[10px] cursor-help",title:M.name,children:M.emoji},M.id))}),l.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none flex justify-center items-center",children:l.jsx(hl,{className:"w-64 h-64"})}),l.jsxs("div",{className:"flex flex-col items-center justify-center mt-2 transition-all",children:[f&&l.jsxs("div",{className:"text-yellow-400 font-bold animate-pulse mb-2",children:["GOLD VAULT: ",Math.floor(d),"s"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`text-6xl md:text-8xl filter drop-shadow-lg grayscale transition-transform ${c.stats.hp<c.stats.maxHp*.9?"animate-pulse":""} ${c.isDead?"scale-0":""}`,children:c.emoji}),l.jsx("div",{className:"text-white opacity-50",title:`Element: ${c.element}`,children:Nb(c.element)}),l.jsxs("div",{className:"flex gap-1",children:[p?.some(M=>M.type==="reaction"&&M.text.includes("BURN")&&Date.now()-parseInt(M.id.split("-")[1]||"0")<3e3)&&l.jsx("span",{title:"Burning",children:l.jsx(cs,{size:16,className:"text-orange-500 animate-pulse"})}),p?.some(M=>M.type==="status"&&M.text.includes("FROZEN")&&Date.now()-parseInt(M.id.split("-")[1]||"0")<3e3)&&l.jsx("span",{title:"Frozen",children:l.jsx(Wi,{size:16,className:"text-cyan-400 animate-pulse"})})]})]}),l.jsxs("div",{className:"w-48 h-4 bg-gray-700 mt-2 bar-container relative rounded",children:[l.jsx("div",{className:"h-full bg-red-600 transition-all duration-300",style:{width:`${c.stats.hp/c.stats.maxHp*100}%`}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] text-white z-10",children:[c.stats.hp,"/",c.stats.maxHp]})]}),l.jsx("div",{className:"w-48 h-1 bg-gray-800 mt-1 relative rounded overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-100 ${o>=100?"bg-cyan-400 animate-pulse":"bg-cyan-800"}`,style:{width:`${o}%`}})}),l.jsx("div",{className:"mt-2 text-xs font-mono text-gray-400 flex flex-col items-center",children:l.jsxs("span",{className:"text-red-400 font-bold",children:[b.toLocaleString()," DPS"]})})]}),l.jsxs("div",{className:"absolute top-1/2 left-2 transform -translate-y-1/2 flex flex-col gap-2 z-20 max-h-[80%] overflow-y-auto w-24 no-scrollbar",children:[m&&m.length>0&&l.jsxs("div",{className:"flex flex-col gap-1 mb-2 bg-black bg-opacity-50 p-1 rounded",children:[l.jsx("span",{className:"text-[8px] text-center text-gray-300 font-bold",children:"FEAST"}),l.jsx("button",{onClick:()=>h.feedPet("gold","all"),className:"bg-yellow-700 text-[8px] text-white rounded hover:bg-yellow-600 px-1",children:"G (5k)"}),l.jsx("button",{onClick:()=>h.feedPet("souls","all"),className:"bg-purple-800 text-[8px] text-white rounded hover:bg-purple-700 px-1",children:"S (500)"})]}),m&&[...m].sort((M,O)=>O.level-M.level).map(M=>l.jsxs("div",{className:"flex flex-col items-center opacity-90 group relative",children:[l.jsx("div",{className:"text-3xl filter drop-shadow hover:scale-110 transition-transform cursor-pointer animate-bounce",title:`Lvl ${M.level} ${M.name}`,children:M.emoji}),l.jsxs("div",{className:"hidden group-hover:flex absolute left-full top-0 ml-2 bg-black bg-opacity-90 p-2 rounded border border-yellow-500 flex-col z-50 whitespace-nowrap",children:[l.jsxs("span",{className:"font-bold text-yellow-400",children:[M.name," (Lvl ",M.level,")"]}),l.jsx("span",{className:"text-xs text-gray-300",children:M.bonus})]}),l.jsxs("div",{className:"flex flex-col items-center bg-black bg-opacity-50 p-1 rounded backdrop-blur-sm mt-1 w-full",children:[l.jsxs("span",{className:"text-[8px] text-orange-300 font-bold mb-0.5",children:["Lvl ",M.level]}),l.jsx("div",{className:"w-10 h-1 bg-gray-700 rounded-full overflow-hidden mb-1",children:l.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${M.xp/M.maxXp*100}%`}})}),l.jsxs("div",{className:"flex gap-1 opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>h.feedPet("gold",M.id),className:"w-4 h-4 bg-yellow-600 rounded flex items-center justify-center text-[6px] text-white hover:bg-yellow-500",title:"Feed 100 Gold",disabled:!1,children:"$"}),l.jsx("button",{onClick:()=>h.feedPet("souls",M.id),className:"w-4 h-4 bg-purple-600 rounded flex items-center justify-center text-[6px] text-white hover:bg-purple-500",title:"Feed 10 Souls",children:"S"})]})]})]},M.id))]})]})},Sb=({logs:c,onShowHistory:f})=>{const d=z.useRef(null);return z.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[c]),l.jsxs("div",{className:"h-32 bg-black border-t-4 border-gray-600 p-2 text-[10px] md:text-xs text-green-400 font-mono leading-relaxed relative flex flex-col",children:[l.jsx("button",{onClick:f,className:"absolute top-1 right-2 text-gray-500 hover:text-white text-[10px] uppercase font-bold z-10 bg-gray-900 px-1 border border-gray-700",children:"History"}),l.jsx("div",{ref:d,className:"overflow-y-auto custom-scroll flex-1",children:c.slice(-10).map(o=>l.jsxs("div",{style:{color:o.type==="damage"?"#f87171":o.type==="heal"?"#4ade80":o.type==="death"?"#fbbf24":o.type==="achievement"?"#fcd34d":"#9ca3af"},children:[">"," ",o.message]},o.id))})]})},Mb=({isOpen:c,onClose:f,actions:d,souls:o,talents:m,boss:u})=>{const[h,b]=Ta.useState(1);return c?l.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-gray-900 border-4 border-purple-500 w-full max-w-lg p-4 rounded-lg shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-center text-purple-400 text-xl font-bold mb-4 flex items-center justify-center gap-2",children:[l.jsx(Pn,{})," SOUL TALENT SHOP"]}),l.jsxs("div",{className:"flex justify-between items-center mb-4 bg-gray-800 p-2 rounded",children:[l.jsxs("div",{className:"text-white",children:["Souls: ",l.jsx("span",{className:"text-purple-400 font-bold",children:o})]}),l.jsx("div",{className:"flex gap-1",children:[1,10,100].map(g=>l.jsxs("button",{onClick:()=>b(g),className:`px-2 py-1 text-xs rounded border ${h===g?"bg-purple-600 border-purple-400 text-white":"bg-gray-700 border-gray-600 text-gray-400"}`,children:["x",g]},g))})]}),o>1e3&&l.jsx("div",{className:"mb-4 bg-yellow-900 p-2 rounded border border-yellow-500 text-center animate-pulse",children:l.jsx("button",{onClick:d.triggerAscension,className:"text-yellow-300 font-bold w-full uppercase",children:"Ascend (Get Divinity)"})}),l.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[40vh] overflow-y-auto mb-4",children:m.map(g=>l.jsxs("div",{className:"bg-gray-800 p-3 rounded flex justify-between items-center border border-gray-700",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-yellow-300 font-bold text-sm",children:[g.name," ",l.jsxs("span",{className:"text-xs text-gray-500",children:["(Lvl ",g.level,"/",g.maxLevel,")"]})]}),l.jsx("div",{className:"text-[10px] text-gray-400",children:g.description})]}),l.jsx("button",{onClick:()=>d.buyTalent(g.id,h),disabled:o<g.cost||g.level>=g.maxLevel,className:`text-[10px] px-3 py-1 rounded border ${o>=g.cost&&g.level<g.maxLevel?"bg-purple-600 border-purple-400 hover:bg-purple-500":"bg-gray-700 border-gray-600 opacity-50"}`,children:g.level>=g.maxLevel?"MAX":`Upgrade x${h} (~${g.cost*h})`})]},g.id))}),u.level>10&&l.jsxs("div",{className:"mt-2 text-center border-t border-gray-600 pt-2",children:[l.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Stuck? Reset for Souls."}),l.jsxs("button",{onClick:d.triggerRebirth,className:"btn-retro bg-red-900 text-red-200 border border-red-500 px-6 py-2 rounded hover:bg-red-800 w-full",children:["REBIRTH ( +",Math.floor(u.level/5)," Souls )"]})]})]})}):null};function kb({gold:c,onWin:f,onLose:d}){const[o,m]=z.useState(10),[u,h]=z.useState([1,1]),[b,g]=z.useState(!1),[p,j]=z.useState("Roll > 7 to Win (2x)!"),N=()=>{if(c<o){j("Not enough gold!");return}if(b)return;g(!0),j("Rolling...");let v=0;const _=setInterval(()=>{h([Math.ceil(Math.random()*6),Math.ceil(Math.random()*6)]),v++,v>10&&(clearInterval(_),y())},100)},y=()=>{const v=Math.ceil(Math.random()*6),_=Math.ceil(Math.random()*6);h([v,_]),g(!1);const H=v+_;H>7?(j(`You rolled ${H}! You Win! (+${o})`),f(o)):H===7?j("You rolled 7! Push. (Gold returned)"):(j(`You rolled ${H}. You Lose. (-${o})`),d(o))};return l.jsxs("div",{className:"bg-black/40 p-4 rounded border border-amber-900/50 flex flex-col items-center gap-3",children:[l.jsxs("h3",{className:"text-amber-500 font-bold flex items-center gap-2",children:[l.jsx(Mg,{size:16})," High Roller Dice"]}),l.jsxs("div",{className:"flex gap-4 my-2",children:[l.jsx("div",{className:`w-12 h-12 bg-white rounded flex items-center justify-center text-2xl text-black font-bold shadow-lg ${b?"animate-bounce":""}`,children:u[0]}),l.jsx("div",{className:`w-12 h-12 bg-white rounded flex items-center justify-center text-2xl text-black font-bold shadow-lg ${b?"animate-bounce delay-75":""}`,children:u[1]})]}),l.jsx("div",{className:"text-sm font-mono h-6 text-yellow-300",children:p}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Bet:"}),l.jsx("input",{type:"number",value:o,onChange:v=>m(Math.max(1,parseInt(v.target.value)||0)),className:"w-20 bg-gray-900 border border-gray-700 rounded px-2 py-1 text-sm text-center",min:"1",max:c}),l.jsx("button",{onClick:N,disabled:b||c<o,className:"btn-retro bg-amber-600 text-white px-4 py-1 rounded disabled:opacity-50 hover:bg-amber-500",children:"ROLL"})]})]})}function Cb({heroes:c,gold:f,summonTavern:d,onClose:o,setGold:m}){const u=b=>m(g=>g+b),h=b=>m(g=>g-b);return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg max-w-lg w-full border border-amber-600 relative flex flex-col gap-4 shadow-xl",children:[l.jsx("button",{onClick:o,className:"absolute top-2 right-2 text-gray-400 hover:text-white",children:l.jsx(Bt,{size:20})}),l.jsxs("h2",{className:"text-2xl font-bold text-amber-500 mb-2 flex items-center gap-2",children:[l.jsx(ti,{})," The Tavern"]}),l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-gray-700",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2 border-b border-gray-600 pb-1",children:"Recruit Heroes"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>d(1),className:"flex-1 btn-retro bg-amber-700 hover:bg-amber-600 text-white py-2 rounded",children:"Summon 1 (100g)"}),l.jsx("button",{onClick:()=>d(10),className:"flex-1 btn-retro bg-amber-900 hover:bg-amber-800 text-white py-2 rounded",children:"Summon 10 (1000g)"})]}),l.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:[l.jsx(Sd,{size:12})," Current Roster: ",c.length," Heroes"]})]}),l.jsx(kb,{gold:f,onWin:u,onLose:h})]})]})})}function Db({onMine:c}){const[f,d]=z.useState(10),[o,m]=z.useState(10),[u,h]=z.useState(!1),b=()=>{h(!0),setTimeout(()=>h(!1),100),d(p=>{const j=p-1;return j<=0?(g(),m(10),10):j})},g=()=>{const p=Math.random();let j="copper",N=1;p>.95?(j="mithril",N=1):p>.7?(j="iron",N=2):(j="copper",N=5),c(j,N)};return l.jsxs("div",{className:"bg-black/40 p-4 rounded border border-slate-700 flex flex-col items-center gap-3",children:[l.jsxs("h3",{className:"text-slate-400 font-bold flex items-center gap-2",children:[l.jsx(ai,{size:16})," Active Mining"]}),l.jsx("div",{className:"relative group cursor-pointer",onClick:b,children:l.jsx("div",{className:`text-6xl transition-transform duration-75 select-none ${u?"scale-90 rotate-2":"hover:scale-105"}`,children:""})}),l.jsx("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden border border-gray-600",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-orange-800 to-stone-500 transition-all duration-75",style:{width:`${f/o*100}%`}})}),l.jsx("div",{className:"text-[10px] text-gray-500",children:"Click to break!"})]})}function Ab({resources:c,forgeUpgrade:f,onClose:d,setResources:o}){const m=(u,h)=>{o(b=>({...b,[u]:b[u]+h}))};return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg max-w-2xl w-full border border-orange-700 relative flex flex-col gap-4 shadow-xl",children:[l.jsx("button",{onClick:d,className:"absolute top-2 right-2 text-gray-400 hover:text-white",children:l.jsx(Bt,{size:20})}),l.jsxs("h2",{className:"text-2xl font-bold text-orange-500 flex items-center gap-2",children:[l.jsx(ai,{})," The Forge"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("h3",{className:"font-bold text-gray-300 border-b border-gray-700 pb-1",children:"Equipment Upgrades"}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-800 p-3 rounded border border-gray-700",children:[l.jsx("span",{className:"text-orange-300 text-sm",children:"Copper Set (+10 Stats)"}),l.jsx("button",{onClick:()=>f("copper"),className:"btn-retro bg-orange-700 hover:bg-orange-600 text-white px-3 py-1 rounded text-xs",children:"Forge (100 Cu)"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-800 p-3 rounded border border-gray-700",children:[l.jsx("span",{className:"text-slate-300 text-sm",children:"Iron Set (+25 Stats)"}),l.jsx("button",{onClick:()=>f("iron"),className:"btn-retro bg-slate-600 hover:bg-slate-500 text-white px-3 py-1 rounded text-xs",children:"Forge (50 Fe)"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-800 p-3 rounded border border-gray-700",children:[l.jsx("span",{className:"text-cyan-300 text-sm",children:"Mithril Set (+50 Stats)"}),l.jsx("button",{onClick:()=>f("mithril"),className:"btn-retro bg-cyan-700 hover:bg-cyan-600 text-white px-3 py-1 rounded text-xs",children:"Forge (10 Mi)"})]})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("h3",{className:"font-bold text-gray-300 border-b border-gray-700 pb-1",children:"Deep Mine"}),l.jsx(Db,{resources:c,onMine:m})]})]})]})})}const Tb=({isOpen:c,onClose:f,divinity:d,constellations:o,actions:m})=>c?l.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-slate-900 border-4 border-cyan-500 w-full max-w-2xl h-[80vh] p-4 rounded-lg shadow-2xl relative overflow-hidden",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold z-10",children:"X"}),l.jsxs("h2",{className:"text-center text-cyan-400 text-xl font-bold mb-4 flex items-center justify-center gap-2",children:[l.jsx(Xs,{})," CELESTIAL REALM"]}),l.jsxs("div",{className:"text-center text-white mb-4",children:["Divinity: ",l.jsx("span",{className:"text-cyan-400",children:d})]}),l.jsx("div",{className:"relative w-full h-full bg-slate-950 rounded border border-slate-700",children:o.map(u=>l.jsxs("div",{className:"absolute flex flex-col items-center group cursor-pointer",style:{left:`${u.x}%`,top:`${u.y}%`},onClick:()=>m.buyConstellation(u.id),children:[l.jsx("div",{className:`w-4 h-4 rounded-full ${u.level>0?"bg-cyan-400 shadow-[0_0_10px_cyan]":"bg-gray-600"} transition-all group-hover:scale-125`}),l.jsxs("div",{className:"mt-1 text-[10px] text-white bg-black bg-opacity-50 px-1 rounded whitespace-nowrap",children:[u.name," (Lvl ",u.level,")"]}),l.jsxs("div",{className:"hidden group-hover:block absolute bottom-8 bg-slate-800 p-2 rounded border border-cyan-500 text-xs text-left z-20 w-32",children:[l.jsx("div",{className:"font-bold text-cyan-300",children:u.description}),l.jsxs("div",{children:["Current: +",Math.round(u.level*u.valuePerLevel*100),"%"]}),l.jsxs("div",{className:d>=u.cost&&u.level<u.maxLevel?"text-green-400":"text-red-400",children:["Cost: ",u.level>=u.maxLevel?"MAX":u.cost," Div"]})]})]},u.id))})]})}):null,_b=({isOpen:c,onClose:f,actions:d,autoSellRarity:o,theme:m,importString:u,setImportString:h})=>c?l.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-gray-800 border-4 border-gray-500 w-full max-w-md p-6 rounded-lg text-center relative",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center justify-center gap-2",children:[l.jsx(no,{})," SETTINGS"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-700 p-2 rounded text-left",children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"UI Theme"}),l.jsxs("select",{value:m,onChange:b=>d.setTheme(b.target.value),className:"w-full bg-black text-white p-2 rounded border border-gray-600",children:[l.jsx("option",{value:"default",children:"Default (Classic)"}),l.jsx("option",{value:"midnight",children:"Midnight (Blue)"}),l.jsx("option",{value:"forest",children:"Forest (Green)"}),l.jsx("option",{value:"crimson",children:"Crimson (Red)"}),l.jsx("option",{value:"void",children:"Void (Purple)"})]})]}),l.jsxs("div",{className:"bg-gray-700 p-2 rounded text-left",children:[l.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Auto-Sell Threshold (Requires Auto-Loader)"}),l.jsxs("select",{value:o,onChange:b=>d.setAutoSellRarity(b.target.value),className:"w-full bg-black text-white p-2 rounded border border-gray-600",children:[l.jsx("option",{value:"none",children:"Keep All"}),l.jsx("option",{value:"common",children:"Auto-Sell Common"}),l.jsx("option",{value:"rare",children:"Auto-Sell Common & Rare"})]})]}),l.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(d.exportSave()),alert("Save copied to clipboard!")},className:"btn-retro bg-blue-600 text-white w-full py-3 flex items-center justify-center gap-2",children:[l.jsx(_g,{size:16})," EXPORT SAVE TO CLIPBOARD"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Paste Save String...",className:"bg-gray-900 border border-gray-600 text-white px-2 py-1 flex-1 rounded text-xs",value:u,onChange:b=>h(b.target.value)}),l.jsxs("button",{onClick:()=>d.importSave(u),className:"btn-retro bg-green-600 text-white px-4 py-1 rounded flex items-center gap-1",children:[l.jsx(P1,{size:16})," IMPORT"]})]}),l.jsxs("button",{onClick:()=>{confirm("Are you sure? This wipes everything.")&&d.resetSave()},className:"btn-retro bg-red-600 text-white w-full py-2 flex items-center justify-center gap-2 mt-8 opacity-70 hover:opacity-100",children:[l.jsx(S1,{size:16})," HARD RESET"]})]})]})}):null,zb=({isOpen:c,onClose:f,items:d})=>c?l.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-slate-900 border-4 border-slate-500 w-full max-w-lg p-6 rounded-lg shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-slate-400 text-2xl font-bold mb-4 flex items-center justify-center gap-2",children:[l.jsx(Zm,{})," INVENTORY (",d.length,")"]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[d.map(o=>l.jsxs("div",{className:"w-16 h-16 bg-slate-800 border border-slate-600 rounded flex flex-col items-center justify-center p-1 relative group hover:border-white cursor-pointer",children:[l.jsx("div",{className:"text-xl",children:o.type==="weapon"?"":""}),l.jsx("div",{className:`text-[10px] font-bold ${o.rarity==="legendary"?"text-orange-400":o.rarity==="epic"?"text-purple-400":o.rarity==="rare"?"text-blue-400":"text-gray-300"}`,children:o.value}),l.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-black border border-white p-2 text-xs z-50 whitespace-nowrap rounded",children:[l.jsx("div",{className:"font-bold",children:o.name}),l.jsxs("div",{children:["+",o.value," ",o.stat]}),o.runes.length>0&&l.jsxs("div",{className:"text-purple-300",children:["Runes: ",o.runes.length]})]})]},o.id)),Array.from({length:Math.max(0,16-d.length)}).map((o,m)=>l.jsx("div",{className:"w-16 h-16 bg-slate-900 border border-slate-800 rounded opacity-50"},`empty-${m}`))]})]})}):null,Eb=({isOpen:c,onClose:f,monsterKills:d,cards:o})=>{if(!c)return null;const m=Object.values(d).reduce((b,g)=>b+g,0),u=Object.keys(d).length,h=Math.round(u/Vs.length*100);return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border-2 border-amber-700 w-full max-w-4xl max-h-[90vh] flex flex-col rounded-xl shadow-2xl relative overflow-hidden",children:[l.jsxs("div",{className:"bg-amber-900/40 p-6 border-b border-amber-800 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-amber-950 p-3 rounded-lg border border-amber-600 shadow-inner",children:l.jsx(bd,{className:"text-amber-400",size:32})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-100 font-serif tracking-wider",children:"Bestiary"}),l.jsxs("p",{className:"text-amber-400/80 text-sm font-mono flex items-center gap-3",children:[l.jsxs("span",{children:["Discovered: ",u,"/",Vs.length," (",h,"%)"]}),l.jsx("span",{className:"w-1 h-1 bg-amber-600 rounded-full"}),l.jsxs("span",{children:["Total Slain: ",m]})]})]})]}),l.jsx("button",{onClick:f,className:"text-amber-400 hover:text-white p-2 hover:bg-amber-800/50 rounded-full transition-colors",children:l.jsx(Bt,{size:28})})]}),l.jsx("div",{className:"overflow-y-auto p-6 custom-scrollbar text-amber-100 flex-1 bg-[url('https://www.transparenttextures.com/patterns/dark-leather.png')]",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Vs.map(b=>{const g=d[b.name]||0,p=g>0,j=o.find(y=>y.monsterName===b.name),N=!!j;return l.jsxs("div",{className:`
                                        relative group p-4 rounded-lg border-2 transition-all duration-300
                                        ${p?"bg-gray-800/80 border-amber-700 hover:border-amber-400 hover:bg-gray-800 hover:shadow-lg hover:shadow-amber-900/20 hover:-translate-y-1":"bg-gray-900/50 border-gray-800 opacity-60 grayscale"}
                                    `,children:[l.jsxs("div",{className:"flex flex-col items-center mb-3",children:[l.jsx("div",{className:`
                                            w-16 h-16 flex items-center justify-center text-4xl bg-gradient-to-br rounded-full shadow-inner mb-2
                                            ${p?"from-gray-700 to-gray-800 border border-gray-600":"from-gray-800 to-gray-900 border border-gray-700 text-gray-600"}
                                        `,children:p?b.emoji:"?"}),l.jsx("h3",{className:`font-bold text-lg text-center ${p?"text-amber-100":"text-gray-500"}`,children:p?b.name:"Unknown"})]}),p?l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center bg-gray-900/50 rounded px-2 py-1",children:[l.jsxs("span",{className:"text-gray-400 flex items-center gap-1",children:[l.jsx($a,{size:12})," Kills"]}),l.jsx("span",{className:"text-white font-mono",children:g})]}),l.jsxs("div",{className:`
                                                flex justify-between items-center rounded px-2 py-1 border
                                                ${N?"bg-amber-900/20 border-amber-700 text-amber-200":"bg-gray-900/30 border-gray-700 text-gray-500"}
                                            `,children:[l.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[l.jsx(t1,{size:12})," Card"]}),N?l.jsxs("span",{className:"font-bold text-xs bg-amber-600 text-white px-1.5 rounded",children:["Lv ",j.count]}):l.jsx("span",{className:"text-[10px]",children:"Not Found"})]}),N&&l.jsxs("div",{className:"text-[10px] text-center text-amber-400/80 mt-1",children:["+",Math.round(j.value*100*j.count),"% ",j.stat.toUpperCase()]})]}):l.jsxs("div",{className:"text-center text-gray-600 text-xs py-4 flex flex-col items-center gap-1",children:[l.jsx(Im,{size:16}),l.jsx("span",{children:"Defeat to unlock"})]})]},b.name)})})})]})})},Hb=({isOpen:c,onClose:f,stats:d})=>{if(!c)return null;const o=m=>{const u=Math.floor(m/3600),h=Math.floor(m%3600/60),b=Math.floor(m%60);return`${u}h ${h}m ${b}s`};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-slate-900 border-2 border-indigo-500 w-full max-w-lg p-6 rounded-xl shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Bt,{size:24})}),l.jsxs("h2",{className:"text-3xl font-bold text-indigo-400 mb-6 flex items-center gap-3",children:[l.jsx(Jm,{size:32})," Lifetime Statistics"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx(Jn,{icon:l.jsx(ti,{size:20,className:"text-yellow-400"}),label:"Total Gold Earned",value:Xe(d.totalGoldEarned)}),l.jsx(Jn,{icon:l.jsx($a,{size:20,className:"text-red-400"}),label:"Total Kills",value:Xe(d.totalKills)}),l.jsx(Jn,{icon:l.jsx($a,{size:20,className:"text-purple-400"}),label:"Boss Kills",value:Xe(d.bossKills)}),l.jsx(Jn,{icon:l.jsx(c1,{size:20,className:"text-blue-400"}),label:"Total Clicks",value:Xe(d.clicks)}),l.jsx(Jn,{icon:l.jsx(xn,{size:20,className:"text-orange-400"}),label:"Total Damage Dealt",value:Xe(d.totalDamageDealt)}),l.jsx(Jn,{icon:l.jsx(ei,{size:20,className:"text-green-400"}),label:"Play Time",value:o(d.playTime)})]})]})})},Jn=({icon:c,label:f,value:d})=>l.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-4 rounded-lg border border-slate-700 hover:border-indigo-500/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 text-slate-300",children:[c,l.jsx("span",{className:"font-medium",children:f})]}),l.jsx("div",{className:"text-xl font-bold text-white font-mono",children:d})]}),Ob=({isOpen:c,onClose:f})=>{const[d,o]=z.useState("basics");return c?l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-slate-900 border-4 border-yellow-500 w-full max-w-2xl h-[80vh] p-6 rounded-lg shadow-2xl relative flex flex-col",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-yellow-400 text-2xl font-bold mb-4 flex items-center justify-center gap-2",children:[l.jsx(Qm,{})," ADVENTURER'S GUIDE"]}),l.jsxs("div",{className:"flex gap-2 mb-4 justify-center",children:[l.jsx("button",{onClick:()=>o("basics"),className:`px-4 py-2 rounded ${d==="basics"?"bg-yellow-600":"bg-gray-700"}`,children:"Basics"}),l.jsx("button",{onClick:()=>o("advanced"),className:`px-4 py-2 rounded ${d==="advanced"?"bg-yellow-600":"bg-gray-700"}`,children:"Advanced"}),l.jsx("button",{onClick:()=>o("automation"),className:`px-4 py-2 rounded ${d==="automation"?"bg-yellow-600":"bg-gray-700"}`,children:"Automation"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto text-gray-300 space-y-4 pr-2",children:[d==="basics"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-white font-bold text-lg border-b border-gray-600 pb-1",children:"Starting Out"}),l.jsx("p",{children:"Your goal is to defeat Bosses and climb Levels. Heroes fight automatically."}),l.jsxs("p",{children:["Spend ",l.jsx("strong",{className:"text-yellow-400",children:"Gold"})," to Summon new heroes at the Tavern."]}),l.jsxs("p",{children:["Collect ",l.jsx("strong",{className:"text-purple-400",children:"Souls"})," by defeating enemies. Spend Souls in the Shop (Ghost Icon) to buy Talents."]})]}),d==="advanced"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-white font-bold text-lg border-b border-gray-600 pb-1",children:"Ascension & Divinity"}),l.jsxs("p",{children:["Reset your progress to gain ",l.jsx("strong",{className:"text-cyan-400",children:"Divinity"}),". Divinity increases all damage exponentially."]}),l.jsx("p",{children:"Use Divinity to unlock Constellations in the Star Chart."}),l.jsx("h3",{className:"text-white font-bold text-lg border-b border-gray-600 pb-1 mt-4",children:"The Forge"}),l.jsx("p",{children:"Assign heroes to Mining to collect ore. Use ore to upgrade equipment slots permanently."})]}),d==="automation"&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-white font-bold text-lg border-b border-gray-600 pb-1",children:"Starlight Automation"}),l.jsx("p",{children:"Unlock powerful automation upgrades in the Starlight Menu (Gear/Settings Icon)."}),l.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Scanner Bot:"})," Auto-equips better items."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Auto-Tavern:"})," Hires heroes when affordable."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Lazarus Protocol:"})," Auto-revives dead heroes."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Quest Master:"})," Auto-claims quests."]})]})]})]})]})}):null},Rb=({offlineGains:c,onClose:f})=>c?l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 animate-fade-in",children:l.jsxs("div",{className:"bg-gray-800 border-4 border-yellow-500 p-6 rounded-lg max-w-sm text-center shadow-2xl",children:[l.jsx("h2",{className:"text-2xl text-yellow-400 mb-4 font-bold",children:"WELCOME BACK!"}),l.jsx("div",{className:"text-white whitespace-pre-line mb-6 font-mono text-sm",children:c}),l.jsx("button",{onClick:f,className:"btn-retro bg-green-600 px-6 py-2 rounded text-white hover:bg-green-500 w-full",children:"AWESOME!"})]})}):null,Ub=({onClose:c,dailyQuests:f,gameStats:d,claimLoginReward:o,claimDailyQuest:m,dailyLoginClaimed:u})=>{const[h,b]=z.useState("login"),g=d.loginStreak||1;return z.useEffect(()=>{if(u){const p=setTimeout(()=>b("quests"),0);return()=>clearTimeout(p)}},[u]),l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg max-w-2xl w-full flex flex-col max-h-[80vh] shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 bg-slate-900/50 rounded-t-lg",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-amber-400",children:[l.jsx(Fm,{className:"w-6 h-6"}),"Daily Rewards"]}),l.jsx("button",{onClick:c,className:"p-1 hover:bg-white/10 rounded-full transition-colors",children:l.jsx(Bt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex border-b border-slate-700",children:[l.jsx("button",{onClick:()=>b("login"),className:`flex-1 p-3 font-medium transition-colors ${h==="login"?"bg-slate-700 text-white":"hover:bg-slate-700/50 text-slate-400"}`,children:"Login Bonus"}),l.jsx("button",{onClick:()=>b("quests"),className:`flex-1 p-3 font-medium transition-colors ${h==="quests"?"bg-slate-700 text-white":"hover:bg-slate-700/50 text-slate-400"}`,children:"Daily Quests"})]}),l.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[h==="login"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-slate-400 mb-2",children:"Current Streak"}),l.jsxs("div",{className:"text-4xl font-bold text-amber-400",children:[g," Days"]})]}),l.jsx("div",{className:"grid grid-cols-4 gap-4",children:Zi.map(p=>{const j=g>=p.day,N=g===p.day,y=p.day<g||N&&u;return l.jsxs("div",{className:`relative p-3 rounded-lg border-2 flex flex-col items-center gap-2 text-center transition-all ${N?"border-amber-500 bg-amber-500/10 shadow-[0_0_15px_rgba(245,158,11,0.3)] scale-105":j?"border-green-500/50 bg-green-500/5 opacity-75":"border-slate-700 bg-slate-800 opacity-50"} ${p.day===7?"col-span-4 aspect-video flex-row justify-center gap-8":"aspect-square"}`,children:[l.jsxs("div",{className:"text-xs font-mono uppercase tracking-wider mb-1",children:["Day ",p.day]}),p.day===7?l.jsxs(l.Fragment,{children:[l.jsx(Tm,{className:"w-12 h-12 text-purple-400"}),l.jsx("div",{className:"text-xl font-bold text-purple-200",children:p.label})]}):l.jsxs(l.Fragment,{children:[l.jsx(Tm,{className:`w-8 h-8 ${N?"text-amber-400":j?"text-green-400":"text-slate-500"}`}),l.jsx("div",{className:"text-sm font-bold",children:p.label})]}),N&&!u&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-lg",children:l.jsx("span",{className:"text-xs font-bold text-amber-400 animate-pulse",children:"CLAIM NOW"})}),y&&l.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-black rounded-full p-0.5",children:l.jsx(vd,{className:"w-3 h-3"})})]},p.day)})}),l.jsx("button",{onClick:o,disabled:u,className:`w-full py-3 rounded-lg font-bold text-lg transition-all ${u?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-400 hover:to-orange-500 text-white shadow-lg hover:shadow-amber-500/25"}`,children:u?"Reward Claimed":"Claim Daily Reward"})]}),h==="quests"&&l.jsx("div",{className:"space-y-4",children:f.length===0?l.jsxs("div",{className:"text-center text-slate-400 py-10",children:[l.jsx("p",{children:"No quests available? Check back tomorrow!"}),l.jsx("p",{className:"text-xs opacity-50 mt-2",children:"(Dev Note: Try triggering reset)"})]}):f.map(p=>l.jsxs("div",{className:"bg-slate-700/50 border border-slate-600 rounded-lg p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-bold text-slate-200",children:p.description}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${p.claimed?"bg-green-500/20 text-green-300":"bg-blue-500/20 text-blue-300"}`,children:p.claimed?"COMPLETED":"ACTIVE"})]}),l.jsx("div",{className:"w-full bg-slate-800 h-2 rounded-full overflow-hidden",children:l.jsx("div",{className:"bg-blue-500 h-full transition-all duration-500",style:{width:`${Math.min(100,p.current/p.target*100)}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[l.jsxs("span",{children:[Xe(p.current)," / ",Xe(p.target)]}),l.jsxs("span",{className:"text-amber-400",children:["Reward: ",Xe(p.reward.amount)," ",p.reward.type.toUpperCase()]})]})]}),l.jsx("button",{onClick:()=>m(p.id),disabled:p.claimed||p.current<p.target,className:`ml-4 px-4 py-2 rounded font-bold transition-all ${p.claimed?"bg-transparent text-green-500 border border-green-500/30 cursor-default":p.current>=p.target?"bg-green-500 hover:bg-green-400 text-black shadow-[0_0_10px_rgba(34,197,94,0.4)]":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:p.claimed?l.jsx(vd,{className:"w-5 h-5"}):"Claim"})]},p.id))})]})]})})},Lb=({hero:c,isOpen:f,onClose:d,inventory:o,onEquip:m,onUnequip:u})=>{const[h,b]=z.useState(null);if(!f)return null;const g=y=>y==="weapon"?l.jsx(hl,{size:24}):y==="armor"?l.jsx(Ol,{size:24}):l.jsx(Fi,{size:24}),p=(y,v)=>{const _=c.equipment[y];return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"text-gray-400 text-sm mb-1",children:v}),l.jsxs("div",{onClick:()=>b(h===y?null:y),className:`w-20 h-20 border-2 rounded-lg flex items-center justify-center cursor-pointer relative
                        ${h===y?"border-yellow-400 bg-slate-800":"border-slate-600 bg-slate-900"}
                        ${_?"border-blue-500":""}
                    `,children:[_?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl",children:_.type==="weapon"?"":_.type==="armor"?"":""}),l.jsx("div",{className:"text-[10px] truncate w-16 px-1",children:_.name})]}):l.jsx("div",{className:"opacity-30",children:g(y)}),_&&h===y&&l.jsx("button",{onClick:H=>{H.stopPropagation(),u(c.id,y),b(null)},className:"absolute -top-2 -right-2 bg-red-500 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"x"})]}),_&&l.jsxs("div",{className:"flex flex-col items-center mt-1 w-full",children:[l.jsxs("div",{className:"text-xs text-green-400",children:["+",_.value," ",_.stat]}),l.jsx("div",{className:"w-16 h-1.5 bg-gray-700 rounded-full mt-1 relative overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(100,(_.xp||0)/(_.maxXp||100)*100)}%`}})}),l.jsxs("div",{className:"text-[9px] text-gray-400",children:["Lvl ",_.level||1]})]})]})},j=h?o.filter(y=>y.slot===h||!y.slot&&y.type===h):[],N=new Map;return Object.values(c.equipment).forEach(y=>{y?.setId&&N.set(y.setId,(N.get(y.setId)||0)+1)}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-2xl p-6 rounded-xl shadow-2xl flex gap-6",children:[l.jsxs("div",{className:"w-1/2 flex flex-col gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4 border-b border-slate-700 pb-4",children:[l.jsx("div",{className:"text-4xl",children:c.emoji}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:c.name}),l.jsxs("div",{className:"text-slate-400",children:["Lvl ",c.level," ",c.class]})]})]}),l.jsxs("div",{className:"flex justify-between px-4",children:[p("weapon","Weapon"),p("armor","Armor"),p("accessory","Accessory")]}),l.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-bold text-yellow-400 mb-2",children:"Active Bonuses"}),Array.from(N.entries()).map(([y,v])=>{const _=io.find(q=>q.id===y);if(!_)return null;const H=v>=_.requiredPieces;return l.jsxs("div",{className:`text-sm ${H?"text-green-400":"text-gray-500"}`,children:[_.name," (",v,"/",_.requiredPieces,"): +",_.bonusValue*100,"% ",_.bonusStat]},y)}),N.size===0&&l.jsx("div",{className:"text-gray-500 italic",children:"No set bonuses active."})]})]}),l.jsxs("div",{className:"w-1/2 border-l border-slate-700 pl-6 flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:h?`Select ${h}`:"Select a Slot"}),l.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white",children:"Close"})]}),h?l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar grid grid-cols-3 gap-2 content-start",children:j.length>0?j.map(y=>l.jsxs("div",{onClick:()=>m(c.id,y),className:`
                                        bg-slate-800 border border-slate-600 p-2 rounded cursor-pointer hover:border-white transition-colors relative
                                        ${y.setId?"border-purple-500":""}
                                    `,children:[l.jsx("div",{className:"text-2xl text-center mb-1",children:y.type==="weapon"?"":y.type==="armor"?"":""}),l.jsx("div",{className:`text-xs font-bold text-center truncate ${y.setId?"text-purple-300":"text-white"}`,children:y.name}),l.jsxs("div",{className:"text-[10px] text-green-400 text-center",children:["+",y.value," ",y.stat]}),y.setId&&l.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-purple-500 rounded-full"})]},y.id)):l.jsx("div",{className:"col-span-3 text-center text-gray-500 mt-10",children:"No items for this slot."})}):l.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 italic",children:"Click a slot on the left to equip items."})]})]})})},Bb=({isOpen:c,playTime:f,ascensions:d,onContinue:o})=>{if(!c)return null;const m=Math.floor(f/3600),u=Math.floor(f%3600/60);return l.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center z-[100] backdrop-blur-xl animate-in fade-in duration-1000",children:l.jsxs("div",{className:"max-w-2xl w-full bg-gradient-to-br from-indigo-900 via-purple-900 to-black border-2 border-yellow-500 rounded-2xl p-8 text-center relative shadow-[0_0_100px_rgba(255,215,0,0.3)]",children:[l.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"bg-yellow-500 rounded-full p-6 shadow-[0_0_50px_rgba(255,215,0,0.6)] animate-bounce",children:l.jsx(gl,{size:64,className:"text-black"})})}),l.jsx("h1",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-yellow-100 to-yellow-500 mt-12 mb-4 drop-shadow-lg",children:"VICTORY!"}),l.jsxs("p",{className:"text-2xl text-indigo-200 mb-8 font-light",children:["You have defeated the ",l.jsx("span",{className:"text-purple-400 font-bold",children:"Void Core"})," and saved the multiverse."]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-indigo-500/30",children:[l.jsx("div",{className:"text-indigo-400 text-sm uppercase tracking-wider mb-1",children:"Total Playtime"}),l.jsxs("div",{className:"text-3xl font-mono font-bold text-white",children:[m,"h ",u,"m"]})]}),l.jsxs("div",{className:"bg-black/40 p-4 rounded-lg border border-indigo-500/30",children:[l.jsx("div",{className:"text-indigo-400 text-sm uppercase tracking-wider mb-1",children:"Ascensions"}),l.jsx("div",{className:"text-3xl font-mono font-bold text-white",children:d})]})]}),l.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 p-6 rounded-xl mb-8",children:[l.jsxs("h3",{className:"text-yellow-400 font-bold text-lg mb-2 flex items-center justify-center gap-2",children:[l.jsx(Xs,{size:20})," ENDLESS MODE UNLOCKED ",l.jsx(Xs,{size:20})]}),l.jsx("p",{className:"text-yellow-200/80 text-sm",children:"You can continue playing to reach higher floors, conquer more galaxies, and achieve infinite power."})]}),l.jsxs("button",{onClick:o,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold text-xl rounded-xl shadow-lg transition-all transform hover:scale-105 flex items-center justify-center gap-3",children:[l.jsx(j1,{size:24}),"CONTINUE ENDLESS JOURNEY"]})]})})},Gb=({isOpen:c,onClose:f,tower:d,actions:o,starlight:m})=>c?l.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-indigo-950 border-4 border-indigo-500 w-full max-w-lg p-6 rounded-lg shadow-2xl relative text-center",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-indigo-200 text-2xl font-bold mb-4 flex items-center justify-center gap-2",children:[l.jsx(ro,{})," TOWER OF ETERNITY"]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:["FLOOR ",d.floor]}),l.jsxs("div",{className:"text-indigo-400 text-sm",children:["Max Floor: ",d.maxFloor]})]}),l.jsxs("div",{className:"bg-black bg-opacity-50 p-4 rounded mb-6 border border-indigo-800",children:[l.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Rules of the Tower:"}),l.jsxs("ul",{className:"text-left text-xs text-indigo-300 list-disc pl-5 space-y-1",children:[l.jsx("li",{children:"Enemies do not respawn."}),l.jsx("li",{children:"If your party wipes, you are ejected."}),l.jsx("li",{children:"Difficulty increases exponentially (x1.5 HP per floor)."}),l.jsx("li",{children:"Rewards: Ancient Knowledge (Coming Later)."})]})]}),l.jsxs("div",{className:"bg-red-950 bg-opacity-40 p-3 rounded mb-6 border border-red-700",children:[l.jsxs("div",{className:"text-red-400 font-bold mb-1 uppercase tracking-wider flex items-center justify-center gap-2 text-sm",children:[" Daily Mutator: ",hd().name]}),l.jsx("p",{className:"text-red-200 text-xs italic",children:hd().description})]}),l.jsx("button",{onClick:()=>{o.enterTower(),f()},className:`btn-retro w-full py-4 rounded text-xl font-bold flex items-center justify-center gap-2 ${d.active?"bg-red-600 hover:bg-red-500":"bg-indigo-600 hover:bg-indigo-500"} text-white border-2 border-white`,children:d.active?l.jsxs(l.Fragment,{children:[l.jsx($a,{})," RETREAT"]}):l.jsxs(l.Fragment,{children:[l.jsx(ro,{})," ENTER TOWER"]})}),l.jsxs("div",{className:"mt-6 border-t border-indigo-800 pt-4",children:[l.jsxs("div",{className:"text-yellow-400 font-bold mb-2 text-xl",children:[" Starlight: ",m||0," "]}),l.jsx("button",{onClick:()=>{o.prestigeTower(),f()},className:"w-full bg-cyan-900 hover:bg-cyan-700 text-cyan-100 border border-cyan-500 py-3 rounded font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:d.floor<20,children:" ASCEND (Req: Fl 20)"}),l.jsx("p",{className:"text-xs text-cyan-400 mt-1",children:"Reset Tower to gain Starlight based on Max Floor."})]})]})}):null,Vb=({isOpen:c,onClose:f,guild:d,gold:o,actions:m})=>c?l.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-slate-900 border-4 border-green-600 w-full max-w-4xl max-h-[90vh] overflow-y-auto p-6 rounded-lg shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-white font-bold hover:text-red-500",children:"X"}),l.jsxs("h2",{className:"text-green-400 text-3xl font-bold mb-6 flex items-center justify-center gap-2 border-b border-green-800 pb-2",children:[l.jsx(yd,{size:32})," GUILD HALL"]}),d?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"col-span-1 space-y-4",children:[l.jsxs("div",{className:"bg-green-950/30 border border-green-800 p-4 rounded-lg text-center",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:d.name}),l.jsx("div",{className:"text-green-400 text-sm font-mono mb-4",children:d.bonus}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[l.jsxs("span",{children:["Level ",d.level]}),l.jsxs("span",{children:[Xe(d.members)," Members"]})]}),l.jsx("div",{className:"w-full h-3 bg-black rounded-full overflow-hidden mb-1 relative border border-green-900",children:l.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${d.xp/d.maxXp*100}%`}})}),l.jsxs("div",{className:"text-right text-[10px] text-gray-500",children:[Xe(d.xp)," / ",Xe(d.maxXp)," XP"]})]}),l.jsxs("div",{className:"bg-amber-950/20 border border-amber-900/50 p-4 rounded-lg",children:[l.jsxs("h4",{className:"text-amber-500 font-bold mb-3 flex items-center justify-center gap-2",children:[l.jsx(ti,{size:16})," Treasury"]}),l.jsx("p",{className:"text-center text-xs text-gray-400 mb-3",children:"Contribute Gold to level up the Guild and unlock higher Monument limits."}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>m.contributeGuild(100),disabled:o<100,className:"bg-amber-800/50 hover:bg-amber-700/80 border border-amber-700 text-white p-2 rounded flex flex-col items-center disabled:opacity-50 transition-colors",children:[l.jsx("span",{className:"text-xs font-bold",children:"100 G"}),l.jsx("span",{className:"text-[10px] text-amber-200 opacity-75",children:"+10 XP"})]}),l.jsxs("button",{onClick:()=>m.contributeGuild(1e3),disabled:o<1e3,className:"bg-amber-700/50 hover:bg-amber-600/80 border border-amber-600 text-white p-2 rounded flex flex-col items-center disabled:opacity-50 transition-colors",children:[l.jsx("span",{className:"text-xs font-bold",children:"1K G"}),l.jsx("span",{className:"text-[10px] text-amber-200 opacity-75",children:"+100 XP"})]}),l.jsxs("button",{onClick:()=>m.contributeGuild(1e4),disabled:o<1e4,className:"bg-amber-600/50 hover:bg-amber-500/80 border border-amber-500 text-white p-2 rounded flex flex-col items-center disabled:opacity-50 col-span-2 transition-colors",children:[l.jsx("span",{className:"text-xs font-bold",children:"10K G"}),l.jsx("span",{className:"text-[10px] text-amber-200 opacity-75",children:"+1K XP"})]})]}),l.jsxs("div",{className:"mt-2 text-center text-[10px] text-gray-500",children:["Lifetime Contribution: ",Xe(d.totalContribution||0)," G"]})]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(yd,{className:"text-green-400"})," Monuments",l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-auto bg-gray-800 px-2 py-1 rounded",children:["Max Level: ",d.level]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Vm.map(u=>{const h=d.monuments?.[u.id]||0,b=Xm(u.baseCost,h,u.costScaling),g=pm(u.valuePerLevel,h),p=pm(u.valuePerLevel,h+1),j=h>=u.maxLevel,N=h>=d.level,y=o>=b;return l.jsxs("div",{className:`p-4 rounded-lg border relative transition-all ${h>0?"bg-slate-800 border-slate-600":"bg-slate-900 border-slate-800 opacity-90"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:u.icon}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-200",children:u.name}),l.jsxs("div",{className:"text-xs text-green-400 font-mono",children:["Lvl ",h]})]})]}),h>0&&l.jsx("div",{className:"bg-green-900/50 text-green-300 text-xs px-2 py-1 rounded border border-green-800",children:"Active"})]}),l.jsx("p",{className:"text-sm text-gray-400 mb-3 h-10 overflow-hidden text-ellipsis",children:u.description}),l.jsxs("div",{className:"bg-black/50 p-2 rounded mb-3 flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Cur Bonus:"}),l.jsx("span",{className:"text-sm font-bold text-white",children:u.effectType.includes("mult")?`+${Math.round(g*100)}%`:`+${Xe(g)}`})]}),j?l.jsx("div",{className:"text-center text-yellow-400 font-bold text-sm py-2 border border-yellow-900/50 bg-yellow-900/20 rounded",children:"MAX LEVEL"}):l.jsxs("div",{className:"mt-auto",children:[l.jsx("button",{onClick:()=>m.upgradeMonument(u.id),disabled:!y||N,className:`w-full py-2 px-3 rounded text-sm font-bold flex items-center justify-between transition-colors
                                                            ${N?"bg-gray-700 text-gray-500 cursor-not-allowed border border-gray-600":y?"bg-green-700 hover:bg-green-600 text-white border border-green-500":"bg-red-900/30 text-red-400 border border-red-900 cursor-not-allowed"}`,children:N?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ii,{size:12})," Guild Lvl Req"]}),l.jsxs("span",{children:["Lvl ",d.level+1]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ag,{size:12})," Upgrade"]}),l.jsxs("span",{className:"text-xs",children:[Xe(b)," G"]})]})}),!N&&l.jsxs("div",{className:"text-[10px] text-center mt-1 text-gray-500",children:["Next: ",u.effectType.includes("mult")?`+${Math.round(p*100)}%`:`+${Xe(p)}`]})]})]},u.id)})})]})]}):l.jsxs("div",{className:"space-y-6 text-center max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gray-300 text-lg",children:"You are not in a guild. Choose an alliance to establish your base:"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Lm.map(u=>l.jsxs("button",{onClick:()=>m.joinGuild(u.name),className:"bg-gray-800 hover:bg-gray-700 hover:border-green-500 border border-gray-600 p-6 rounded-lg flex flex-col items-center transition-all",children:[l.jsx(Ol,{size:48,className:"text-green-500 mb-2"}),l.jsx("span",{className:"text-green-300 font-bold text-xl mb-1",children:u.name}),l.jsx("span",{className:"text-gray-400 text-sm italic mb-2",children:u.description}),l.jsx("span",{className:"text-yellow-400 text-xs font-mono border border-yellow-900 bg-yellow-900/20 px-2 py-1 rounded",children:u.bonus})]},u.name))})]})]})}):null,Xb=({isOpen:c,onClose:f,voidMatter:d,actions:o,voidAscensions:m})=>c?l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-purple-950 border-4 border-purple-600 w-full max-w-lg p-6 rounded-lg shadow-2xl relative text-purple-100",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-purple-400 text-3xl font-bold mb-4 flex items-center justify-center gap-2 font-mono",children:[l.jsx(Pn,{})," THE VOID"]}),l.jsxs("div",{className:"flex flex-col gap-4 justify-center mb-6",children:[l.jsxs("button",{onClick:()=>{o.enterVoid(),f()},className:"px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded shadow-lg animate-pulse flex items-center gap-2 justify-center",children:[l.jsx($a,{})," ENTER VOID DIMENSION (30s)"]}),l.jsxs("div",{className:"border-t border-purple-800 pt-4 mt-2",children:[l.jsx("h3",{className:"text-center font-bold text-red-400 mb-2",children:"FINAL CHALLENGE"}),l.jsxs("button",{onClick:()=>{o.challengeVoidCore(),f()},disabled:m<5,className:`w-full px-6 py-4 font-black rounded shadow-lg flex items-center gap-2 justify-center border-2 
                                ${m>=5?"bg-red-900 border-red-500 hover:bg-red-800 text-red-100 animate-pulse":"bg-gray-900 border-gray-700 text-gray-500 cursor-not-allowed"}`,children:[l.jsx($a,{className:m>=5?"animate-spin-slow":""}),m>=5?"SUMMON VOID CORE":`LOCKED (Ascensions: ${m}/5)`]})]})]}),l.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2 border-b border-purple-800 pb-1",children:"Dark Gifts"}),l.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[l.jsxs("div",{className:"flex justify-between items-center bg-purple-900 p-2 rounded border border-purple-800",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_a,{className:"text-yellow-400",size:16}),l.jsx("span",{children:"Void Charge (Instant Ultimate)"})]}),l.jsxs("button",{onClick:()=>o.buyDarkGift(1,"ult_charge"),className:"px-3 py-1 bg-black rounded border border-purple-500 hover:bg-purple-800 text-xs",disabled:d<1,children:["Cost: 1 ",l.jsx(Pn,{size:10,className:"inline"})]})]}),l.jsx("div",{className:"p-2 text-xs text-purple-400 text-center italic",children:"More forbidden knowledge coming soon..."})]}),l.jsxs("div",{className:"mt-4 text-center text-xs text-purple-500",children:["Current Void Matter: ",d]})]})}):null,qb=({isOpen:c,onClose:f,rank:d,glory:o,heroes:m,opponents:u,onFight:h})=>{if(!c)return null;const b=m.filter(g=>g.unlocked&&g.assignment==="combat").reduce((g,p)=>g+p.stats.attack+p.stats.hp/10,0);return l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-slate-900 border-4 border-yellow-600 w-full max-w-2xl p-6 rounded-lg shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold hover:text-red-500",children:"X"}),l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-yellow-500 text-3xl font-bold flex items-center gap-2",children:[l.jsx(xn,{size:32})," ARENA"]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-xl text-yellow-200",children:["Rank: ",l.jsxs("span",{className:"font-bold text-white",children:["#",d]})]}),l.jsxs("div",{className:"text-sm text-yellow-400 flex items-center justify-end gap-1",children:[l.jsx(gl,{size:14})," Glory: ",o]})]})]}),l.jsx("div",{className:"flex gap-4 mb-6",children:l.jsxs("div",{className:"flex-1 bg-slate-800 p-4 rounded border border-slate-600",children:[l.jsx("h3",{className:"text-gray-400 text-sm uppercase mb-2",children:"Your Team"}),l.jsx("div",{className:"flex gap-1 flex-wrap",children:m.filter(g=>g.unlocked&&g.assignment==="combat").map(g=>l.jsx("div",{className:"text-2xl",title:g.name,children:g.emoji},g.id))}),l.jsxs("div",{className:"mt-2 text-cyan-400 font-bold",children:["Power: ",Math.floor(b)]})]})}),l.jsx("h3",{className:"text-white font-bold mb-4 border-b border-gray-700 pb-2",children:"CHOOSE OPPONENT"}),l.jsx("div",{className:"space-y-3",children:u.map(g=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-800 p-3 rounded hover:bg-gray-700 border border-gray-600 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-3xl",children:g.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-bold text-lg",children:g.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:["Rank #",g.rank]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsxs("span",{className:`font-bold ${g.power>b?"text-red-400":"text-green-400"}`,children:["PWR: ",g.power]}),l.jsxs("button",{onClick:()=>h(g),className:"bg-red-700 hover:bg-red-600 text-white px-4 py-1 rounded font-bold flex items-center gap-2 border border-red-500",children:["FIGHT ",l.jsx(xn,{size:16})]})]})]},g.id))})]})})},$b=({quests:c,onClose:f,onClaim:d})=>{const o=[...c].sort((m,u)=>m.isCompleted&&!m.isClaimed?-1:u.isCompleted&&!u.isClaimed||m.isClaimed&&!u.isClaimed?1:!m.isClaimed&&u.isClaimed?-1:0);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-600 rounded-xl p-6 max-w-2xl w-full shadow-2xl relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-yellow-900 p-2 rounded-lg border border-yellow-600",children:l.jsx(kd,{className:"text-yellow-400",size:28})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-500 font-serif tracking-wide",children:"Daily Quests"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Valid for the next 24 hours"})]})]}),l.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors p-2 hover:bg-gray-800 rounded-full",children:l.jsx(Bt,{size:24})})]}),l.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:o.length===0?l.jsxs("div",{className:"text-center py-10 text-gray-500 bg-gray-800/50 rounded-lg border border-gray-800 border-dashed",children:[l.jsx(xg,{className:"mx-auto mb-2 opacity-50",size:32}),"No active quests available. Come back tomorrow!"]}):o.map(m=>l.jsxs("div",{className:`
                                    relative p-4 rounded-lg flex items-center justify-between border transition-all duration-200
                                    ${m.isClaimed?"bg-gray-800/50 border-gray-800 opacity-60":m.isCompleted?"bg-gradient-to-r from-yellow-900/40 to-gray-900 border-yellow-500 shadow-lg shadow-yellow-900/20":"bg-gray-800 border-gray-700"}
                                `,children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:`text-lg font-bold mb-1 flex items-center gap-2 ${m.isClaimed?"text-gray-500":"text-white"}`,children:[m.description,m.isCompleted&&!m.isClaimed&&l.jsx("span",{className:"text-xs bg-green-900 text-green-300 px-2 py-0.5 rounded border border-green-700 font-mono",children:"COMPLETE"}),m.isClaimed&&l.jsx("span",{className:"text-xs bg-gray-700 text-gray-400 px-2 py-0.5 rounded font-mono",children:"CLAIMED"})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1 h-3 bg-gray-900 rounded-full overflow-hidden border border-gray-700 relative",children:[l.jsx("div",{className:`h-full transition-all duration-500 ${m.isCompleted?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,m.progress/m.target*100)}%`}}),l.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-bold text-white shadow-black drop-shadow-md",children:[Math.floor(m.progress)," / ",m.target]})]})}),l.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 text-yellow-300 bg-yellow-900/30 px-2 py-0.5 rounded border border-yellow-800/50",children:[l.jsx(gl,{size:12}),"Reward:"]}),l.jsxs("div",{className:"text-gray-300",children:[m.reward.type==="gold"&&l.jsxs("span",{className:"text-yellow-400 font-bold flex items-center gap-1",children:[l.jsx(ti,{size:10})," ",m.reward.amount," Gold"]}),m.reward.type==="souls"&&l.jsxs("span",{className:"text-purple-400 font-bold flex items-center gap-1",children:[l.jsx(oo,{size:10})," ",m.reward.amount," Souls"]}),m.reward.type==="voidMatter"&&l.jsxs("span",{className:"text-indigo-400 font-bold flex items-center gap-1",children:[" ",m.reward.amount," Void Matter"]})]})]})]}),l.jsx("div",{className:"ml-4",children:m.isClaimed?l.jsx("div",{className:"bg-gray-800 p-2 rounded-full border border-gray-700",children:l.jsx(vd,{className:"text-green-500",size:24})}):m.isCompleted?l.jsxs("button",{onClick:()=>d(m.id),className:"bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-2 px-6 rounded-lg shadow-lg hover:scale-105 transition-transform flex items-center gap-2 animate-pulse",children:[l.jsx(gl,{size:18}),"Claim"]}):l.jsx("div",{className:"text-gray-500 font-mono text-xs text-center w-24",children:"In Progress..."})})]},m.id))}),l.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 font-mono border-t border-gray-800 pt-4",children:"New quests arrive daily at 00:00 UTC"})]})})},Yb=({isOpen:c,onClose:f,items:d,resources:o,souls:m,actions:u,runes:h})=>{const[b,g]=z.useState(null),[p,j]=z.useState(null);if(!c)return null;const N={mithril:10,souls:50},y=o.mithril>=N.mithril&&m>=N.souls;return l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",children:l.jsxs("div",{className:"bg-slate-900 border-4 border-purple-500 w-full max-w-4xl p-6 rounded-lg shadow-2xl relative h-[600px] flex gap-4",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold hover:text-red-500",children:"X"}),l.jsxs("div",{className:"w-1/3 border-r border-gray-700 pr-4 flex flex-col",children:[l.jsxs("h2",{className:"text-purple-400 text-xl font-bold mb-4 flex items-center gap-2",children:[l.jsx(ai,{})," RUNE FORGE"]}),l.jsxs("div",{className:"flex-1 bg-slate-800 p-4 rounded mb-4 flex flex-col items-center justify-center text-center",children:[l.jsx(Fi,{size:48,className:"text-purple-300 mb-2 animate-pulse"}),l.jsx("div",{className:"text-gray-300",children:"Unstable Rune Core"}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Random Rarity & Stat"})]}),l.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Cost: ",N.mithril," Mithril, ",N.souls," Souls"]}),l.jsx("button",{onClick:u.craftRune,disabled:!y,className:`w-full py-2 rounded font-bold border ${y?"bg-purple-700 border-purple-500 hover:bg-purple-600 text-white":"bg-gray-700 border-gray-600 text-gray-500 cursor-not-allowed"}`,children:"CRAFT RUNE"}),l.jsxs("h3",{className:"text-white font-bold mt-6 mb-2",children:["INVENTORY (",h.length,")"]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:h.map(v=>l.jsxs("div",{onClick:()=>j(v),className:`p-2 rounded border cursor-pointer ${p?.id===v.id?"bg-purple-900 border-purple-400":"bg-slate-800 border-slate-600 hover:bg-slate-700"}`,children:[l.jsx("div",{className:`font-bold ${v.rarity==="legendary"?"text-orange-400":v.rarity==="epic"?"text-purple-400":v.rarity==="rare"?"text-blue-400":"text-gray-300"}`,children:v.name}),l.jsx("div",{className:"text-xs text-green-400",children:v.bonus})]},v.id))})]}),l.jsxs("div",{className:"w-2/3 flex flex-col",children:[l.jsxs("h2",{className:"text-blue-400 text-xl font-bold mb-4 flex items-center gap-2",children:[l.jsx(_a,{})," RUNE BINDING"]}),l.jsxs("div",{className:"flex gap-4 h-full",children:[l.jsxs("div",{className:"w-1/2 overflow-y-auto custom-scrollbar pr-2",children:[l.jsx("div",{className:"text-gray-400 text-xs mb-2 uppercase tracking-wide",children:"Select Item to Socket"}),d.filter(v=>v.rarity!=="common").map(v=>l.jsxs("div",{onClick:()=>g(v),className:`p-2 mb-2 rounded border cursor-pointer ${b?.id===v.id?"bg-blue-900 border-blue-400":"bg-slate-800 border-slate-600 hover:bg-slate-700"} relative`,children:[l.jsx("div",{className:`font-bold ${v.rarity==="legendary"?"text-orange-400":"text-purple-400"}`,children:v.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:["Sockets: ",v.runes.length," / ",v.sockets]}),l.jsx("div",{className:"flex gap-1 mt-1",children:Array.from({length:v.sockets}).map((_,H)=>l.jsx("div",{className:`w-3 h-3 rounded-full border ${v.runes[H]?"bg-purple-500 border-purple-300":"bg-black border-gray-600"}`},H))})]},v.id))]}),l.jsx("div",{className:"w-1/2 bg-slate-800 rounded p-4 border border-slate-600 flex flex-col items-center",children:b?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xl font-bold text-white mb-2",children:b.name}),l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("div",{className:"w-full space-y-2 mb-6",children:Array.from({length:b.sockets}).map((v,_)=>l.jsxs("div",{className:"flex items-center gap-2 bg-black p-2 rounded border border-gray-700",children:[l.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center ${b.runes[_]?"bg-purple-900 border-purple-500":"bg-gray-900 border-gray-600"}`,children:b.runes[_]?l.jsx(Fi,{size:12}):null}),l.jsx("span",{className:"text-sm text-gray-300",children:b.runes[_]?b.runes[_].name:"Empty Socket"})]},_))}),b.runes.length<b.sockets?l.jsxs("div",{className:"mt-auto w-full",children:[l.jsx("div",{className:"text-sm text-center mb-2 text-gray-400",children:p?`Socket ${p.name}?`:"Select a Rune from Inventory"}),l.jsx("button",{onClick:()=>{b&&p&&(u.socketRune(b.id,p.id),j(null))},disabled:!p,className:`w-full py-2 rounded font-bold ${p?"bg-blue-600 hover:bg-blue-500 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"BIND RUNE"})]}):l.jsx("div",{className:"mt-auto text-red-400 font-bold",children:"NO EMPTY SOCKETS"})]}):l.jsx("div",{className:"text-gray-500 italic mt-10",children:"Select an item to view sockets"})})]})]})]})})},Qb=({isOpen:c,onClose:f,achievements:d,stats:o})=>{if(!c)return null;const m=h=>{if(h.isUnlocked)return 100;let b=0;return h.condition.type==="kills"&&(b=o.totalKills),h.condition.type==="bossKills"&&(b=o.bossKills),h.condition.type==="gold"&&(b=o.totalGoldEarned),h.condition.type==="clicks"&&(b=o.clicks),h.condition.type==="itemsForged"&&(b=o.itemsForged),h.condition.type==="oreMined"&&(b=o.oreMined),h.condition.type==="fishCaught"&&(b=o.fishCaught),Math.min(100,b/h.condition.value*100)},u=h=>h.condition.type==="kills"?Xe(o.totalKills):h.condition.type==="bossKills"?Xe(o.bossKills):h.condition.type==="gold"?Xe(o.totalGoldEarned):h.condition.type==="clicks"?Xe(o.clicks):h.condition.type==="itemsForged"?Xe(o.itemsForged):h.condition.type==="oreMined"?Xe(o.oreMined):h.condition.type==="fishCaught"?Xe(o.fishCaught):0;return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-4 border-yellow-500 w-full max-w-3xl p-6 rounded-lg shadow-2xl relative max-h-[80vh] flex flex-col",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-gray-400 hover:text-white font-bold",children:"X"}),l.jsxs("h2",{className:"text-yellow-400 text-3xl font-bold mb-6 flex items-center justify-center gap-2 border-b border-yellow-500/30 pb-4",children:[l.jsx(gl,{size:32})," HALL OF LEGENDS"]}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 custom-scrollbar",children:d.map(h=>{const b=m(h);return l.jsxs("div",{className:`p-4 rounded-lg border flex flex-col gap-2 transition-all duration-300 ${h.isUnlocked?"bg-slate-800 border-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.2)]":"bg-slate-900 border-slate-700 opacity-70"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-3 rounded-full border-2 ${h.isUnlocked?"bg-yellow-900/50 border-yellow-500 text-yellow-400":"bg-slate-800 border-slate-600 text-gray-600"}`,children:h.isUnlocked?l.jsx(gl,{size:24}):l.jsx(Ii,{size:24})}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("div",{className:`text-lg font-bold ${h.isUnlocked?"text-yellow-200":"text-gray-400"}`,children:h.name}),l.jsx("div",{className:"text-gray-400 text-sm",children:h.description})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs text-slate-500 uppercase mb-1",children:"Reward"}),l.jsx("div",{className:`font-bold px-2 py-1 rounded inline-block ${h.isUnlocked?"text-green-400 bg-green-900/30":"text-gray-500 bg-gray-800"}`,children:h.rewardText})]})]})})]}),l.jsxs("div",{className:"w-full bg-slate-950 h-3 rounded-full overflow-hidden relative",children:[l.jsx("div",{className:`h-full transition-all duration-500 ${h.isUnlocked?"bg-yellow-500":"bg-blue-600"}`,style:{width:`${b}%`}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-bold text-white shadow-black drop-shadow-md",children:h.isUnlocked?"COMPLETED":`${u(h)} / ${Xe(h.condition.value)}`})]})]},h.id)})})]})})},Kb=({isOpen:c,onClose:f,starlight:d,upgrades:o,onBuy:m})=>c?l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 backdrop-blur-md",children:l.jsxs("div",{className:"bg-gray-900 border border-purple-500/50 rounded-lg w-full max-w-4xl h-[80vh] flex flex-col relative overflow-hidden shadow-[0_0_50px_rgba(168,85,247,0.2)]",children:[l.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-purple-900/50 bg-gray-900/95 z-10",children:[l.jsxs("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 flex items-center gap-3",children:[l.jsx(Xs,{className:"text-purple-400 fill-purple-400",size:32}),"Starlight Repository"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-purple-900/30 px-4 py-2 rounded-full border border-purple-500/30",children:[l.jsx(Xs,{size:18,className:"text-yellow-300 fill-yellow-300"}),l.jsx("span",{className:"text-xl font-mono text-white font-bold",children:d.toFixed(2)})]}),l.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors p-1 hover:bg-gray-800 rounded-full",children:l.jsx(Bt,{size:28})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5980?q=80&w=2072&auto=format&fit=crop')] bg-cover bg-center",children:[l.jsx("div",{className:"absolute inset-0 bg-gray-900/80 backdrop-blur-sm fixed-attachment"}),l.jsx("div",{className:"relative grid grid-cols-1 md:grid-cols-2 gap-6 z-10",children:Bm.map(u=>{const h=o[u.id]||0,b=h>=u.maxLevel,g=Gm(u,h),p=d>=g;return l.jsxs("div",{className:`relative group p-6 rounded-xl border ${b?"border-yellow-500/50 bg-yellow-900/10":"border-purple-500/30 bg-gray-800/80"} hover:border-purple-400 transition-all duration-300 hover:shadow-[0_0_20px_rgba(168,85,247,0.15)] flex flex-col gap-4`,children:[l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-900 border border-gray-700 flex items-center justify-center text-4xl shadow-inner",children:u.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-purple-300 transition-colors",children:u.name}),l.jsx("p",{className:"text-sm text-gray-400 mt-1 leading-relaxed",children:u.description})]})]})}),l.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3 border border-gray-700/50",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Current Level"}),l.jsxs("span",{className:b?"text-yellow-400 font-bold":"text-white",children:[h," ",l.jsxs("span",{className:"text-gray-600",children:["/ ",u.maxLevel]})]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${h/u.maxLevel*100}%`}})}),l.jsxs("div",{className:"mt-2 text-xs text-purple-300 flex items-center gap-1",children:[l.jsx(_a,{size:12}),"Effect: ",Math.round(u.effectValue*100),"% per level",l.jsxs("span",{className:"text-white ml-auto",children:["Total: ",Math.round(u.effectValue*h*100),"%"]})]})]}),l.jsx("button",{onClick:()=>m(u.id),disabled:b||!p,className:`w-full py-4 rounded-lg font-bold text-lg flex items-center justify-center gap-2 transition-all ${b?"bg-transparent border border-yellow-500/30 text-yellow-500 cursor-default":p?"bg-gradient-to-r from-purple-600 to-pink-600 hover:scale-[1.02] text-white shadow-lg shadow-purple-900/50":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:b?l.jsx(l.Fragment,{children:"MAXED OUT"}):l.jsxs(l.Fragment,{children:[p?l.jsx(Wm,{size:20}):l.jsx(Ii,{size:18}),p?"UPGRADE":"LOCKED",l.jsxs("span",{className:"flex items-center gap-1 ml-2 bg-black/20 px-2 py-0.5 rounded text-sm",children:[l.jsx(Xs,{size:14,className:p?"text-yellow-300":"text-gray-500"}),g.toLocaleString()]})]})})]},u.id)})})]})]})}):null,Zb=({isOpen:c,onClose:f,logs:d})=>{const o=z.useRef(null);return z.useEffect(()=>{c&&o.current?.scrollIntoView({behavior:"smooth"})},[c,d]),c?l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",children:l.jsxs("div",{className:"bg-gray-900 border-4 border-gray-600 w-full max-w-lg h-[80vh] p-4 rounded-lg flex flex-col relative",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-white font-bold hover:text-red-500",children:"X"}),l.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(kd,{size:20})," COMBAT LOG HISTORY"]}),l.jsxs("div",{className:"flex-1 overflow-y-auto font-mono text-xs space-y-1 p-2 bg-black rounded border border-gray-700",children:[d.map(m=>l.jsxs("div",{className:`${m.type==="damage"?"text-red-400":m.type==="heal"?"text-green-400":m.type==="death"?"text-gray-500":m.type==="craft"?"text-amber-400":m.type==="achievement"?"text-yellow-300 font-bold":"text-gray-300"}`,children:[l.jsxs("span",{className:"opacity-50 text-[10px] mr-2",children:["[",m.id.substring(2,6),"]"]}),m.message]},m.id)),l.jsx("div",{ref:o})]})]})}):null},Fb=({isOpen:c,onClose:f,galaxy:d,onConquer:o,partyPower:m,starlightUpgrades:u,spaceship:h,onUpgradeShip:b,towerFloor:g,voidAscensions:p,onAscend:j})=>{const[N,y]=z.useState(null),[v,_]=z.useState("map"),H=u.galaxy_scanner||0,q=I=>H>0?Math.floor(I*(1-H*.1)):I,M={safe:1,low:2,medium:3,high:4,extreme:5},O=I=>I&&M[I]||1;if(!c||!d)return null;const P=I=>50+I/2,ye=I=>50+I/2,Ee=I=>Math.sqrt(I.x*I.x+I.y*I.y),ge=h.parts.engine*25;return l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 backdrop-blur-md",children:l.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg w-full max-w-4xl h-[80vh] flex flex-col relative overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-800 bg-gray-900/80 z-10",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>_("map"),className:`flex items-center gap-2 px-4 py-2 rounded ${v==="map"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[l.jsx(_m,{size:18})," Star Map"]}),l.jsxs("button",{onClick:()=>_("hangar"),className:`flex items-center gap-2 px-4 py-2 rounded ${v==="hangar"?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[l.jsx(Hm,{size:18})," Hangar"]}),l.jsxs("button",{onClick:()=>_("void"),className:`flex items-center gap-2 px-4 py-2 rounded ${v==="void"?"bg-purple-600 text-white animate-pulse":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[l.jsx(_a,{size:18})," Void Ascension"]})]}),l.jsxs("div",{className:"text-sm font-mono text-gray-400 flex gap-4",children:[l.jsxs("span",{children:["PWR: ",l.jsx("span",{className:"text-red-400",children:m.toLocaleString()})]}),l.jsxs("span",{children:["Range: ",l.jsxs("span",{className:"text-cyan-400",children:[ge," ly"]})]})]}),l.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(Bt,{size:24})})]}),l.jsx("div",{className:"flex-1 relative overflow-hidden",children:v==="map"?l.jsxs("div",{className:"w-full h-full relative bg-[url('https://images.unsplash.com/photo-1506318137071-a8bcbf6755dd?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center overflow-auto cursor-grab active:cursor-grabbing",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40"}),l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"}),l.jsx("div",{className:"absolute border border-cyan-500/30 rounded-full pointer-events-none transform -translate-x-1/2 -translate-y-1/2",style:{left:"50%",top:"50%",width:`${ge*4}%`,height:`${ge*4}%`}}),l.jsx("div",{className:"absolute inset-0",children:d.map(I=>{const ce=Ee(I)<=ge,Me=O(I.hazardLevel)<=h.parts.shields;return l.jsx("button",{onClick:()=>y(I),className:`absolute transform -translate-x-1/2 -translate-y-1/2 w-4 h-4 rounded-full transition-all duration-300 shadow-[0_0_10px_currentColor] 
                                                ${ce?I.isOwned?"bg-green-500 text-green-500":Me?m>=q(I.difficulty)?"bg-yellow-400 text-yellow-400 hover:scale-150":"bg-red-600 text-red-600":"bg-orange-600 text-orange-600 animate-pulse":"bg-gray-700 text-gray-700 opacity-50"}`,style:{left:`${P(I.x)}%`,top:`${ye(I.y)}%`}},I.id)})}),N&&l.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-gray-900/95 border border-gray-700 p-4 rounded-lg flex justify-between items-center shadow-lg animate-in slide-in-from-bottom duration-300",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[N.type==="star"?l.jsx(Xs,{size:16,className:"text-yellow-400"}):l.jsx(_m,{size:16,className:"text-blue-400"}),N.name]}),l.jsx("p",{className:"text-gray-400 text-sm",children:N.description}),l.jsxs("div",{className:"flex gap-4 mt-2 text-sm flex-wrap",children:[l.jsx("span",{className:N.isOwned?"text-green-400":"text-red-400",children:N.isOwned?"CONQUERED":"HOSTILE"}),l.jsxs("span",{className:"text-cyan-300",children:["Dist: ",Math.floor(Ee(N))," ly"]}),N.hazardLevel&&l.jsxs("span",{className:`${h.parts.shields>=O(N.hazardLevel)?"text-green-400":"text-orange-500 font-bold"}`,children:["Hazard: ",N.hazardLevel.toUpperCase()," ",h.parts.shields<O(N.hazardLevel)&&"(SHIELDS TOO WEAK)"]})]})]}),N.isOwned?l.jsx("div",{className:"px-6 py-3 bg-gray-800 text-green-400 font-bold rounded border border-green-900",children:"Generating Resources..."}):l.jsx("button",{onClick:()=>o(N.id),disabled:Ee(N)>ge||O(N.hazardLevel)>h.parts.shields||m<q(N.difficulty)*.5,className:`px-6 py-3 rounded font-bold transition-all ${Ee(N)>ge?"bg-gray-800 text-gray-500 cursor-not-allowed":O(N.hazardLevel)>h.parts.shields?"bg-orange-900/50 text-orange-500 cursor-not-allowed border border-orange-500":m>=q(N.difficulty)?"bg-gradient-to-r from-green-600 to-green-500 hover:scale-105 text-white shadow-[0_0_15px_rgba(0,255,0,0.5)]":"bg-red-900/50 text-red-400 cursor-not-allowed"}`,children:Ee(N)>ge?"OUT OF RANGE":O(N.hazardLevel)>h.parts.shields?"HAZARD LETHAL":m>=q(N.difficulty)?"CONQUER":"Too Dangerous"})]})]}):v==="hangar"?l.jsxs("div",{className:"p-8 h-full bg-slate-900 overflow-y-auto",children:[l.jsxs("h3",{className:"text-2xl font-bold text-orange-400 mb-6 flex items-center gap-2",children:[l.jsx(Hm,{})," Spaceship Hangar"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["shields","engine","scanners"].map(I=>l.jsxs("div",{className:"bg-gray-800 border border-gray-700 p-6 rounded-xl shadow-xl",children:[l.jsx("h4",{className:"text-xl font-bold capitalize mb-2",children:I}),l.jsxs("div",{className:"text-sm text-gray-400 mb-4",children:["Current Level: ",l.jsx("span",{className:"text-orange-400 font-bold",children:h.parts[I]})]}),l.jsx("button",{onClick:()=>b(I),className:"w-full py-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold rounded shadow-lg transition-all",children:"UPGRADE"})]},I))})]}):v==="void"?l.jsxs("div",{className:"p-12 flex flex-col items-center justify-center h-full bg-slate-950 text-center",children:[l.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:""}),l.jsx("h3",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-4",children:"Void Ascension"}),l.jsxs("p",{className:"text-gray-400 max-w-lg mb-8",children:["Reset your current progress to transcend the physical realm. Gain permanent ",l.jsx("span",{className:"text-purple-400 font-bold",children:"Void Power"})," and unlock cosmic secrets."]}),l.jsxs("div",{className:"bg-gray-900 border border-purple-500/30 p-6 rounded-xl mb-8 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsx("span",{className:"text-gray-400",children:"Current Void Level:"}),l.jsx("span",{className:"text-purple-400 font-mono font-bold",children:p})]}),l.jsxs("div",{className:"flex justify-between mb-4",children:[l.jsx("span",{className:"text-gray-400",children:"Tower Floor Required:"}),l.jsx("span",{className:`${g>=100?"text-green-400":"text-red-400"} font-mono`,children:"100"})]}),l.jsx("div",{className:"text-sm text-gray-500 italic",children:"Ascending will reset: Gold, Souls, Items, Tower Floor, and Hero Levels."})]}),l.jsx("button",{onClick:j,disabled:g<100,className:`px-12 py-4 rounded-xl font-black text-xl transition-all shadow-2xl 
                                    ${g>=100?"bg-gradient-to-r from-purple-600 to-pink-600 hover:scale-110 text-white shadow-purple-500/50":"bg-gray-800 text-gray-600 cursor-not-allowed border border-gray-700"}`,children:g>=100?"ASCEND TO THE VOID":"LOCKED (Reach Floor 100)"})]}):l.jsx("div",{className:"p-8",children:"..."})})]})})},Jb=({isOpen:c,onClose:f,entries:d,currentPower:o})=>{if(!c)return null;const m={id:"player",name:"You",power:o,avatar:"",isPlayer:!0},u=[...d,m].sort((g,p)=>p.power-g.power),h=u.findIndex(g=>g.isPlayer)+1,b=g=>g===1?l.jsx(In,{className:"text-yellow-400",size:20}):g===2?l.jsx(Em,{className:"text-gray-300",size:20}):g===3?l.jsx(Em,{className:"text-amber-600",size:20}):l.jsx("span",{className:"text-gray-500 font-mono w-5 text-center",children:g});return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-600 rounded-lg w-full max-w-lg max-h-[80vh] flex flex-col shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-900 to-gray-900 border-b border-yellow-700 flex justify-between items-center",children:[l.jsxs("h2",{className:"text-2xl font-bold text-yellow-100 flex items-center gap-2",children:[l.jsx(gl,{className:"text-yellow-400"})," Leaderboards"]}),l.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white",children:l.jsx(Bt,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:u.map((g,p)=>{const j=p+1,N=g.isPlayer;return l.jsxs("div",{className:`flex items-center gap-4 p-3 rounded border ${N?"bg-yellow-900/30 border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.2)]":"bg-gray-800 border-gray-700"}`,children:[l.jsx("div",{className:"flex items-center justify-center w-8 font-bold text-xl",children:b(j)}),l.jsx("div",{className:"text-2xl",children:g.avatar}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:`font-bold ${N?"text-yellow-400":"text-gray-200"}`,children:[g.name," ",N&&"(You)"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Rank ",j]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-indigo-300 font-mono font-bold",children:[g.power.toLocaleString()," PWR"]})})]},g.id)})}),l.jsxs("div",{className:"p-4 bg-gray-800 border-t border-gray-700 flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Your Rank:"}),l.jsxs("span",{className:`font-bold text-xl ${h<=10?"text-yellow-400":"text-white"}`,children:["#",h]})]})]})})},Wb=({dungeon:c,onMove:f,onDescend:d,onExit:o,onOpenMastery:m})=>{if(z.useEffect(()=>{const h=b=>{c&&((b.key==="ArrowUp"||b.key==="w")&&f(0,-1),(b.key==="ArrowDown"||b.key==="s")&&f(0,1),(b.key==="ArrowLeft"||b.key==="a")&&f(-1,0),(b.key==="ArrowRight"||b.key==="d")&&f(1,0),b.key==="Escape"&&o())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[c,f,o]),!c||!c.active)return null;const u=40;return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95",children:l.jsxs("div",{className:"bg-slate-900 border-2 border-slate-600 rounded-lg p-4 shadow-2xl relative max-w-full max-h-full overflow-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 text-slate-200",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(zm,{})," Dungeon Level ",c.level]}),l.jsx("div",{className:"text-sm text-slate-400",children:"Use Arrows to Move | ESC to Exit"}),l.jsx("div",{className:"flex gap-2 bg-slate-800 px-3 py-1 rounded border border-slate-700",children:Object.entries(c.keys||{}).map(([h,b])=>b>0&&l.jsxs("span",{className:"text-xs flex items-center gap-1 font-mono",style:{color:h==="fire"?"#f87171":h==="water"?"#60a5fa":"#a3e635"},children:[l.jsx(ex,{size:14})," ",b]},h))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:m,className:"bg-yellow-600 px-3 py-1 rounded text-white text-sm hover:bg-yellow-500 flex items-center gap-1",children:[l.jsx(zm,{size:16})," Mastery"]}),l.jsxs("button",{onClick:d,className:"bg-purple-700 px-3 py-1 rounded text-white text-sm hover:bg-purple-600 flex items-center gap-1",children:[l.jsx(Vg,{size:16})," Descend"]}),l.jsx("button",{onClick:o,className:"bg-red-900 px-3 py-1 rounded text-white text-sm hover:bg-red-800",children:"Forfeit"})]})]}),l.jsx("div",{className:"grid gap-[1px] bg-slate-800 border border-slate-700",style:{gridTemplateColumns:`repeat(${c.width}, ${u}px)`,width:"fit-content",margin:"0 auto"},children:c.grid.map((h,b)=>h.map((g,p)=>{const j=c.playerPos.x===p&&c.playerPos.y===b,N=c.revealed[b][p];let y=null,v="bg-slate-900";if(!N)v="bg-black";else if(g==="wall"?v="bg-slate-600":g==="empty"?v="bg-slate-800":g==="start"?v="bg-green-900/50":g==="exit"&&(v="bg-yellow-900/50"),g==="chest"&&(y=l.jsx(eg,{size:20,className:"text-yellow-400"})),g==="enemy"&&(y=l.jsx($a,{size:20,className:"text-red-500"})),g==="boss"&&(y=l.jsx("div",{className:"text-purple-500 animate-pulse",children:l.jsx($a,{size:28})})),g==="trap"&&(y=l.jsx(J1,{size:20,className:"text-orange-500 opacity-50"})),g==="exit"&&(y=l.jsx(Ag,{size:24,className:"text-yellow-200"})),typeof g=="string"&&g.startsWith("lock_")){const _=g.split("_")[1];let H="text-gray-400";_==="fire"&&(H="text-red-500"),_==="water"&&(H="text-blue-400"),_==="nature"&&(H="text-green-500"),_==="earth"&&(H="text-amber-700"),_==="air"&&(H="text-sky-200"),_==="light"&&(H="text-yellow-200"),_==="dark"&&(H="text-purple-900"),y=l.jsx(Ii,{size:20,className:H}),v="bg-slate-800 border-2 border-slate-600"}return j&&(y=l.jsx("div",{className:"text-cyan-400 animate-pulse",children:l.jsx(Ol,{size:24})})),l.jsx("div",{className:`w-[${u}px] h-[${u}px] flex items-center justify-center ${v} transition-colors duration-200`,style:{width:u,height:u},children:y},`${p}-${b}`)}))})]})})},Om=[{type:"stats",name:"Burning",value:.1,stat:"attack"},{type:"stats",name:"Frozen",value:.1,stat:"defense"},{type:"stats",name:"Void",value:.15,stat:"magic"},{type:"stats",name:"Stellar",value:.1,stat:"speed"},{type:"stats",name:"Cosmic",value:.05,stat:"hp"},{type:"stats",name:"Radiant",value:.15,stat:"hp"},{type:"effect",name:"Unstable",value:.2,stat:"attack"}],Rm=[{type:"stats",name:"of the Comet",value:.1,stat:"speed"},{type:"stats",name:"of the Nebula",value:.15,stat:"mp"},{type:"stats",name:"of the Black Hole",value:.05,stat:"attack"},{type:"stats",name:"of the Supernova",value:.2,stat:"attack"},{type:"stats",name:"of the Pulsar",value:.1,stat:"magic"},{type:"stats",name:"of the Titan",value:.2,stat:"defense"}],Ib=(c,f)=>{const d=Math.random()>.5,o=Math.random()>.5;let m,u;return(d||!o)&&(m={...Om[Math.floor(Math.random()*Om.length)]}),o&&(u={...Rm[Math.floor(Math.random()*Rm.length)]}),{prefix:m,suffix:u}},Qi=5e3,Ki=5,Pb=({isOpen:c,onClose:f,starFragments:d,gold:o,onCraft:m})=>{const[u,h]=z.useState("select"),[b,g]=z.useState("weapon"),[p,j]=z.useState(0),[N,y]=z.useState(0),[v,_]=z.useState(0),[H,q]=z.useState(1),[M,O]=z.useState(null),P=z.useRef(0);z.useEffect(()=>{c&&(h("select"),j(0),y(0),_(0),O(null))},[c]),z.useEffect(()=>{if(u!=="forging")return;const ge=()=>{j(I=>{let le=I+H*1.5;return le>=100?(q(-1),le=100):le<=0&&(q(1),le=0),le}),P.current=requestAnimationFrame(ge)};return P.current=requestAnimationFrame(ge),()=>cancelAnimationFrame(P.current)},[u,H]);const ye=()=>{const ge=p>=80&&p<=95?1:p>=60?.7:.2;_(I=>I+ge*34),y(I=>I+1),Se.playAttack(),N>=2&&Ee(v+ge*34)},Ee=ge=>{const I=Math.min(100,Math.floor(ge)),le=Ib(),ce={id:`forged-${Date.now()}`,name:"Starforged Item",type:b,rarity:"legendary",stat:b==="weapon"?"attack":"defense",value:50*(1+I/100),sockets:I>90?2:1,runes:[],quality:I,prefix:le.prefix,suffix:le.suffix,craftedBy:"Player"};let be=`${b==="weapon"?"Blade":"Plate"}`;ce.prefix&&(be=`${ce.prefix.name} ${be}`),ce.suffix&&(be=`${be} ${ce.suffix.name}`),ce.name=be,O(ce),m(ce,Qi,Ki),h("result")};return c?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-slate-900 border-2 border-orange-500/50 rounded-xl w-full max-w-2xl overflow-hidden shadow-[0_0_50px_rgba(255,165,0,0.2)]",children:[l.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gradient-to-r from-slate-900 to-orange-950/30",children:[l.jsxs("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-600 flex items-center gap-3",children:[l.jsx(cs,{className:"text-orange-500 animate-pulse"})," Star Forge"]}),l.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(Bt,{size:24})})]}),l.jsxs("div",{className:"p-8 min-h-[400px] flex flex-col items-center justify-center text-center",children:[u==="select"&&l.jsxs("div",{className:"w-full animate-in fade-in zoom-in duration-300",children:[l.jsx("h3",{className:"text-xl text-gray-300 mb-8",children:"Select Equipment Type to Forge"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[l.jsxs("button",{onClick:()=>g("weapon"),className:`p-6 border rounded-xl flex flex-col items-center gap-2 transition-all ${b==="weapon"?"bg-orange-600/20 border-orange-500 shadow-[0_0_20px_rgba(249,115,22,0.3)]":"bg-gray-800 border-gray-700 hover:bg-gray-700"}`,children:[l.jsx("span",{className:"text-4xl",children:""}),l.jsx("span",{className:"font-bold",children:"Weapon"})]}),l.jsxs("button",{onClick:()=>g("armor"),className:`p-6 border rounded-xl flex flex-col items-center gap-2 transition-all ${b==="armor"?"bg-orange-600/20 border-orange-500 shadow-[0_0_20px_rgba(249,115,22,0.3)]":"bg-gray-800 border-gray-700 hover:bg-gray-700"}`,children:[l.jsx("span",{className:"text-4xl",children:""}),l.jsx("span",{className:"font-bold",children:"Armor"})]})]}),l.jsxs("div",{className:"flex justify-center gap-8 mb-8 text-sm font-mono",children:[l.jsxs("div",{className:`flex items-center gap-2 ${d>=Ki?"text-green-400":"text-red-400"}`,children:[l.jsx(Xs,{size:16})," ",d," / ",Ki," Fragments"]}),l.jsxs("div",{className:`flex items-center gap-2 ${o>=Qi?"text-green-400":"text-red-400"}`,children:[l.jsx("span",{className:"text-yellow-400",children:""})," ",o.toLocaleString()," / ",Qi.toLocaleString()," Gold"]})]}),l.jsx("button",{onClick:()=>h("forging"),disabled:d<Ki||o<Qi,className:`px-12 py-4 rounded-full font-black text-xl transition-all ${d>=Ki&&o>=Qi?"bg-gradient-to-r from-orange-600 to-red-600 hover:scale-105 text-white shadow-lg shadow-orange-500/50":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"IGNITE FORGE"})]}),u==="forging"&&l.jsxs("div",{className:"w-full flex flex-col items-center animate-in fade-in duration-500",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Strike when HOT!"}),l.jsxs("p",{className:"text-gray-400 mb-12",children:["Strikes Remaining: ",3-N]}),l.jsxs("div",{className:"relative w-full h-16 bg-gray-900 rounded-full border-2 border-gray-700 overflow-hidden mb-12 max-w-md",children:[l.jsx("div",{className:"absolute top-0 bottom-0 left-[80%] right-[5%] bg-orange-500/30 border-l border-r border-orange-500/50 z-10 animate-pulse"}),l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-900 via-purple-600 to-red-500 transition-none",style:{width:`${p}%`}}),l.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-mono font-bold text-white drop-shadow-md z-20",children:[Math.round(p),"C"]})]}),l.jsx("button",{onClick:ye,className:"w-32 h-32 rounded-full bg-slate-800 border-4 border-orange-500 flex items-center justify-center hover:bg-orange-600 hover:border-white transition-all active:scale-90 shadow-[0_0_30px_rgba(249,115,22,0.6)] group",children:l.jsx(ai,{size:48,className:"text-white group-hover:rotate-45 transition-transform"})})]}),u==="result"&&M&&l.jsxs("div",{className:"w-full animate-in zoom-in duration-500 flex flex-col items-center",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-gray-400 uppercase tracking-widest text-sm mb-2",children:"Forge Successful"}),l.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-yellow-200",children:M.name})]}),l.jsxs("div",{className:"bg-gradient-to-b from-gray-800 to-black p-1 rounded-xl shadow-2xl mb-8 relative group",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${M.quality>90?"from-yellow-400 to-orange-500":"from-blue-500 to-purple-500"} opacity-50 blur-xl group-hover:opacity-75 transition-opacity`}),l.jsxs("div",{className:"relative bg-gray-900 p-8 rounded-lg min-w-[300px] border border-gray-700",children:[l.jsx("div",{className:"text-6xl mb-4 text-center",children:b==="weapon"?"":""}),l.jsxs("div",{className:"space-y-2 text-left",children:[l.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-800",children:[l.jsx("span",{className:"text-gray-400",children:"Quality"}),l.jsxs("span",{className:`${M.quality>90?"text-yellow-400":"text-blue-400"} font-bold`,children:[M.quality,"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[l.jsx("span",{className:"capitalize",children:M.stat}),l.jsxs("span",{children:["+",Math.round(M.value)]})]}),M.prefix&&l.jsxs("div",{className:"flex justify-between text-sm text-green-400",children:[l.jsx("span",{children:M.prefix.name}),l.jsxs("span",{children:["+",M.prefix.value*100,"% ",M.prefix.stat]})]}),M.suffix&&l.jsxs("div",{className:"flex justify-between text-sm text-green-400",children:[l.jsx("span",{children:M.suffix.name}),l.jsxs("span",{children:["+",M.suffix.value*100,"% ",M.suffix.stat]})]})]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>h("select"),className:"px-8 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg font-bold",children:"Forge Another"}),l.jsx("button",{onClick:f,className:"px-8 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-lg font-bold shadow-lg",children:"Claim & Close"})]})]})]})]})}):null},ey=({isOpen:c,onClose:f,fishCount:d,setFish:o})=>{const[m,u]=z.useState(!1);if(!c)return null;const h=()=>{u(!0),setTimeout(()=>u(!1),500);const b=gd(1);b>0&&(o(d+b),Se.playLevelUp())};return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border-2 border-cyan-900/50 rounded-xl p-6 max-w-md w-full shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:""}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"w-20 h-20 mx-auto bg-cyan-900/20 rounded-full flex items-center justify-center border-4 border-cyan-900/30 mb-4 relative overflow-hidden",children:[l.jsx(Ym,{className:`w-10 h-10 text-cyan-600 transition-transform duration-500 ${m?"translate-y-4":""}`}),m&&l.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 animate-ping rounded-full"})]}),l.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600",children:"The Fishing Dock"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Relax and cast a line."})]}),l.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 text-center mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 text-4xl mb-2",children:[l.jsx(Rg,{className:"w-8 h-8 text-cyan-400"}),l.jsx("span",{className:"font-mono text-cyan-100",children:d})]}),l.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest",children:"Fish Caught"})]}),l.jsx("button",{onClick:h,className:"w-full py-4 bg-gradient-to-r from-cyan-700 to-blue-700 hover:from-cyan-600 hover:to-blue-600 rounded-xl font-bold text-white shadow-lg transform hover:scale-[1.02] active:scale-95 transition-all",children:"CAST LINE"}),l.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:"Passive: 5% chance to catch fish every tick."})]})})},ty=({isOpen:c,onClose:f,resources:d,activePotions:o,brewPotion:m})=>{const[u,h]=Ta.useState(0);if(Ta.useEffect(()=>{if(c){h(Date.now());const g=setInterval(()=>h(Date.now()),1e3);return()=>clearInterval(g)}},[c]),!c)return null;const b=g=>g.cost.every(p=>(d[p.type]||0)>=p.amount);return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border-2 border-purple-900/50 rounded-xl p-6 max-w-2xl w-full shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:""}),l.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-800 pb-4",children:[l.jsx("div",{className:"p-3 bg-purple-900/20 rounded-lg border border-purple-900/30",children:l.jsx(Pm,{className:"w-6 h-6 text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:"Alchemist's Lab"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Brew potent elixirs from gathered materials."})]})]}),o.length>0&&l.jsxs("div",{className:"mb-6 p-4 bg-purple-900/10 rounded-lg border border-purple-900/30",children:[l.jsxs("h3",{className:"text-sm font-semibold text-purple-300 mb-2 flex items-center gap-2",children:[l.jsx(oo,{className:"w-4 h-4"})," Active Effects"]}),l.jsx("div",{className:"space-y-1",children:o.map(g=>l.jsxs("div",{className:"text-xs flex justify-between text-purple-200",children:[l.jsxs("span",{children:[g.name," (+",(g.value*100).toFixed(0),"% ",g.effect.toUpperCase(),")"]}),l.jsxs("span",{children:[Math.ceil((g.endTime-u)/1e3),"s"]})]},g.id))})]}),l.jsx("div",{className:"grid gap-4 max-h-[50vh] overflow-y-auto pr-2",children:Um.map(g=>l.jsxs("div",{className:"flex justify-between items-center bg-gray-800/50 p-4 rounded-lg border border-gray-700 hover:border-purple-500/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-2xl",children:g.emoji}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-200",children:g.name}),l.jsx("p",{className:"text-xs text-gray-400",children:g.description}),l.jsx("div",{className:"flex gap-2 mt-1",children:g.cost.map((p,j)=>l.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded border ${(d[p.type]||0)>=p.amount?"bg-gray-700 text-gray-300 border-gray-600":"bg-red-900/20 text-red-400 border-red-900/50"}`,children:[p.amount," ",p.type]},j))})]})]}),l.jsx("button",{onClick:()=>m(g.id),disabled:!b(g),className:`px-4 py-2 rounded-lg text-sm font-bold transition-colors ${b(g)?"bg-purple-600 hover:bg-purple-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:"Brew"})]},g.id))})]})})},ay=({isOpen:c,onClose:f,activeExpeditions:d,heroes:o,startExpedition:m})=>{const[u,h]=Ta.useState(0);if(Ta.useEffect(()=>{if(c){h(Date.now());const g=setInterval(()=>h(Date.now()),1e3);return()=>clearInterval(g)}},[c]),!c)return null;const b=g=>{const p=o.filter(N=>N.assignment!=="expedition"&&N.assignment!=="mine"&&!N.assignment.includes("combat")).sort((N,y)=>y.stats.attack-N.stats.attack);if(p.length===0){alert("No heroes available! Unassign miners or recruit more heroes.");return}const j=p.slice(0,3);m(g,j.map(N=>N.id))};return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border-2 border-amber-900/50 rounded-xl p-6 max-w-2xl w-full shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:""}),l.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-800 pb-4",children:[l.jsx("div",{className:"p-3 bg-amber-900/20 rounded-lg border border-amber-900/30",children:l.jsx(Md,{className:"w-6 h-6 text-amber-500"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-yellow-600",children:"Expeditions"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Send heroes on dangerous missions for loot."})]})]}),l.jsx("div",{className:"grid gap-4 max-h-[60vh] overflow-y-auto pr-2",children:Fp.map(g=>{const p=d.find(y=>y.id===g.id),j=p?Math.min(100,(u-(p.startTime||0))/(g.duration*1e3)*100):0,N=p?Math.max(0,g.duration*1e3-(u-(p.startTime||0))):0;return l.jsxs("div",{className:"bg-gray-800/50 border border-gray-700/50 rounded-lg p-4 hover:border-amber-900/50 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-amber-100",children:g.name}),l.jsx("p",{className:"text-gray-400 text-sm",children:g.description})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs bg-gray-900/50 px-2 py-1 rounded border border-gray-700",children:[l.jsx(ei,{className:"w-3 h-3 text-amber-500"}),l.jsxs("span",{children:[Math.floor(g.duration/60),"m"]}),l.jsx("span",{className:"text-gray-600",children:"|"}),l.jsx(_1,{className:"w-3 h-3 text-red-500"}),l.jsxs("span",{children:["Dif ",g.difficulty]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:g.rewards.map((y,v)=>l.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-900 rounded text-gray-300 border border-gray-700",children:[y.type.toUpperCase(),": ",y.min,"-",y.max]},v))}),p?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-xs text-amber-500",children:[l.jsx("span",{children:"In Progress..."}),l.jsxs("span",{children:[Math.ceil(N/1e3),"s remaining"]})]}),l.jsx("div",{className:"h-2 bg-gray-900 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-amber-600 transition-all duration-1000",style:{width:`${j}%`}})})]}):l.jsxs("button",{onClick:()=>b(g),className:"w-full py-2 bg-amber-700 hover:bg-amber-600 rounded-lg text-white font-medium transition-colors text-sm flex items-center justify-center gap-2",children:[l.jsx(gl,{className:"w-4 h-4"}),"Dispatch Heroes"]})]})]},g.id)})})]})})},ly=({isOpen:c,onClose:f,plots:d,setPlots:o,resources:m,setResources:u,gold:h,setGold:b})=>{const[g,p]=z.useState("moonleaf");if(!c)return null;const j=v=>{const{newPlots:_,cost:H,success:q}=Oh(d,v,g,h);q&&(o(_),b(h-H))},N=v=>{const{newPlots:_,yieldAmount:H,success:q}=Rh(d,v);q&&(o(_),u(M=>({...M,herbs:(M.herbs||0)+H})))},y=v=>{const{newPlots:_,cost:H,success:q}=Uh(d,v,h);q&&(o(_),b(h-H))};return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-900 border border-green-500/30 rounded-lg p-6 max-w-4xl w-full shadow-2xl relative animate-fadeIn",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Bt,{size:24})}),l.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-green-400 to-emerald-600 bg-clip-text text-transparent mb-6 flex items-center gap-2",children:[l.jsx(B1,{className:"text-green-500"})," The Great Garden"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700 col-span-1",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Seed Bag"}),l.jsx("div",{className:"space-y-3",children:Object.keys(rs).map(v=>{const _=rs[v];return l.jsxs("button",{onClick:()=>p(_.id),className:`w-full p-3 rounded-lg border text-left transition-colors flex items-center gap-3 ${g===_.id?"bg-green-900/40 border-green-500":"bg-gray-800 border-gray-700 hover:border-gray-600"}`,children:[l.jsx("div",{className:"text-2xl",children:_.emoji}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-gray-200",children:_.name}),l.jsxs("div",{className:"text-xs text-yellow-400",children:[_.cost," Gold"]})]})]},_.id)})}),l.jsxs("div",{className:"mt-6 p-3 bg-gray-900/80 rounded border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"RESOURCES"}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsxs("span",{className:"text-green-400",children:[" Herbs: ",m.herbs]}),l.jsxs("span",{className:"text-yellow-400",children:[" ",h]})]})]})]}),l.jsx("div",{className:"col-span-3 grid grid-cols-3 gap-4",children:d.map((v,_)=>v.unlocked?l.jsx("div",{className:"aspect-square bg-gray-800/30 rounded-lg border border-gray-700 relative overflow-hidden flex flex-col items-center justify-center group hover:bg-gray-800/50 transition-colors",children:v.seed?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-700",children:l.jsx("div",{className:`h-full transition-all duration-1000 ${v.growth>=100?"bg-green-500":"bg-blue-500"}`,style:{width:`${v.growth}%`}})}),l.jsx("div",{className:"text-5xl mb-2 animate-bounce-slow transform transition-transform",style:{transform:`scale(${.5+v.growth/200})`},children:v.growth>=100?rs[v.seed].emoji:""}),l.jsx("div",{className:"text-xs text-gray-400 font-mono mb-2",children:v.growth>=100?"Ready!":`${Math.floor(v.growth)}%`}),v.growth>=100?l.jsx("button",{onClick:()=>N(_),className:"px-4 py-1 bg-green-600 hover:bg-green-500 text-white text-xs font-bold rounded shadow-lg animate-pulse",children:"Harvest"}):l.jsx("div",{className:"text-[10px] text-gray-500",children:"Growing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-dashed border-gray-600 flex items-center justify-center mb-2",children:l.jsx("div",{className:"w-12 h-12 bg-gray-700/50 rounded-full"})}),l.jsxs("button",{onClick:()=>j(_),disabled:h<rs[g].cost,className:`px-3 py-1 text-xs font-bold rounded transition-colors ${h>=rs[g].cost?"bg-blue-600 hover:bg-blue-500 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:["Plant ",rs[g].name.split(" ")[0]]})]})},_):l.jsxs("div",{className:"aspect-square bg-gray-950 rounded-lg border-2 border-dashed border-gray-800 flex flex-col items-center justify-center p-4 group relative overflow-hidden",children:[l.jsx(Ii,{className:"text-gray-600 mb-2",size:32}),l.jsx("div",{className:"text-gray-500 font-bold mb-2",children:"Locked Plot"}),l.jsxs("button",{onClick:()=>y(_),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white text-xs font-bold rounded transition-colors",children:["Unlock (",qm[_],"g)"]})]},_))})]})]})})},sy=({isOpen:c,onClose:f,mastery:d,tokens:o,buyUpgrade:m})=>{if(!c)return null;const u=[{id:"explorerLevel",name:"Explorer",icon:l.jsx(Hg,{size:20}),desc:"Increases Fog of War reveal radius."},{id:"slayerLevel",name:"Slayer",icon:l.jsx($a,{size:20}),desc:"Grants bonus XP from dungeon kills."},{id:"looterLevel",name:"Looter",icon:l.jsx(Fg,{size:20}),desc:"Increases chance to find items and keys."},{id:"trapSenseLevel",name:"Trap Sense",icon:l.jsx(tx,{size:20}),desc:"Chance to spot and avoid traps (WIP)."}],h=b=>Math.floor(10*Math.pow(1.5,b));return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:l.jsxs("div",{className:"bg-slate-900 border border-purple-500 rounded-lg p-6 w-full max-w-md shadow-2xl relative",children:[l.jsx("button",{onClick:f,className:"absolute top-2 right-2 text-slate-400 hover:text-white",children:""}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-purple-400",children:"Dungeon Mastery"}),l.jsx("p",{className:"text-slate-400 text-sm",children:"Spend Tokens to improve your dungeoneering."}),l.jsxs("div",{className:"mt-2 text-yellow-500 font-mono text-lg font-bold",children:[o," Tokens"]})]}),l.jsx("div",{className:"space-y-4",children:u.map(b=>{const g=d[b.id],p=h(g),j=o>=p;return l.jsxs("div",{className:"bg-slate-800 p-3 rounded flex justify-between items-center border border-slate-700",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-purple-400",children:b.icon}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-slate-200",children:[b.name," ",l.jsxs("span",{className:"text-slate-500 text-xs",children:["Lvl ",g]})]}),l.jsx("div",{className:"text-xs text-slate-400",children:b.desc})]})]}),l.jsxs("button",{onClick:()=>m(b.id),disabled:!j,className:`px-3 py-1 rounded text-sm font-bold ${j?"bg-purple-600 hover:bg-purple-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[p," T"]})]},b.id)})})]})})},ny=({isOpen:c,onClose:f,stock:d,buyItem:o,gold:m,divinity:u,voidMatter:h,timer:b})=>{if(!c)return null;const g=p=>{const j=Math.floor(p/1e3),N=Math.floor(j/60),y=j%60;return`${N}:${y.toString().padStart(2,"0")}`};return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 border-2 border-purple-900 rounded-xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col shadow-2xl relative",children:[l.jsxs("div",{className:"p-4 border-b border-purple-800 flex justify-between items-center bg-gradient-to-r from-gray-900 to-purple-950",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-900/30 rounded-lg",children:l.jsx(O1,{className:"w-6 h-6 text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-purple-100",children:"Black Market"}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-purple-300",children:[l.jsx(ei,{className:"w-3 h-3"}),l.jsxs("span",{children:["Closing in: ",g(b)]})]})]})]}),l.jsx("button",{onClick:f,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx(Bt,{className:"w-6 h-6 text-gray-400"})})]}),l.jsx("div",{className:"p-4 overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-4",children:d.length===0?l.jsx("div",{className:"col-span-2 text-center py-10 text-gray-500",children:"Sold Out"}):d.map(p=>{const j=p.currency==="gold"?m>=p.cost:p.currency==="divinity"?u>=p.cost:p.currency==="voidMatter"?h>=p.cost:!1;return l.jsxs("div",{className:"bg-gray-800/50 border border-purple-900/30 p-4 rounded-lg flex items-center justify-between group hover:border-purple-500/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-3xl filter grayscale group-hover:grayscale-0 transition-all",children:p.emoji}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-200",children:p.name}),l.jsx("p",{className:"text-xs text-gray-400",children:p.description}),l.jsxs("p",{className:`text-sm font-mono mt-1 ${j?"text-green-400":"text-red-400"}`,children:[Xe(p.cost)," ",p.currency==="voidMatter"?"Void":p.currency.charAt(0).toUpperCase()+p.currency.slice(1)]})]})]}),l.jsx("button",{onClick:()=>o(p),disabled:!j,className:`px-3 py-1.5 rounded text-sm font-bold transition-all ${j?"bg-purple-700 hover:bg-purple-600 text-white shadow-lg shadow-purple-900/20":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Buy"})]},p.id)})}),l.jsx("div",{className:"p-3 bg-gray-950 border-t border-purple-900/50 text-center text-xs text-gray-500 font-mono",children:'"No refunds. No questions."'})]})})},iy=[{id:"temporal_might",name:"Temporal Might",description:"+20% Attack Damage",rarity:"common",effect:c=>({...c,attack:Math.floor(c.attack*1.2)}),icon:""},{id:"chrono_shield",name:"Chrono Shield",description:"+20% Defense",rarity:"common",effect:c=>({...c,defense:Math.floor(c.defense*1.2)}),icon:""},{id:"warp_speed",name:"Warp Speed",description:"+15% Speed",rarity:"common",effect:c=>({...c,speed:Math.floor(c.speed*1.15)}),icon:""},{id:"timeless_vitality",name:"Timeless Vitality",description:"+25% Max HP",rarity:"common",effect:c=>({...c,maxHp:Math.floor(c.maxHp*1.25),hp:Math.floor(c.hp*1.25)}),icon:""},{id:"echo_strike",name:"Echo Strike",description:"+50% Attack, -10% Def",rarity:"rare",effect:c=>({...c,attack:Math.floor(c.attack*1.5),defense:Math.floor(c.defense*.9)}),icon:""},{id:"void_essence",name:"Void Essence",description:"+40% Magic, +10% MP",rarity:"rare",effect:c=>({...c,magic:Math.floor(c.magic*1.4),maxMp:Math.floor(c.maxMp*1.1)}),icon:""},{id:"singularity",name:"Singularity",description:"+100% All Stats, but Set HP to 1",rarity:"legendary",effect:c=>({...c,attack:c.attack*2,defense:c.defense*2,magic:c.magic*2,speed:c.speed*2,maxHp:1,hp:1}),icon:""}],ry=c=>[...iy].sort(()=>.5-Math.random()).slice(0,3),oy=({isOpen:c,onClose:f,riftState:d,startRift:o,selectBlessing:m,exitRift:u,gameStats:h})=>{const[b,g]=z.useState([]);if(z.useEffect(()=>{c&&d?.active&&b.length===0&&g(ry(d.floor))},[c,d,b.length]),z.useEffect(()=>{d?.floor&&g([])},[d?.floor]),!c)return null;const p=()=>{Se.playLevelUp(),o()},j=v=>{Se.playLevelUp(),m(v)},N=()=>{Se.playAttack(),u(!1),f()},y={attack:0,defense:0,hp:0,magic:0,speed:0};if(d){let v={attack:0,defense:0,hp:0,magic:0,speed:0};d.blessings.forEach(_=>{v=_.effect(v)}),y.attack=v.attack,y.defense=v.defense,y.hp=v.hp,y.magic=v.magic,y.speed=v.speed}return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-slate-900 border border-purple-500/30 rounded-xl p-8 max-w-4xl w-full mx-4 shadow-[0_0_50px_rgba(168,85,247,0.2)] relative min-h-[600px] flex flex-col",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:""}),l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(ei,{className:"w-8 h-8 text-purple-400"}),l.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-300",children:"Temporal Anomalies"})]}),l.jsx("p",{className:"text-slate-400 mb-6 italic border-b border-white/10 pb-4",children:"The fabric of time is weak here. Step into the rift to claim power from other timelines."}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:d?.active?l.jsxs("div",{className:"w-full h-full flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center bg-slate-800/50 p-4 rounded-lg mb-8 border border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:["Floor ",d.floor]}),l.jsxs("div",{className:"flex gap-4 text-sm text-slate-300",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(hl,{size:14,className:"text-red-400"})," +",Math.round(y.attack||0)]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(co,{size:14,className:"text-green-400"})," +",Math.round(y.hp||0)]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ol,{size:14,className:"text-blue-400"})," +",Math.round(y.defense||0)]})]})]}),l.jsx("button",{onClick:N,className:"px-3 py-1 bg-red-900/30 hover:bg-red-900/50 text-red-200 rounded text-sm border border-red-500/30",children:"Retreat"})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[l.jsx("h3",{className:"text-xl text-center text-purple-200 mb-8 font-serif",children:"Choose a Timeline Blessing"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b.map(v=>l.jsxs("button",{onClick:()=>j(v),className:`
                                                group relative p-6 rounded-xl border transition-all duration-300 text-left
                                                hover:-translate-y-2 hover:shadow-[0_0_30px_rgba(168,85,247,0.15)]
                                                flex flex-col gap-4
                                                ${v.rarity==="legendary"?"bg-orange-900/20 border-orange-500/50 hover:bg-orange-900/30":v.rarity==="rare"?"bg-blue-900/20 border-blue-500/50 hover:bg-blue-900/30":"bg-slate-800/50 border-white/10 hover:bg-slate-800"}
                                            `,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("span",{className:"text-3xl",children:v.icon}),l.jsx("span",{className:`
                                                    text-xs uppercase tracking-wider font-bold px-2 py-1 rounded
                                                    ${v.rarity==="legendary"?"bg-orange-500/20 text-orange-300":v.rarity==="rare"?"bg-blue-500/20 text-blue-300":"bg-slate-700 text-slate-400"}
                                                `,children:v.rarity})]}),l.jsxs("div",{children:[l.jsx("h4",{className:`text-lg font-bold mb-1 ${v.rarity==="legendary"?"text-orange-200":v.rarity==="rare"?"text-blue-200":"text-slate-200"}`,children:v.name}),l.jsx("p",{className:"text-sm text-slate-400 group-hover:text-slate-300",children:v.description})]}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-t from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},v.id))})]})]}):l.jsxs("div",{className:"text-center space-y-8 animate-in fade-in zoom-in duration-300",children:[l.jsx("div",{className:"p-6 bg-purple-500/10 rounded-full border-2 border-dashed border-purple-500/30 animate-spin-slow",children:l.jsx(Fi,{className:"w-24 h-24 text-purple-400"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Enter the Rift"}),l.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:"Enemies scale indefinitely. Choose blessings after every floor. How deep can you go?"}),l.jsx("div",{className:"flex justify-center gap-8 text-sm text-slate-500",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Z1,{className:"w-4 h-4"}),l.jsxs("span",{children:["Highest Floor: ",l.jsx("span",{className:"text-white",children:h?.highestRiftFloor||0})]})]})})]}),l.jsxs("button",{onClick:p,className:"px-8 py-4 bg-purple-600 hover:bg-purple-500 text-white rounded-lg font-bold text-lg shadow-lg shadow-purple-900/50 hover:scale-105 transition-all flex items-center gap-3 mx-auto",children:[l.jsx(_a,{className:"w-5 h-5 fill-current"}),"Stabilize Rift (Start Run)"]})]})})]})})};function cy({isOpen:c,onClose:f,pets:d,breedPets:o,gold:m}){const[u,h]=z.useState(null),[b,g]=z.useState(null),[p,j]=z.useState(!1),[N,y]=z.useState(null);if(!c)return null;const v=5e3,_=u&&b&&u.id!==b.id&&m>=v&&!p,H=O=>{p||(u?!b&&O.id!==u.id?g(O):O.id===u.id?h(null):O.id===b?.id&&g(null):h(O))},q=()=>{if(_){const O=pd(u,b);j(!0),y(O),setTimeout(()=>{o(u,b),j(!1),y(null),h(null),g(null),f()},4e3)}},M=u&&b?pd(u,b):null;return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-900 border border-purple-500/30 rounded-xl w-full max-w-5xl p-6 relative shadow-2xl flex flex-col max-h-[90vh]",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Bt,{className:"w-6 h-6"})}),l.jsxs("div",{className:"mb-6 border-b border-gray-800 pb-4",children:[l.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3 text-purple-400",children:[l.jsx(Cg,{className:"w-8 h-8 animate-pulse"}),"Chimera Fusion Lab"]}),l.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Fuse two pets to create a powerful Chimera. ",l.jsx("span",{className:"text-red-400 font-bold",children:"WARNING: Parents will be consumed!"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 flex-1 overflow-hidden",children:[l.jsxs("div",{className:"col-span-1 flex flex-col min-h-0 bg-gray-950/30 rounded-lg p-4 border border-gray-800",children:[l.jsxs("h3",{className:"font-bold text-gray-300 mb-3 flex items-center gap-2",children:[l.jsx(oo,{size:16})," Select Specimens"]}),l.jsx("div",{className:"overflow-y-auto space-y-2 pr-2 flex-1 scrollbar-thin scrollbar-thumb-purple-900 scrollbar-track-gray-900",children:d.filter(O=>!O.isDead).map(O=>{const P=u?.id===O.id||b?.id===O.id,ye=O.rarity==="chimera";return l.jsxs("div",{onClick:()=>H(O),className:`p-3 rounded-lg border cursor-pointer transition-all flex items-center gap-3 group relative
                                            ${P?"bg-purple-900/40 border-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.2)]":ye?"bg-indigo-900/20 border-pink-500/50 animate-divine-shimmer":"bg-gray-800 border-gray-700 hover:border-purple-500/50 hover:bg-gray-750"}
                                        `,children:[l.jsx("span",{className:"text-3xl filter drop-shadow-lg",children:O.emoji}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`font-bold text-sm truncate ${ye?"text-purple-300":"text-gray-200"}`,children:O.name}),l.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-2",children:[l.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] uppercase font-bold
                                                    ${O.rarity==="common"?"bg-gray-700 text-gray-300":O.rarity==="rare"?"bg-blue-900 text-blue-300":O.rarity==="epic"?"bg-purple-900 text-purple-300":O.rarity==="legendary"?"bg-orange-900 text-orange-300":"bg-pink-900 text-pink-300 border border-pink-700"}
                                                `,children:O.rarity}),l.jsxs("span",{children:["Lvl ",O.level]})]})]}),P&&l.jsx("div",{className:"absolute right-2 top-2 w-3 h-3 bg-green-500 rounded-full shadow-lg animate-pulse"})]},O.id)})})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col items-center justify-center bg-gray-950 rounded-xl p-8 border border-gray-800 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-purple-900/20 via-transparent to-transparent opacity-50 pointer-events-none"}),l.jsxs("div",{className:"flex items-center gap-8 mb-12 z-10 w-full justify-center",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:`w-28 h-28 rounded-full border-4 flex items-center justify-center text-5xl relative transition-all duration-300
                                    ${u?"border-purple-500 bg-purple-900/20 shadow-[0_0_20px_rgba(168,85,247,0.3)] scale-105":"border-gray-800 bg-gray-900/50 border-dashed"}
                                `,children:u?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-bounce-slow",children:u.emoji}),l.jsx("button",{onClick:()=>h(null),className:"absolute -top-1 -right-1 bg-gray-800 hover:bg-red-500 text-gray-400 hover:text-white rounded-full p-1 border border-gray-600 transition-colors",children:l.jsx(Bt,{size:14})})]}):l.jsx("span",{className:"opacity-20 text-4xl",children:"?"})}),u&&l.jsx("div",{className:"text-sm font-bold text-gray-300",children:u.name})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(co,{className:`w-10 h-10 ${_?"text-pink-500 animate-pulse drop-shadow-[0_0_10px_rgba(236,72,153,0.5)]":"text-gray-700"}`}),l.jsx("div",{className:"h-px w-32 bg-gray-800 my-2 relative",children:_&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500 to-transparent animate-shimmer"})}),l.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"Fusion Node"})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:`w-28 h-28 rounded-full border-4 flex items-center justify-center text-5xl relative transition-all duration-300
                                    ${b?"border-purple-500 bg-purple-900/20 shadow-[0_0_20px_rgba(168,85,247,0.3)] scale-105":"border-gray-800 bg-gray-900/50 border-dashed"}
                                    ${p?"animate-ping opacity-50":""}
                                `,children:b?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-bounce-slow",style:{animationDelay:"0.1s"},children:b.emoji}),!p&&l.jsx("button",{onClick:()=>g(null),className:"absolute -top-1 -right-1 bg-gray-800 hover:bg-red-500 text-gray-400 hover:text-white rounded-full p-1 border border-gray-600 transition-colors",children:l.jsx(Bt,{size:14})})]}):l.jsx("span",{className:"opacity-20 text-4xl",children:"?"})}),b&&l.jsx("div",{className:"text-sm font-bold text-gray-300",children:b.name})]})]}),p&&N?l.jsxs("div",{className:"relative z-20 flex flex-col items-center",children:[l.jsxs("div",{className:"absolute inset-x-0 top-0 flex justify-center -translate-y-1/2",children:[l.jsx("div",{className:"w-64 h-64 rounded-full bg-purple-500/30 blur-[60px] animate-pulse"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 border-t-2 border-pink-500 rounded-full animate-spin"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 border-r-2 border-purple-400 rounded-full animate-spin-reverse"})]}),l.jsxs("div",{className:"relative p-10 bg-gray-900/80 border-2 border-pink-500/50 rounded-full shadow-[0_0_100px_rgba(168,85,247,0.6)] animate-hatch-shake",children:[l.jsx("div",{className:"text-8xl filter drop-shadow-[0_0_20px_rgba(255,255,255,0.8)] animate-bounce-rapid",children:""}),l.jsx("div",{className:"absolute inset-0 bg-white/40 rounded-full animate-egg-burst mix-blend-overlay"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 animate-reveal-pet",children:l.jsx("div",{className:"text-8xl drop-shadow-[0_0_30px_rgba(255,255,255,1)]",children:N.emoji})})]}),l.jsxs("div",{className:"mt-8 text-center",children:[l.jsx("div",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-300 to-purple-400 animate-gradient-x mb-2 uppercase tracking-tighter",children:"Fusing Cosmic DNA..."}),l.jsxs("div",{className:"flex gap-1 justify-center",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 animate-bounce",style:{animationDelay:"0s"}}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500 animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 animate-bounce",style:{animationDelay:"0.2s"}})]})]})]}):M?l.jsx("div",{className:"relative z-10 -mt-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:l.jsxs("div",{className:"bg-gray-900/90 backdrop-blur border border-purple-500 p-6 rounded-2xl shadow-2xl relative w-80 text-center group",children:[l.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-purple-600 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-full shadow-lg tracking-wider",children:"Predicted Result"}),l.jsx("div",{className:"text-6xl mb-4 filter drop-shadow-2xl animate-pulse-slow",children:M.emoji}),l.jsx("h3",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 mb-1",children:M.name}),l.jsx("div",{className:"text-xs text-purple-300 mb-4 font-mono",children:M.bonus}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-left bg-gray-950 p-3 rounded border border-gray-800",children:[l.jsx(so,{label:"Attack",val:M.stats.attack,oldVal:Math.floor((u.stats.attack+b.stats.attack)/2)}),l.jsx(so,{label:"HP",val:M.stats.hp,oldVal:Math.floor((u.stats.hp+b.stats.hp)/2)}),l.jsx(so,{label:"Speed",val:M.stats.speed,oldVal:Math.floor((u.stats.speed+b.stats.speed)/2)}),l.jsx(so,{label:"Defense",val:M.stats.defense,oldVal:Math.floor((u.stats.defense+b.stats.defense)/2)})]}),l.jsx("div",{className:"mt-2 text-[10px] text-gray-500 italic",children:"Stats are estimated based on fusion multiplier."})]})}):l.jsxs("div",{className:"text-center text-gray-600 flex flex-col items-center",children:[l.jsx(Sd,{size:48,className:"mb-2 opacity-50"}),l.jsx("p",{children:"Select two pets to preview fusion results."})]}),l.jsx("div",{className:"mt-auto pt-8 z-10 w-full flex justify-center",children:l.jsxs("button",{onClick:q,disabled:!_,className:`group relative px-10 py-4 rounded-xl font-bold text-lg flex items-center gap-3 transition-all overflow-hidden
                                    ${_?"bg-gradient-to-r from-purple-700 via-pink-700 to-purple-700 bg-size-200 hover:bg-pos-100 shadow-[0_0_30px_rgba(168,85,247,0.4)] text-white scale-105 hover:scale-110":"bg-gray-800 text-gray-600 cursor-not-allowed border border-gray-700"}
                                `,children:[l.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),l.jsx(oo,{className:`w-6 h-6 ${_?"animate-spin-slow":""}`}),l.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[l.jsx("span",{children:_?"INITIATE FUSION":"Start Fusion"}),l.jsxs("span",{className:"text-[10px] font-normal opacity-80",children:[v," Gold Cost"]})]})]})}),m<v&&u&&b&&l.jsxs("div",{className:"text-red-400 text-sm font-bold mt-4 animate-pulse",children:["Insufficient Resources: Need ",v," Gold"]})]})]})]})})}const so=({label:c,val:f,oldVal:d})=>{const o=f-d;return l.jsxs("div",{className:"flex justify-between items-center text-xs",children:[l.jsx("span",{className:"text-gray-400",children:c}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-gray-500 line-through text-[10px]",children:d}),l.jsx("span",{className:"text-green-400 font-bold",children:f}),o>0&&l.jsxs("span",{className:"text-[9px] text-green-500",children:["(+",o,")"]})]})]})},dy=`
@keyframes hatch-shake {
    0%, 100% { transform: rotate(0deg) scale(1); }
    10%, 30%, 50%, 70%, 90% { transform: rotate(-5deg); }
    20%, 40%, 60%, 80% { transform: rotate(5deg); }
    95% { transform: scale(1.1); }
}

@keyframes bounce-rapid {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-30px); }
}

@keyframes egg-burst {
    0% { transform: scale(1); opacity: 0; }
    80% { transform: scale(1.5); opacity: 0.8; }
    100% { transform: scale(2); opacity: 0; }
}

@keyframes reveal-pet {
    0%, 70% { opacity: 0; transform: scale(0.5) rotate(-45deg); }
    85% { opacity: 1; transform: scale(1.2) rotate(10deg); }
    100% { opacity: 1; transform: scale(1) rotate(0deg); }
}

@keyframes spin-reverse {
    from { transform: translate(-50%, -50%) rotate(360deg); }
    to { transform: translate(-50%, -50%) rotate(0deg); }
}

@keyframes divine-shimmer {
    0% { border-color: rgba(236, 72, 153, 0.5); box-shadow: 0 0 5px rgba(236, 72, 153, 0.2); }
    50% { border-color: rgba(168, 85, 247, 0.8); box-shadow: 0 0 15px rgba(168, 85, 247, 0.5); }
    100% { border-color: rgba(236, 72, 153, 0.5); box-shadow: 0 0 5px rgba(236, 72, 153, 0.2); }
}

.animate-divine-shimmer { animation: divine-shimmer 2s infinite ease-in-out; }

.bg-size-200 { background-size: 200% auto; }
.bg-pos-100 { background-position: 100% center; }
.animate-gradient-x {
    background-size: 200% 200%;
    animation: gradient-x 3s ease infinite;
}
@keyframes gradient-x {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
`;if(typeof document<"u"){const c=document.createElement("style");c.textContent=dy,document.head.appendChild(c)}function uy({onClose:c,territories:f,onAttack:d,partyPower:o}){const[m,u]=z.useState(null),h=g=>{switch(g){case"player":return"text-green-400 border-green-500 bg-green-900/20";case"Xang":return"text-red-400 border-red-500 bg-red-900/20";case"Zhauw":return"text-blue-400 border-blue-500 bg-blue-900/20";case"Yang":return"text-yellow-400 border-yellow-500 bg-yellow-900/20";default:return"text-gray-400 border-gray-500 bg-gray-900/20"}},b=g=>{const p=o/g;return p>=2?"Guaranteed":p>=1.2?"High":p>=.8?"Moderate":p>=.5?"Low":"Suicide"};return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-900 border border-orange-700/50 rounded-xl w-full max-w-5xl h-[80vh] flex flex-col relative shadow-2xl",children:[l.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:l.jsx(Bt,{className:"w-6 h-6"})}),l.jsxs("div",{className:"p-6 border-b border-gray-800 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3 text-orange-500",children:[l.jsx(Md,{className:"w-8 h-8"}),"World Conquest"]}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Capture territories to gain passive bonuses for your guild."})]}),l.jsxs("div",{className:"bg-gray-800 px-4 py-2 rounded-lg border border-gray-700",children:[l.jsx("div",{className:"text-xs text-gray-400",children:"Your Army Power"}),l.jsxs("div",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(hl,{className:"w-4 h-4 text-orange-500"}),Xe(o)]})]})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsxs("div",{className:"flex-1 bg-gray-950 relative overflow-auto p-8 flex items-center justify-center bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:[l.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsx("div",{className:"relative w-[600px] h-[400px]",children:f.map(g=>l.jsx("button",{onClick:()=>u(g),className:`absolute w-12 h-12 -ml-6 -mt-6 rounded-full border-4 flex items-center justify-center transition-all hover:scale-110 shadow-lg
                                        ${h(g.owner)}
                                        ${m?.id===g.id?"ring-4 ring-white scale-110 z-10":""}
                                    `,style:{left:`${(g.coordinates.x+10)*5}%`,top:`${(g.coordinates.y+10)*5}%`},children:l.jsx(Am,{className:"w-5 h-5"})},g.id))}),l.jsxs("div",{className:"absolute bottom-4 left-4 bg-gray-900/80 p-2 rounded border border-gray-700 text-xs text-gray-300",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})," You"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})," Xang"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})," Zhauw"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})," Yang"]})]})]}),l.jsx("div",{className:"w-80 border-l border-gray-800 bg-gray-900 p-6 flex flex-col",children:m?l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:m.name}),l.jsx("p",{className:"text-sm text-gray-400 italic",children:m.description})]}),l.jsxs("div",{className:`p-3 rounded border bg-opacity-10 ${h(m.owner).replace("bg-opacity-20","")}`,children:[l.jsx("div",{className:"text-xs uppercase font-bold opacity-70",children:"Controlled By"}),l.jsx("div",{className:"text-lg font-bold",children:m.owner==="player"?"Your Guild":`${m.owner} Clan`})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider",children:"Strategic Value"}),l.jsxs("div",{className:"bg-gray-800 p-3 rounded flex items-center gap-3 border border-gray-700",children:[m.bonus.type==="gold"&&l.jsx(ti,{className:"text-yellow-500"}),m.bonus.type==="xp"&&l.jsx(Wh,{className:"text-blue-500"}),m.bonus.type==="damage"&&l.jsx(hl,{className:"text-red-500"}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-white font-bold",children:["+",m.bonus.value*100,"% ",m.bonus.type.toUpperCase()]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Global Modifier"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider",children:"Defenses"}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-800 p-2 rounded",children:[l.jsx("span",{className:"text-gray-300",children:"Power Rating"}),l.jsx("span",{className:"text-white font-mono",children:Xe(m.difficulty)})]}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-800 p-2 rounded",children:[l.jsx("span",{className:"text-gray-300",children:"Win Probability"}),l.jsx("span",{className:`font-bold ${b(m.difficulty)==="Guaranteed"?"text-green-400":b(m.difficulty)==="High"?"text-green-200":b(m.difficulty)==="Moderate"?"text-yellow-400":"text-red-500"}`,children:b(m.difficulty)})]})]}),l.jsx("div",{className:"flex-1"}),m.owner!=="player"?l.jsxs("button",{onClick:()=>d(m.id),className:"w-full py-4 rounded-lg bg-red-600 hover:bg-red-700 text-white font-bold flex items-center justify-center gap-2 shadow-lg shadow-red-900/50 transition-all hover:scale-105",children:[l.jsx(hl,{className:"w-5 h-5"}),"LAY SIEGE"]}):l.jsxs("div",{className:"w-full py-4 rounded-lg bg-green-900/50 border border-green-700 text-green-200 font-bold flex items-center justify-center gap-2 cursor-default",children:[l.jsx(Ol,{className:"w-5 h-5"}),"DEFENDING"]})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 text-center",children:[l.jsx(Am,{className:"w-16 h-16 mb-4 opacity-20"}),l.jsx("p",{children:"Select a territory on the map to view details."})]})})]})]})})}const fy=({isOpen:c,onClose:f,buildings:d,gold:o,upgradeBuilding:m})=>c?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gradient-to-br from-stone-900 to-stone-800 border-4 border-amber-700 w-full max-w-4xl p-6 rounded-lg shadow-2xl relative max-h-[85vh] flex flex-col",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-stone-400 hover:text-white transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("h2",{className:"text-amber-500 text-3xl font-bold mb-8 flex items-center justify-center gap-3 border-b border-amber-900/50 pb-4",children:[l.jsx(jd,{size:32})," TOWN CENTER"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 overflow-y-auto pr-2 custom-scrollbar",children:d.map(u=>{const h=u.level>=u.maxLevel,b=o>=u.cost;return l.jsxs("div",{className:"bg-stone-900/80 p-5 rounded-xl border border-stone-700 hover:border-amber-600/50 transition-all duration-300 relative group overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),l.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-4xl bg-stone-800 p-3 rounded-lg shadow-inner border border-stone-600",children:u.emoji}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-amber-100",children:u.name}),l.jsx("div",{className:"text-stone-400 text-sm",children:u.description})]})]}),l.jsxs("div",{className:"bg-stone-950 px-3 py-1 rounded text-amber-500 font-mono text-sm border border-stone-800",children:["Lvl ",u.level," / ",u.maxLevel]})]}),l.jsxs("div",{className:"bg-black/30 p-3 rounded-lg mb-4 text-sm text-stone-300 border border-stone-800/50",children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{children:"Current Bonus:"}),l.jsxs("span",{className:"text-green-400 font-bold",children:[u.bonus.replace("/ Lvl","")," (x",u.level-1,")"]})]}),l.jsxs("div",{className:"text-xs text-stone-500 italic mt-1",children:[u.bonus," per level"]})]}),l.jsx("button",{onClick:()=>m(u.id),disabled:h||!b,className:`w-full py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all duration-200
                                        ${h?"bg-green-900/50 text-green-400 cursor-default border border-green-900":b?"bg-amber-700 hover:bg-amber-600 text-white shadow-lg border border-amber-600":"bg-stone-800 text-stone-500 cursor-not-allowed border border-stone-700"}`,children:h?l.jsxs(l.Fragment,{children:["Match ",l.jsx(ai,{size:18})," MAX LEVEL"]}):l.jsxs(l.Fragment,{children:[l.jsx(Wm,{size:18}),"Upgrade (",Xe(u.cost)," Gold)"]})})]},u.id)})}),l.jsx("div",{className:"mt-6 text-center text-stone-500 text-sm",children:"Invest in your town to unlock permanent bonuses for your guild."})]})}):null;function my({onClose:c,heroes:f,pets:d,cards:o,items:m,onDuel:u}){const[h,b]=z.useState("heroes"),g=os.length,p=new Set(f.map(q=>q.name)).size,j=Object.keys(xd).length,N=new Set(d.map(q=>q.type)).size,y=Vs.length,v=o.length,_=m.filter(q=>q.rarity==="legendary").length,H=(q,M)=>{const O=typeof M=="number"?Math.min(100,Math.floor(q/M*100)):0;return l.jsxs("div",{className:"flex items-center gap-2 text-xs mb-4",children:[l.jsx("span",{className:"text-gray-400",children:"Progress:"}),l.jsx("div",{className:"flex-1 h-2 bg-gray-800 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-yellow-500 transition-all duration-1000",style:{width:`${O}%`}})}),l.jsxs("span",{className:"text-yellow-400 font-bold",children:[q," / ",M]})]})};return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-900 border border-yellow-700/50 rounded-xl w-full max-w-4xl max-h-[85vh] flex flex-col relative shadow-2xl",children:[l.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:l.jsx(Bt,{className:"w-6 h-6"})}),l.jsxs("div",{className:"p-6 border-b border-gray-800",children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3 text-yellow-500",children:[l.jsx(Qm,{className:"w-8 h-8"}),"The Museum"]}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"A collection of your discoveries and conquests across the realms."})]}),l.jsxs("div",{className:"flex border-b border-gray-800",children:[l.jsxs("button",{onClick:()=>b("heroes"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ${h==="heroes"?"text-yellow-400 border-b-2 border-yellow-500 bg-gray-800/50":"text-gray-500 hover:text-gray-300"}`,children:[l.jsx(tb,{className:"w-4 h-4"})," Hall of Heroes"]}),l.jsxs("button",{onClick:()=>b("pets"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ${h==="pets"?"text-pink-400 border-b-2 border-pink-500 bg-gray-800/50":"text-gray-500 hover:text-gray-300"}`,children:[l.jsx(Pn,{className:"w-4 h-4"})," Menagerie"]}),l.jsxs("button",{onClick:()=>b("cards"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ${h==="cards"?"text-blue-400 border-b-2 border-blue-500 bg-gray-800/50":"text-gray-500 hover:text-gray-300"}`,children:[l.jsx(tx,{className:"w-4 h-4"})," Library (Cards)"]}),l.jsxs("button",{onClick:()=>b("artifacts"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ${h==="artifacts"?"text-orange-400 border-b-2 border-orange-500 bg-gray-800/50":"text-gray-500 hover:text-gray-300"}`,children:[l.jsx(gl,{className:"w-4 h-4"})," Artifacts"]})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[h==="heroes"&&l.jsxs("div",{children:[H(p,g),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-4",children:os.map((q,M)=>{const O=f.some(P=>P.name===q.name);return l.jsxs("div",{className:`p-3 rounded border flex flex-col items-center gap-2 text-center transition-all ${O?"bg-gray-800 border-gray-600":"bg-gray-950 border-gray-800 grayscale opacity-50"}`,children:[l.jsx("div",{className:"text-2xl",children:O?"":"?"}),l.jsx("div",{className:"text-sm font-bold truncate w-full",children:O?q.name:"Unknown"}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:q.class})]},M)})})]}),h==="pets"&&l.jsxs("div",{children:[H(N,j),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-4",children:Object.values(xd).map((q,M)=>{const O=d.some(P=>P.type===q.type);return l.jsxs("div",{className:`p-3 rounded border flex flex-col items-center gap-2 text-center transition-all ${O?"bg-pink-900/20 border-pink-700":"bg-gray-950 border-gray-800 grayscale opacity-50"}`,children:[l.jsx("div",{className:"text-2xl",children:O?q.emoji:"?"}),l.jsx("div",{className:"text-sm font-bold truncate w-full",children:O?q.name:"Unknown"}),l.jsx("div",{className:"text-[10px] text-gray-500",children:q.ability})]},M)})})]}),h==="cards"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H(v,y),l.jsxs("button",{onClick:u,className:"px-3 py-1 bg-indigo-600 hover:bg-indigo-500 text-white rounded text-xs font-bold flex items-center gap-1 animate-pulse",children:[l.jsx(gl,{size:12})," ENTER BATTLE ARENA"]})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:Vs.map((q,M)=>{const O=o.find(P=>P.monsterName===q.name);return l.jsxs("div",{className:`p-3 rounded border flex flex-col items-center gap-2 text-center relative overflow-hidden ${O?"bg-blue-900/20 border-blue-700":"bg-gray-950 border-gray-800 grayscale opacity-40"}`,children:[l.jsx("div",{className:"text-xl font-bold z-10",children:O?q.name:"???"}),O&&l.jsxs("div",{className:"text-[10px] text-blue-300 z-10",children:["Count: ",O.count,"  ",O.stat.toUpperCase()," +",O.value]}),l.jsx("div",{className:"absolute inset-0 opacity-10 bg-gradient-to-br from-blue-500 to-transparent"})]},M)})})]}),h==="artifacts"&&l.jsxs("div",{children:[H(_,"Unknown"),l.jsx("div",{className:"text-xs text-gray-400 mb-4 bg-gray-800 p-2 rounded",children:"Showing currently owned Legendary items."}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:m.filter(q=>q.rarity==="legendary").length>0?m.filter(q=>q.rarity==="legendary").map((q,M)=>l.jsxs("div",{className:"p-3 rounded border border-orange-500 bg-orange-900/20 flex flex-col items-center text-center gap-2",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsx("div",{className:"text-sm font-bold text-orange-300",children:q.name}),l.jsx("div",{className:"text-[10px] text-orange-200/70",children:q.type})]},M)):l.jsx("div",{className:"col-span-full text-center text-gray-500 py-10 italic",children:"No legendary artifacts discovered yet. Continue your adventure!"})})]})]})]})})}const xy=({isOpen:c,onClose:f,heroes:d,onAssign:o})=>{if(!c)return null;const m=d.filter(u=>!u.isDead);return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-slate-900 border border-orange-500/30 rounded-lg p-6 max-w-2xl w-full shadow-2xl relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-orange-900/10 pointer-events-none"}),l.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-orange-500/20 rounded-full blur-[100px] pointer-events-none"}),l.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[l.jsxs("h2",{className:"text-2xl font-bold font-display text-orange-400 flex items-center gap-2",children:[l.jsx(cs,{className:"w-8 h-8 animate-pulse text-orange-500"}),"Cozy Campfire"]}),l.jsx("button",{onClick:f,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(Bt,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[60vh] overflow-y-auto pr-2 relative z-10 custom-scrollbar",children:m.map(u=>{const h=u.assignment==="campfire",b=u.fatigue||0,g=u.maxFatigue||100,p=b/g*100;let j="text-green-400";return p>=80?j="text-red-500":p>=50&&(j="text-yellow-400"),l.jsxs("div",{className:`p-4 rounded-lg border transition-all ${h?"bg-orange-900/20 border-orange-500/50 shadow-[inset_0_0_20px_rgba(249,115,22,0.1)]":"bg-slate-800/50 border-slate-700 hover:border-slate-600"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg text-slate-200",children:u.name}),l.jsxs("div",{className:"text-xs text-slate-400",children:["Lvl ",u.level," ",u.class]})]}),h&&l.jsx($1,{className:"w-5 h-5 text-orange-400"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[l.jsxs("span",{className:"flex items-center gap-1",children:["Fatigue",p>=50&&l.jsx(ax,{className:`w-3 h-3 ${j}`})]}),l.jsxs("span",{className:j,children:[Math.floor(b)," / ",g]})]}),l.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-500 ${p>=80?"bg-red-500":p>=50?"bg-yellow-500":"bg-emerald-500"}`,style:{width:`${p}%`}})}),p>=80&&l.jsx("div",{className:"text-[10px] text-red-400 mt-1",children:"Severe Stats Penalty (-30%)"}),p>=50&&p<80&&l.jsx("div",{className:"text-[10px] text-yellow-400 mt-1",children:"Minor Stats Penalty (-10%)"})]}),l.jsx("div",{className:"flex gap-2",children:h?l.jsx("button",{onClick:()=>o(u.id,"combat"),className:"flex-1 py-2 bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 border border-emerald-500/30 rounded text-sm font-medium transition-colors flex items-center justify-center gap-2",children:"Return to Combat"}):l.jsxs("button",{onClick:()=>o(u.id,"campfire"),className:"flex-1 py-2 bg-orange-600/20 hover:bg-orange-600/30 text-orange-400 border border-orange-500/30 rounded text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[l.jsx(jg,{className:"w-4 h-4"}),"Rest by Fire"]})})]},u.id)})}),l.jsx("div",{className:"mt-6 text-center text-xs text-slate-500 relative z-10",children:"Resting recovers 5 Fatigue per second. Combat generates 1 Fatigue every ~10s."})]})})},py=({isOpen:c,onClose:f,worldBoss:d,personalDamage:o,canClaim:m,attackAction:u,claimAction:h})=>{if(!c)return null;if(!d)return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg border-2 border-gray-600 text-center max-w-md w-full",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-400 mb-4",children:"World Boss"}),l.jsx("p",{className:"text-gray-500",children:"The boss has fled or been defeated. A new titan will emerge soon..."}),l.jsx("button",{onClick:f,className:"mt-6 px-4 py-2 bg-gray-700 rounded hover:bg-gray-600 w-full",children:"Close"})]})});const b=d.globalHp/d.maxGlobalHp*100,g=Math.max(0,Math.floor((d.endTime-Date.now())/1e3)),p=Math.floor(g/3600),j=Math.floor(g%3600/60);return l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 w-full max-w-2xl rounded-xl border-2 border-red-900 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"bg-red-950 p-4 border-b border-red-800 flex justify-between items-center",children:[l.jsxs("h2",{className:"text-xl font-bold text-red-200 flex items-center gap-2",children:[l.jsx($a,{className:"text-red-500"})," Global Raid: ",d.name]}),l.jsx("button",{onClick:f,className:"text-red-300 hover:text-white",children:""})]}),l.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-1 flex flex-col items-center gap-6",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"text-9xl animate-pulse drop-shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:d.emoji}),l.jsxs("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 bg-black/60 px-3 py-1 rounded text-red-300 text-sm font-mono border border-red-900 whitespace-nowrap",children:["Tier ",d.tier," Titan"]})]}),l.jsxs("div",{className:"w-full max-w-lg space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-xs text-red-200 uppercase font-bold tracking-wider",children:[l.jsx("span",{children:"Global HP"}),l.jsxs("span",{children:[Xe(d.globalHp)," / ",Xe(d.maxGlobalHp)]})]}),l.jsx("div",{className:"h-4 bg-gray-950 rounded-full border border-red-900 overflow-hidden relative",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-red-900 via-red-600 to-red-500 transition-all duration-300",style:{width:`${b}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-lg",children:[l.jsxs("div",{className:"bg-gray-800 p-3 rounded border border-gray-700 flex items-center gap-3",children:[l.jsx(lb,{className:"text-blue-400",size:20}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Participants"}),l.jsx("div",{className:"text-gray-200 font-mono",children:Xe(d.participants)})]})]}),l.jsxs("div",{className:"bg-gray-800 p-3 rounded border border-gray-700 flex items-center gap-3",children:[l.jsx(ei,{className:"text-amber-400",size:20}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Time Remaining"}),l.jsxs("div",{className:"text-gray-200 font-mono",children:[p,"h ",j,"m"]})]})]})]}),l.jsxs("div",{className:"w-full max-w-lg bg-gray-800/50 p-4 rounded-lg border border-gray-700 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2",children:[l.jsxs("span",{className:"text-gray-300 font-bold flex items-center gap-2",children:[l.jsx(Dm,{className:"text-yellow-500",size:16})," Your Contribution"]}),l.jsxs("span",{className:"text-yellow-400 font-mono text-lg",children:[Xe(o)," Dmg"]})]}),l.jsx("div",{className:"text-xs text-gray-500 text-center italic mt-1",children:"Rewards are based on your total damage contribution."})]}),l.jsx("div",{className:"w-full max-w-lg flex flex-col gap-3 mt-auto",children:m?l.jsxs("button",{onClick:h,className:"w-full py-4 bg-gradient-to-r from-yellow-700 to-yellow-500 text-white font-bold rounded-lg border-2 border-yellow-300 shadow-[0_0_15px_rgba(234,179,8,0.3)] hover:scale-[1.02] active:scale-[0.98] transition-all flex justify-center items-center gap-2 text-xl animate-pulse",children:[l.jsx(Dm,{size:24})," CLAIM REWARDS"]}):l.jsxs("button",{onClick:u,disabled:d.isDead,className:"w-full py-4 bg-gradient-to-r from-red-900 to-red-700 text-white font-bold rounded-lg border-2 border-red-500 shadow-[0_0_15px_rgba(220,38,38,0.3)] hover:scale-[1.02] active:scale-[0.98] transition-all flex justify-center items-center gap-2 text-xl disabled:opacity-50 disabled:grayscale group",children:[l.jsx(xn,{className:"group-hover:rotate-12 transition-transform",size:24}),d.isDead?"BOSS DEFEATED":"ATTACK BOSS"]})})]})]})})},hy=(c,f,d)=>{let o=0,m=0;const u=[];u.push(`Battle Started: YOU vs ${f.name}!`);for(let g=0;g<3;g++){const p=c[g%c.length],j=f.deck[g%f.deck.length];let N=d.find(q=>q.id===j);N||(N={id:j,monsterName:"Unknown",count:1,stat:"attack",value:0});const y=["attack","defense","speed","gold","xp"],v=y[Math.floor(Math.random()*y.length)];u.push(`Round ${g+1}: Competing in ${v.toUpperCase()}!`),u.push(`${p.monsterName} (${p.stat}) vs ${N.monsterName} (${N.stat})`);let _=p.value*p.count;p.stat===v&&(_*=2);let H=N.value*(1+f.difficulty*.5);N.stat===v&&(H*=2),_*=.9+Math.random()*.2,H*=.9+Math.random()*.2,_>H?(o++,u.push(`WIN! Your ${p.monsterName} overpowered the enemy!`)):(m++,u.push(`LOSS! ${N.monsterName} was too strong!`))}const h=o>m?"player":"opponent";u.push(h==="player"?"VICTORY!":"DEFEAT!");const b={winner:h,score:{player:o,opponent:m},logs:u};return h==="player"&&(b.reward={type:"starlight",amount:5+Math.floor(f.difficulty*2)}),b},gy=({isOpen:c,onClose:f,cards:d,onWin:o})=>{const[m,u]=z.useState(null),[h,b]=z.useState([]),[g,p]=z.useState(null);if(!c)return null;const j=v=>{h.includes(v)?b(_=>_.filter(H=>H!==v)):h.length<3&&b(_=>[..._,v])},N=()=>{if(!m||h.length!==3)return;const v=d.filter(H=>h.includes(H.id)),_=hy(v,m,d);p(_),_.winner==="player"&&o(m.id,m.difficulty)},y=()=>{p(null),u(null),b([])};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gradient-to-br from-indigo-950 to-slate-900 border-4 border-indigo-500 w-full max-w-4xl p-6 rounded-lg shadow-2xl relative max-h-[90vh] flex flex-col",children:[l.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:""}),l.jsxs("h2",{className:"text-3xl font-bold text-center mb-6 text-indigo-400 flex items-center justify-center gap-3",children:[l.jsx(xn,{size:32})," MONSTER DUEL"]}),g?l.jsxs("div",{className:"flex flex-col items-center justify-center text-center animate-in fade-in zoom-in duration-300",children:[l.jsx("div",{className:"text-6xl mb-4",children:g.winner==="player"?"":""}),l.jsx("h3",{className:`text-4xl font-black mb-2 ${g.winner==="player"?"text-yellow-400":"text-red-500"}`,children:g.winner==="player"?"VICTORY!":"DEFEAT!"}),l.jsxs("div",{className:"text-xl text-slate-300 mb-6",children:["Score: ",g.score.player," - ",g.score.opponent]}),l.jsx("div",{className:"w-full max-w-lg bg-black/50 p-4 rounded-lg text-left font-mono text-sm text-slate-300 h-48 overflow-y-auto custom-scrollbar mb-6 border border-slate-700",children:g.logs.map((v,_)=>l.jsx("div",{className:"mb-1",children:v},_))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:y,className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 rounded text-white font-bold",children:"Play Again"}),l.jsx("button",{onClick:f,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 rounded text-white font-bold",children:"Close"})]})]}):l.jsxs("div",{className:"flex-1 overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-indigo-900",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-200 mb-4",children:"Select Opponent"}),l.jsx("div",{className:"space-y-3",children:lh.map(v=>l.jsx("div",{onClick:()=>u(v),className:`p-3 rounded-lg border cursor-pointer transition-all flex items-center justify-between
                                            ${m?.id===v.id?"bg-indigo-900 border-indigo-400":"bg-slate-800 border-slate-700 hover:bg-slate-700"}
                                        `,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:v.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:v.name}),l.jsxs("div",{className:"text-xs text-slate-400",children:["Dim. Level ",v.difficulty]})]})]})},v.id))})]}),l.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-indigo-900 flex flex-col",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-200 mb-4 flex justify-between",children:l.jsxs("span",{children:["Select 3 Cards (",h.length,"/3)"]})}),l.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-3 gap-2 pr-2 custom-scrollbar max-h-60",children:d.map(v=>l.jsxs("div",{onClick:()=>j(v.id),className:`p-2 rounded border cursor-pointer text-center relative
                                            ${h.includes(v.id)?"bg-green-900 border-green-400":"bg-slate-800 border-slate-700 hover:bg-slate-700"}
                                        `,children:[l.jsx("div",{className:"text-2xl mb-1",children:v.id}),l.jsx("div",{className:"text-xs font-bold text-white truncate",children:v.monsterName}),l.jsx("div",{className:"text-[10px] text-slate-400 uppercase",children:v.stat})]},v.id))}),l.jsx("button",{onClick:N,disabled:!m||h.length!==3,className:`mt-4 w-full py-3 rounded-lg font-bold text-lg
                                    ${!m||h.length!==3?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-500/20"}
                                `,children:"START DUEL"})]})]})]})})};function by(){const{heroes:c,boss:f,logs:d,gameSpeed:o,isSoundOn:m,souls:u,gold:h,divinity:b,pets:g,offlineGains:p,talents:j,artifacts:N,cards:y,constellations:v,keys:_,dungeonActive:H,dungeonTimer:q,resources:M,items:O,ultimateCharge:P,raidActive:ye,raidTimer:Ee,tower:ge,guild:I,voidMatter:le,voidActive:ce,voidTimer:be,arenaRank:Me,glory:Ge,quests:mt,runes:Fe,achievements:xe,starlight:B,starlightUpgrades:Z,autoSellRarity:re,arenaOpponents:ke,victory:Ce,actions:w,partyDps:L,partyPower:K,combatEvents:se,theme:pe,galaxy:ve,monsterKills:De,gameStats:Ke,assignHero:Ne,showCampfire:Ie,setShowCampfire:it,activeExpeditions:yt,activePotions:Dt,gardenPlots:xt,setGardenPlots:Qt,setResources:Le,setGold:tt,marketStock:Pe,marketTimer:vt,buyMarketItem:Ft,dungeonMastery:At,buyMasteryUpgrade:Ya,activeRift:ga,riftTimer:pt,exitRift:ua,startRift:Rl,selectBlessing:bl,riftState:za,worldBoss:al,worldBossDamage:ds,worldBossCanClaim:qs,breedPets:yl,territories:ba,attackTerritory:Je,weather:na,weatherTimer:Gt,buildings:$s,upgradeBuilding:Ul,dailyQuests:us,dailyLoginClaimed:ia,claimLoginReward:ll,claimDailyQuest:sl,checkDailies:ya,winCardBattle:va,equipItem:nl,unequipItem:Ll,spaceship:ne,upgradeSpaceship:vl,dungeonState:fa,moveDungeon:Tt,exitDungeon:te,handleDungeonEvent:at,descendDungeon:rt,synergies:ue,voidAscensions:We,formations:jt,saveFormation:ja,loadFormation:ra,deleteFormation:bt}=$h(),[Jt,Ea]=z.useState(!1),[Ha,Ys]=z.useState(!1),[fs,Bl]=z.useState(!1),[_t,Pt]=z.useState(!1),[Qa,il]=z.useState(!1),[rl,Na]=z.useState(!1),[Nt,jl]=z.useState(!1),[Nl,ma]=z.useState(!1),[ol,ms]=z.useState(!1),[Qs,wl]=z.useState(!1),[li,Oa]=z.useState(!1),[xs,oa]=z.useState(!1),[xa,pa]=z.useState(!1),[si,Sl]=z.useState(!1),[pn,cl]=z.useState(!1),[ni,Wt]=z.useState(!1),[Ks,Ml]=z.useState(!1),[Zs,Ra]=z.useState(!1),[hn,Gl]=z.useState(!1),[kl,ps]=z.useState(!1),[Fs,dl]=z.useState(!1),[hs,Cl]=z.useState(!1),[C,T]=z.useState(!1),[k,A]=z.useState(!1),[$,ae]=z.useState(!1),[he,Be]=z.useState(!1),[Ve,zt]=z.useState(!1),[Vl,ea]=z.useState(!1),[Js,Ae]=z.useState(!1),[_e,ca]=z.useState(!1),[Dl,Al]=z.useState(!1),[gs,Xl]=z.useState(!1),[gn,Kt]=z.useState(!1),[wa,ql]=z.useState(!1),[Ka,Sa]=z.useState(!1),[ul,Tl]=z.useState(null),[$l,Yl]=z.useState("");z.useEffect(()=>{const wt=Ct=>{Ct.target.tagName==="INPUT"||Ct.target.tagName==="TEXTAREA"||(Ct.key==="Escape"&&(Ea(!1),ms(!1),wl(!1),Oa(!1),pa(!1),Sl(!1),cl(!1),Wt(!1),Ml(!1),Ra(!1),Gl(!1),ps(!1),dl(!1),Cl(!1),A(!1),ma(!1),Ml(!1),Ra(!1),Gl(!1),ps(!1),dl(!1),Cl(!1),A(!1),ma(!1),T(!1),Ae(!1),ca(!1),Al(!1)),Ct.key.toLowerCase()==="s"&&Ea(Et=>!Et),Ct.key.toLowerCase()==="i"&&cl(Et=>!Et),Ct.key.toLowerCase()==="t"&&ms(Et=>!Et),Ct.key.toLowerCase()==="c"&&Oa(Et=>!Et),Ct.key.toLowerCase()==="h"&&ma(Et=>!Et),Ct.key.toLowerCase()==="g"&&Ml(Et=>!Et),Ct.key.toLowerCase()==="r"&&dl(Et=>!Et),Ct.key.toLowerCase()==="a"&&Cl(Et=>!Et))};return window.addEventListener("keydown",wt),()=>window.removeEventListener("keydown",wt)},[]);const Ws=wt=>{if(za?.active)return"bg-rift";if(H)return"bg-amber-500";if(ce)return"bg-void animate-pulse";if(ge.active)return"bg-slate-900";if(wt>900)return"bg-void";if(wt>40)return"bg-lava";if(wt>20)return"bg-ice";const Ct=wt%3;return Ct===1?"bg-forest":Ct===2?"bg-cave":"bg-dungeon"},bs=wt=>{switch(wt){case"midnight":return"bg-slate-900 border-blue-900 text-blue-100";case"forest":return"bg-green-950 border-green-800 text-green-100";case"crimson":return"bg-red-950 border-red-900 text-red-100";case"void":return"bg-purple-950 border-purple-900 text-purple-100";default:return"bg-gray-800 border-gray-600 text-gray-200"}};z.useEffect(()=>{ya&&ya(),ia===!1&&Pt(!0)},[ia]);const bn=bs(pe);return l.jsxs("div",{className:`h-screen w-full flex flex-col items-center justify-center p-2 relative overflow-hidden ${ye?"bg-red-900":Ws(f.level)}`,children:[l.jsx("div",{className:"crt-overlay"}),l.jsxs("div",{className:`w-full max-w-4xl h-full max-h-[900px] flex flex-col bg-opacity-95 border-4 rounded-lg shadow-2xl relative z-10 backdrop-blur-sm transition-colors duration-500 ${bn}`,children:[l.jsx(fb,{boss:f,souls:u,gold:h,divinity:b,resources:M,keys:_,dungeonActive:H,raidActive:ye,raidTimer:Ee,isSoundOn:m,gameSpeed:o,actions:w,tower:ge,guild:I,voidMatter:le,voidActive:ce,voidTimer:be,setShowShop:Ea,setShowTavern:ms,setShowStars:wl,setShowForge:Sl,setShowInventory:cl,setShowBestiary:Oa,setShowSettings:pa,setShowStats:oa,setShowTower:Wt,setShowGuild:Ml,setShowVoid:Ra,setShowArena:Gl,setShowQuests:ps,setShowDailyRewards:Pt,setShowGalaxy:ae,setShowLeaderboard:ea,setShowRiftModal:jl,setShowBreedingModal:Kt,setShowGuildWar:ql,weather:na,weatherTimer:Gt,setShowMuseum:Sa,setShowTown:Ys,setShowCampfire:it,setShowStarForge:zt,setShowWorldBoss:Be,setShowRunes:dl,setShowAchievements:Cl,setShowStarlight:A,setShowHelp:ma,setShowFishing:Ae,setShowAlchemy:ca,setShowExpeditions:Al,setShowGarden:Xl}),l.jsx(wb,{boss:f,dungeonActive:H,dungeonTimer:q,ultimateCharge:P,pets:g,actions:w,artifacts:N,heroes:c,partyDps:L,partyPower:K,combatEvents:se,synergies:ue}),l.jsx(vb,{heroes:c,activeSynergies:ue,actions:{...w,formations:jt,saveFormation:ja,loadFormation:ra,deleteFormation:bt},onOpenGear:wt=>Tl(wt.id)}),l.jsx(Sb,{logs:d,onShowHistory:()=>T(!0)}),l.jsxs("div",{className:"bg-gray-800 p-1 border-t-4 border-gray-600 flex justify-between items-center text-[10px] text-gray-500",children:[l.jsxs("span",{children:["Terras Eternas do Abismo v2.8 - ",b>0?`Divinity Rank ${b}`:"Mortal Realm"]}),l.jsx("div",{className:"text-[10px] text-gray-600",children:"Phase 21: Mastery Update"})]})]}),l.jsx(Bb,{isOpen:Ce,playTime:Ke.playTime,ascensions:We,onContinue:()=>w.setVictory(!1)}),l.jsx(Zb,{isOpen:C,onClose:()=>T(!1),logs:d}),l.jsx(Ob,{isOpen:Nl,onClose:()=>ma(!1)}),l.jsx(Rb,{offlineGains:p,onClose:w.closeOfflineModal}),l.jsx(Tb,{isOpen:Qs,onClose:()=>wl(!1),divinity:b,constellations:v,actions:w}),l.jsx(Eb,{isOpen:li,onClose:()=>Oa(!1),monsterKills:De,cards:y}),l.jsx(_b,{isOpen:xa,onClose:()=>pa(!1),actions:w,importString:$l,setImportString:Yl,autoSellRarity:re,theme:pe}),Jt&&l.jsx(Mb,{isOpen:!0,onClose:()=>Ea(!1),souls:u,talents:j,boss:f,actions:w}),ol&&l.jsx(Cb,{heroes:c,gold:h,summonTavern:w.summonTavernLine,onClose:()=>ms(!1),setGold:tt}),si&&l.jsx(Ab,{resources:M,forgeUpgrade:w.forgeUpgrade,onClose:()=>Sl(!1),setResources:Le}),pn&&l.jsx(zb,{isOpen:!0,items:O,onClose:()=>cl(!1)}),l.jsx(Gb,{isOpen:ni,onClose:()=>Wt(!1),tower:ge,actions:w,starlight:B}),l.jsx(Vb,{isOpen:Ks,onClose:()=>Ml(!1),guild:I,gold:h,actions:w}),l.jsx(Xb,{isOpen:Zs,onClose:()=>Ra(!1),voidMatter:le,actions:w,voidAscensions:We}),l.jsx(qb,{isOpen:hn,onClose:()=>Gl(!1),rank:Me,glory:Ge,heroes:c,opponents:ke,onFight:w.fightArena}),kl&&l.jsx($b,{quests:mt,onClose:()=>ps(!1),onClaim:w.claimQuest}),l.jsx(Yb,{isOpen:Fs,onClose:()=>dl(!1),items:O,resources:M,souls:u,actions:w,runes:Fe}),hs&&l.jsx(Qb,{isOpen:hs,achievements:xe,stats:Ke,onClose:()=>Cl(!1)}),l.jsx(Hb,{isOpen:xs,onClose:()=>oa(!1),stats:Ke}),l.jsx(Kb,{isOpen:k,onClose:()=>A(!1),starlight:B,upgrades:Z,onBuy:w.buyStarlightUpgrade}),l.jsx(Fb,{isOpen:$,onClose:()=>ae(!1),galaxy:ve,onConquer:w.attackSector,partyPower:K,starlightUpgrades:Z,spaceship:ne,onUpgradeShip:vl,towerFloor:ge.floor,voidAscensions:We,onAscend:w.ascendToVoid}),l.jsx(ey,{isOpen:Js,onClose:()=>Ae(!1),fishCount:M.fish||0,setFish:()=>w.manualFish&&w.manualFish()}),l.jsx(ty,{isOpen:_e,onClose:()=>ca(!1),resources:M,activePotions:Dt||[],brewPotion:w.brewPotion}),l.jsx(ay,{isOpen:Dl,onClose:()=>Al(!1),activeExpeditions:yt||[],heroes:c,startExpedition:w.startExpedition}),l.jsx(ly,{isOpen:gs,onClose:()=>Xl(!1),plots:xt||[],setPlots:Qt,resources:M,setResources:Le,gold:h,setGold:tt}),l.jsx(ny,{isOpen:Qa,onClose:()=>il(!1),stock:Pe||[],buyItem:Ft,gold:h,divinity:b,voidMatter:le,timer:vt}),ga&&l.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 bg-red-900/90 border-2 border-red-500 text-white px-6 py-2 rounded-full z-50 flex items-center gap-4 shadow-[0_0_20px_rgba(220,38,38,0.5)] animate-pulse backdrop-blur-md",children:[l.jsxs("span",{className:"font-bold uppercase tracking-widest text-sm flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-ping"}),ga.name]}),l.jsxs("span",{className:"font-mono text-xl text-yellow-300 font-bold",children:[pt,"s"]}),l.jsx("button",{onClick:()=>ua(!1),className:"bg-black/50 hover:bg-black/80 px-3 py-1 rounded text-xs border border-red-500/50 uppercase font-bold tracking-wider hover:text-red-400 transition-colors",children:"Abandon"})]}),l.jsx(oy,{isOpen:Nt,onClose:()=>jl(!1),riftState:za,startRift:Rl,selectBlessing:bl,exitRift:ua,gameStats:Ke}),gn&&l.jsx(cy,{isOpen:!0,onClose:()=>Kt(!1),pets:g,breedPets:yl,gold:h}),wa&&l.jsx(uy,{onClose:()=>ql(!1),territories:ba,onAttack:Je,partyPower:K}),l.jsx(fy,{isOpen:Ha,onClose:()=>Ys(!1),buildings:$s,gold:h,upgradeBuilding:Ul}),Ka&&l.jsx(my,{onClose:()=>Sa(!1),heroes:c,pets:g,cards:y,items:O,onDuel:()=>{Sa(!1),Bl(!0)}}),l.jsx(gy,{isOpen:fs,onClose:()=>Bl(!1),cards:y,onWin:va,stats:Ke}),l.jsx(Jb,{isOpen:Vl,onClose:()=>ea(!1),entries:ah,currentPower:K}),H&&l.jsx(Wb,{dungeon:fa,onMove:(wt,Ct)=>{const Et=Tt(wt,Ct);Et&&at(Et)},onDescend:rt,onExit:te,onOpenMastery:()=>Na(!0)}),l.jsx(sy,{isOpen:rl,onClose:()=>Na(!1),mastery:At,tokens:M.dungeonTokens||0,buyUpgrade:Ya}),_t&&l.jsx(Ub,{onClose:()=>Pt(!1),dailyQuests:us||[],gameStats:Ke,claimLoginReward:ll,claimDailyQuest:sl,dailyLoginClaimed:ia}),ul&&l.jsx(Lb,{isOpen:!!ul,hero:c.find(wt=>wt.id===ul),inventory:O,onClose:()=>Tl(null),onEquip:nl,onUnequip:Ll}),l.jsx(Pb,{isOpen:Ve,onClose:()=>zt(!1),starFragments:M.starFragments||0,gold:h,onCraft:w.craftStarForgedItem}),l.jsx(py,{isOpen:he,onClose:()=>Be(!1),worldBoss:al||null,personalDamage:ds||0,canClaim:qs||!1,attackAction:w.attackWorldBoss,claimAction:w.claimWorldBossReward}),l.jsx(xy,{isOpen:Ie,onClose:()=>it(!1),heroes:c,onAssign:Ne})]})}Zp.createRoot(document.getElementById("root")).render(l.jsx(z.StrictMode,{children:l.jsx(by,{})}));
